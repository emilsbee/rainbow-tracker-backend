(this["webpackJsonprainbow-tracker"]=this["webpackJsonprainbow-tracker"]||[]).push([[0],{197:function(e,t,n){},198:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},361:function(e,t,n){},362:function(e,t,n){},363:function(e,t,n){},364:function(e,t,n){},365:function(e,t,n){},366:function(e,t,n){},367:function(e,t,n){},371:function(e,t,n){},372:function(e,t,n){},373:function(e,t,n){},374:function(e,t,n){},375:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(72),i=n.n(c),o=n(11),s=n(100),l=n(3),u=n.n(l),d=n(9),f=n(29),y=n(22),h=n(5),p=(n(197),n(13)),b=Object(o.e)(),g=b.useStoreActions,v=(b.useStoreDispatch,b.useStoreState),j=(n(198),n(1)),m=function(e){var t=e.onClick,n=e.handleCloseModal,r=v((function(e){return e.settings.categoryTypes}));return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"popover-container",onMouseLeave:n,style:{cursor:"pointer"},children:[r.map((function(e,n){return e.archived?null:Object(j.jsx)("div",{className:"color-square",onClick:function(){return t(e.categoryid)},style:{backgroundColor:e.color,borderTopLeftRadius:0===n?"3px":"0",borderTopRightRadius:0===n?"3px":"0"}},e.categoryid)})),Object(j.jsx)("div",{className:"default-color-square",onClick:function(){return t(null)}})]})})},x=(n(200),function(e){var t=e.onClick,n=e.handleCloseModal,r=e.categoryid,a=v((function(e){return e.settings.activityTypes}));return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{id:"activity-popover-container",onMouseLeave:n,style:{cursor:"pointer"},children:[a.map((function(e,n){return e.categoryid!==r||e.archived?null:Object(j.jsx)("div",{id:"activity-popover-item",onClick:function(){return t(e.activityid)},style:{borderTopLeftRadius:0===n?"5px":"0",borderTopRightRadius:0===n?"5px":"0"},children:e.short},e.activityid)})),Object(j.jsx)("div",{id:"activity-popover-item-default",onClick:function(){return t(null)}})]})})}),O=(n(201),function(e){var t=e.short,n=e.categoryid,r=e.onClick,a=e.block;return Object(j.jsx)("div",{className:"activity-container ".concat(n&&!a&&"activity-container-active"),onClick:function(){""===n||a||r()},children:t})}),w=(n(202),function(e,t){for(var n=0;n<t.length;n++){if(t[n].categoryid===e)return!0}return!1});var k=function(e){var t=e.category,n=e.onDragStart,a=e.onDragEnter,c=g((function(e){return e.settings.setHoverIndex})),i=g((function(e){return e.categories.setCategory})),o=g((function(e){return e.categories.setActivity})),s=v((function(e){return e.settings.activityTypes})),l=v((function(e){return e.settings.categoryTypes})),u=Object(r.useState)(!1),d=Object(h.a)(u,2),f=d[0],y=d[1],p=Object(r.useState)(!1),b=Object(h.a)(p,2),k=b[0],T=b[1];return Object(j.jsxs)("div",{id:"category-activity-container",onMouseOver:function(){return c({timeHoverIndex:t.categoryPosition-1})},children:[Object(j.jsx)("div",{id:"category-container",onDragEnter:function(){return a(t)},onDragStart:function(e){return n(e,t)},draggable:!0,onClick:function(){return T(!0)},style:{backgroundColor:function(){if(t.categoryid)for(var e=0;e<l.length;e++)if(l[e].categoryid===t.categoryid)return l[e].color;return"#2A353C"}()}}),Object(j.jsx)(O,{short:function(){if(t.activityid)for(var e=0;e<s.length;e++)if(s[e].activityid===t.activityid)return s[e].short;return""}(),categoryid:t.categoryid,block:!w(t.categoryid,s),onClick:function(){return y(!0)}}),k&&Object(j.jsx)(m,{onClick:function(e){T(!1),i({userid:t.userid,weekid:t.weekid,categoryid:e,weekDay:t.weekDay,categoryPosition:t.categoryPosition,activityid:null,weekDayDate:t.weekDayDate})},handleCloseModal:function(){return T(!1)}}),f&&Object(j.jsx)(x,{categoryid:t.categoryid,onClick:function(e){y(!1),o({activityid:e,weekDay:t.weekDay,categoryPosition:t.categoryPosition})},handleCloseModal:function(){return y(!1)}})]})},T=(n(203),function(e){return parseInt(e.slice(0,-2))}),E=function(e,t,n,r){return"".concat((e-t+1)*T(n)+(e-t)*T(r),"px")},N="22px",D="2px",C=function(e){var t=e.note,n=e.max,r=e.min,a=e.onDragStart,c=e.onDragEnter,i=e.onClick,o=e.onMouseDown,s=g((function(e){return e.settings.setHoverIndex}));return n===r?Object(j.jsx)("div",{className:"note-container",onMouseOver:function(){return s({timeHoverIndex:r-1})},onClick:function(){return i(t)},draggable:!0,onDragStart:function(e){return a(e,t)},onDragOver:function(){return c(t)},children:Object(j.jsx)("p",{className:"note-text",children:t.note})}):Object(j.jsx)("div",{onMouseOver:function(){return s({timeHoverIndex:r-1})},className:"stack-container",style:{height:E(n,r,N,D)},onClick:function(){return i(t)},onMouseDown:function(e){return o(e,t)},draggable:!0,onDragStart:function(e){return a(e,t)},onDragOver:function(){return c(t)},children:Object(j.jsx)("p",{className:"stack-text",style:{WebkitLineClamp:n-r},children:t.note})})},S=function(e,t){var n=-1,r=-1,a=!0;return e.forEach((function(e,c){e.stackid===t&&(a?(n=e.notePosition,r=e.notePosition,a=!1):e.notePosition>n?n=e.notePosition:e.notePosition<r&&(r=e.notePosition))})),{max:n,min:r}};n(204);var _=function(e){var t=e.note,n=e.saveNote,a=e.deleteText,c=e.deleteStack,i=e.stack,o=Object(r.useState)(t.note),s=Object(h.a)(o,2),l=s[0],u=s[1];return Object(j.jsxs)("div",{id:"note-modal-container",onKeyDown:function(e){e.stopPropagation(),"Enter"!==e.key||e.shiftKey?"Escape"===e.key&&(t.note=l,n(t)):(t.note=l,n(t),e.preventDefault())},onClick:function(e){return e.stopPropagation()},children:[Object(j.jsx)("div",{id:"modal-textarea",children:Object(j.jsx)("textarea",{autoFocus:!0,id:"note-modal-input",onChange:function(e){u(e.target.value)},spellCheck:!1,value:l,onKeyUp:function(e){return e.stopPropagation()}})}),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{id:"note-modal-button-container",children:[i&&Object(j.jsx)("div",{id:"note-modal-delete-button",onClick:function(){return c(t)},children:"Delete stack"}),Object(j.jsx)("div",{id:"note-modal-delete-button",onClick:function(){return a(t)},children:"Delete text"})]})})]})},P=(n(205),n(206),function(){var e=Object(d.a)(u.a.mark((function e(t,n,r,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(t,"/analytics/total-per-day/").concat(n,"/?week_number=").concat(r,"&week_year=").concat(a),{method:"GET",mode:"cors",credentials:"include"});case 2:if(!(c=e.sent).ok){e.next=9;break}return e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 9:if(401!==c.status){e.next=13;break}Wr.push("/login"),e.next=18;break;case 13:if(404!==c.status){e.next=17;break}throw new Error("No analytics for this day.");case 17:throw new Error("Fetching analytics failed.");case 18:return e.abrupt("return",{});case 19:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()),I=function(e){var t=e.day,n=e.weekNr,r=e.year,c=v((function(e){return e.auth.uid})),i=a.a.useState(!1),o=Object(h.a)(i,2),s=o[0],l=o[1],f=a.a.useState(""),y=Object(h.a)(f,2),b=(y[0],y[1]),g=a.a.useState(null),m=Object(h.a)(g,2),x=m[0],O=m[1],w=a.a.useState({top:0,right:0,left:0,bottom:0}),k=Object(h.a)(w,2),T=k[0],E=k[1];return a.a.useEffect((function(){Object(d.a)(u.a.mark((function e(){var a,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.getElementsByClassName("day-header ".concat(t))[0],i=a.getBoundingClientRect(),E({top:i.top,bottom:i.bottom,right:i.right,left:i.left}),l(!0),e.prev=4,e.next=7,P(c,t,n,r);case 7:o=e.sent,b(""),O(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),b(e.t0.message);case 15:return e.prev=15,l(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,12,15,18]])})))()}),[t,n,r]),s||!x?null:Object(j.jsx)("table",{className:"main-dashboard__day-analytics-popover",style:{top:T.bottom,left:T.left+30},children:x.categories.map((function(e){return Object(j.jsxs)("tr",{className:"main-dashboard__day-analytics-popover__row",children:[Object(j.jsx)("td",{children:Object(j.jsx)("div",{className:"main-dashboard__day-analytics-popover__category-color",style:{backgroundColor:e.color}})}),Object(j.jsx)("td",{children:e.name}),Object(j.jsxs)("td",{style:{paddingLeft:"15px"},children:[p.Duration.fromObject({minutes:15*e.count}).toFormat("h:mm"),"h"]})]})}))})};function A(e){var t=Object(r.useState)(!1),n=Object(h.a)(t,2),a=n[0],c=n[1];function i(t){t.key===e&&c(!0)}var o=function(t){t.key===e&&c(!1)};return Object(r.useEffect)((function(){return window.addEventListener("keydown",i),window.addEventListener("keyup",o),function(){window.removeEventListener("keydown",i),window.removeEventListener("keyup",o)}}),[]),a}function M(e){var t=e.categories,n=e.notes,c=e.weekDay,i=A("Control"),o=v((function(e){return e.settings.currentDate})),s=g((function(e){return e.categories.categoryDragSet})),l=g((function(e){return e.notes.aboveDifference})),u=g((function(e){return e.notes.belowDifference})),d=g((function(e){return e.notes.setNoteText})),f=g((function(e){return e.notes.deleteNoteText})),y=g((function(e){return e.notes.deleteNoteStack})),b=g((function(e){return e.settings.setHoverIndex})),m=a.a.useState(!1),x=Object(h.a)(m,2),O=x[0],w=x[1],T=Object(r.useState)(null),E=Object(h.a)(T,2),N=E[0],D=E[1],P=function(e){i?f(e):D(e)},M=function(){var e=new Image(0,0);return e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e},H=Object(r.useState)(null),L=Object(h.a)(H,2),B=L[0],F=L[1],z=function(e,t){e.dataTransfer.setDragImage(M(),1,1),F(t),b({timeHoverIndex:t.categoryPosition-1})},R=function(e){B&&s({dragPosition:B.categoryPosition,draggedIntoPosition:e.categoryPosition,weekDay:c,dragCategoryid:B.categoryid,dragActivityid:B.activityid}),b({timeHoverIndex:e.categoryPosition-1})},V=Object(r.useState)(null),W=Object(h.a)(V,2),J=W[0],Y=W[1],G=function(e,t){e.dataTransfer.setDragImage(M(),1,1),Y(t),b({timeHoverIndex:t.notePosition-1})},K=function(e){if(J){var t=S(n,e.stackid),r=S(n,J.stackid);e.notePosition>r.max?(b({timeHoverIndex:r.max}),u({draggedIntoPosition:e.notePosition,dragPosition:J.notePosition,weekDay:e.weekDay,dragStackid:J.stackid,oldStackid:e.stackid,oldNote:e.note})):e.notePosition<r.min&&(b({timeHoverIndex:r.min-2}),l({draggedIntoPosition:t.max,dragPosition:J.notePosition,weekDay:e.weekDay,dragStackid:J.stackid,dragNoteText:J.note}))}},X=function(e,t){var r=S(n,t.stackid),a=r.max,c=r.min;1===e.button&&i&&a!==c?(f(t),y({weekDay:t.weekDay,stackid:t.stackid})):1===e.button&&a!==c&&y({weekDay:t.weekDay,stackid:t.stackid})};return Object(j.jsxs)("div",{className:"day-container",onDragEndCapture:function(){Y(null),F(null)},children:[O&&Object(j.jsx)(I,{day:c,weekNr:o.weekNr,year:o.year}),Object(j.jsxs)("div",{className:"day-header ".concat(c),onMouseOver:function(){return w(!0)},onMouseLeave:function(){return w(!1)},children:[Object(j.jsx)("p",{className:"day-header__day",children:"".concat(p.Info.weekdays()[c])}),Object(j.jsx)("p",{className:"day-header__date",children:"".concat(p.DateTime.fromISO(t[0].weekDayDate).toLocaleString({month:"long",day:"numeric"}))})]}),Object(j.jsxs)("div",{className:"composition-container",children:[Object(j.jsx)("div",{className:"activity-outer-container",children:t.map((function(e){return Object(j.jsx)(k,{category:e,onDragStart:z,onDragEnter:R},e.categoryPosition)}))}),Object(j.jsx)("div",{className:"note-outer-container",children:n.map((function(e){var t=S(n,e.stackid),r=t.max,a=t.min;return e.notePosition===a?Object(j.jsx)(C,{note:e,max:r,min:a,onDragStart:G,onDragEnter:K,onClick:P,onMouseDown:X},e.notePosition):null}))})]}),N&&Object(j.jsx)("div",{id:"note-modal-wrapper",onClick:function(){return D(null)},children:Object(j.jsx)(_,{stack:S(n,N.stackid).max!==S(n,N.stackid).min,deleteStack:function(e){y(e),D(null)},deleteText:function(e){f(e),D(null)},saveNote:function(e){d(e),D(null)},note:N})})]})}var H,L,B=function(e,t){return JSON.stringify(e.notes)===JSON.stringify(t.notes)&&JSON.stringify(e.categories)===JSON.stringify(t.categories)},F=a.a.memo(M,B),z=function(){var e=["00","15","30","45"],t=["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],n=[];for(var r in t)for(var a in e)n.push("".concat(t[r],":").concat(e[a]));return n},R=(n(207),function(e){var t=e.timeValues,n=v((function(e){return e.settings.timeHoverIndex}));return Object(j.jsx)("div",{className:"time-cell-container",children:t().map((function(e,t){return Object(j.jsx)("div",{className:"time-cell",style:{backgroundColor:n===t?"#314149":"transparent"},children:e},t)}))})}),V=(n(208),["title","titleId"]);function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function J(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Y(e,t){var n=e.title,a=e.titleId,c=J(e,V);return r.createElement("svg",W({width:135,height:135,viewBox:"0 0 135 135",xmlns:"http://www.w3.org/2000/svg",fill:"rgb(196, 136, 82)",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,H||(H=r.createElement("path",{d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z"},r.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"-360 67 67",dur:"2.5s",repeatCount:"indefinite"}))),L||(L=r.createElement("path",{d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z"},r.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"360 67 67",dur:"8s",repeatCount:"indefinite"}))))}var G=r.forwardRef(Y);n.p;var K,X,q,Q,U,Z,$,ee,te,ne,re,ae,ce,ie,oe,se,le=function(e){var t=e.categories,n=e.notes;return e.loading?Object(j.jsx)("div",{id:"main-dashboard-table__loading",children:Object(j.jsx)(G,{style:{height:"6rem",width:"6rem"}})}):Object(j.jsxs)("div",{id:"main-dashboard-table__container",children:[Object(j.jsx)(R,{timeValues:z}),t.map((function(e,t){return Object(j.jsx)(F,{categories:e,notes:n[t],weekDay:t},e[0].weekDay)}))]})},ue=(n(209),["title","titleId"]);function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ye(e,t){var n=e.title,a=e.titleId,c=fe(e,ue);return r.createElement("svg",de({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 477.175 477.175",style:{enableBackground:"new 0 0 477.175 477.175"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,K||(K=r.createElement("g",null,r.createElement("path",{d:"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225 c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"}))),X||(X=r.createElement("g",null)),q||(q=r.createElement("g",null)),Q||(Q=r.createElement("g",null)),U||(U=r.createElement("g",null)),Z||(Z=r.createElement("g",null)),$||($=r.createElement("g",null)),ee||(ee=r.createElement("g",null)),te||(te=r.createElement("g",null)),ne||(ne=r.createElement("g",null)),re||(re=r.createElement("g",null)),ae||(ae=r.createElement("g",null)),ce||(ce=r.createElement("g",null)),ie||(ie=r.createElement("g",null)),oe||(oe=r.createElement("g",null)),se||(se=r.createElement("g",null)))}var he,pe,be,ge,ve,je,me,xe,Oe,we,ke,Te,Ee,Ne,De,Ce,Se=r.forwardRef(ye),_e=(n.p,["title","titleId"]);function Pe(){return Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ae(e,t){var n=e.title,a=e.titleId,c=Ie(e,_e);return r.createElement("svg",Pe({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 477.175 477.175",style:{enableBackground:"new 0 0 477.175 477.175"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,he||(he=r.createElement("g",null,r.createElement("path",{d:"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5 c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z "}))),pe||(pe=r.createElement("g",null)),be||(be=r.createElement("g",null)),ge||(ge=r.createElement("g",null)),ve||(ve=r.createElement("g",null)),je||(je=r.createElement("g",null)),me||(me=r.createElement("g",null)),xe||(xe=r.createElement("g",null)),Oe||(Oe=r.createElement("g",null)),we||(we=r.createElement("g",null)),ke||(ke=r.createElement("g",null)),Te||(Te=r.createElement("g",null)),Ee||(Ee=r.createElement("g",null)),Ne||(Ne=r.createElement("g",null)),De||(De=r.createElement("g",null)),Ce||(Ce=r.createElement("g",null)))}var Me,He=r.forwardRef(Ae),Le=(n.p,function(e){var t=e.weekNr,n=e.year,r=g((function(e){return e.settings.setDate})),c=p.DateTime.now().weekNumber,i=p.DateTime.now().startOf("week").year,o=A("ArrowLeft"),s=A("ArrowRight"),l=A("c"),u=function(){r({date:{weekNr:p.DateTime.now().weekNumber,year:p.DateTime.now().startOf("week").year}})},d=function(){var e=function(e,t){var n,r;return p.DateTime.fromObject({weekYear:t}).weeksInWeekYear===e?(n=1,r=t+1):(n=e+1,r=t),{weekNr:n,year:r}}(t,n);r({date:e})},f=function(){var e=function(e,t){var n,r;return 1===e?(r=t-1,n=p.DateTime.fromObject({weekYear:r}).weeksInWeekYear):(n=e-1,r=t),{weekNr:n,year:r}}(t,n);r({date:e})};return a.a.useEffect((function(){o?f():s?d():l&&u()}),[o,s,l]),Object(j.jsxs)("div",{id:"main-dashboard-nav-container",children:[Object(j.jsx)("div",{id:"main-dashboard-nav-back-to-current-container",children:!(c===t&&i===n)&&Object(j.jsx)("button",{id:"main-dashboard-nav-back-to-current",onClick:u,children:"To current week"})}),Object(j.jsxs)("div",{id:"main-dashboard-nav-central-container",children:[Object(j.jsx)(Se,{onClick:f,id:"main-dashboard-week-change-button"}),Object(j.jsxs)("h2",{id:"main-dashboard-nav-banner",children:[n,","]}),Object(j.jsxs)("h2",{id:"main-dashboard-nav-banner",children:["week ",t]}),Object(j.jsx)(He,{onClick:d,id:"main-dashboard-week-change-button"})]}),Object(j.jsx)("div",{style:{width:"33%",height:"60px"}})]})}),Be=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=!0,e.next=4,fetch("api/user/".concat(t,"/category-type/restore/").concat(n),{method:"PATCH",mode:"cors",credentials:"include"});case 4:return 401===(a=e.sent).status?(Wr.push("/login"),r=!1):a.ok||(Wr.push("/internal-error"),r=!1),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),Wr.push("/internal-error"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=!0,e.next=4,fetch("api/user/".concat(t,"/category-type/").concat(n),{method:"DELETE",mode:"cors",credentials:"include"});case 4:return 401===(a=e.sent).status?(Wr.push("/login"),r=!1):a.ok||(Wr.push("/internal-error"),r=!1),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),Wr.push("/internal-error"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/category-types-full"),{method:"GET",mode:"cors",credentials:"include"});case 3:return 401===(n=e.sent).status?Wr.push("/login"):n.ok||Wr.push("/internal-error"),e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(0),Wr.push("/internal-error"),e.abrupt("return",{categoryTypes:[],activityTypes:[]});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(d.a)(u.a.mark((function e(t,n,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/week?week_number=").concat(n,"&week_year=").concat(r),{method:"GET",mode:"cors",credentials:"include"});case 3:if(!(a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:case 13:case 21:return e.abrupt("return",e.sent);case 10:return 400===a.status&&Wr.push("/internal-error"),e.next=13,Ve(t,n,r);case 14:e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(0),Wr.push("/internal-error"),e.next=21,Ve(t,n,r);case 22:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(d.a)(u.a.mark((function e(t,n,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/weeks"),{method:"POST",mode:"cors",credentials:"include",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({weekNr:n,weekYear:r})});case 3:if(!(a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 10:return Wr.push("/internal-error"),e.abrupt("return",[]);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),Wr.push("/internal-error"),e.abrupt("return",[]);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n,r){return e.apply(this,arguments)}}(),We=function(e,t,n){var r={valid:!0,message:""};return!t||t.trim().length<=0||t.trim().length>50?(r.valid=!1,r.message="You must provide a category name of length 1-50."):(!n||n.length<=0||n.length>7||"#"!==n[0])&&(r.valid=!1,r.message="You must provide a valid hex color value."),r},Je=n(24),Ye=(n(210),["title","titleId"]);function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xe(e,t){var n=e.title,a=e.titleId,c=Ke(e,Ye);return r.createElement("svg",Ge({height:"329pt",viewBox:"0 0 329.26933 329",width:"329pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Me||(Me=r.createElement("path",{d:"m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0"})))}var qe=r.forwardRef(Xe),Qe=(n.p,function(){localStorage.setItem("feature-popup","true")}),Ue=function(){var e=localStorage.getItem("feature-popup");return null!=e&&"true"===e},Ze=function(){var e=g((function(e){return e.settings.setFeaturePopupViewed}));return Object(j.jsxs)("div",{className:"new-feature-popup__container",children:[Object(j.jsxs)("div",{className:"new-feature-popup",children:[Object(j.jsx)("p",{children:"New Daily analytics available."}),Object(j.jsx)(Je.b,{onClick:Qe,style:{textDecoration:"none"},to:"/analytics",children:"Check out"})]}),Object(j.jsx)("div",{className:"new-feature-popup__header",children:Object(j.jsx)(qe,{className:"close-icon",onClick:function(){e({featurePopupViewed:!0}),Qe()}})})]})},$e=function(){var e=v((function(e){return e.settings.featurePopupViewed})),t=v((function(e){return e.auth.uid})),n=v((function(e){return e.settings.currentDate})),r=v((function(e){return e.categories.categories})),c=v((function(e){return e.notes.notes})),i=g((function(e){return e.categories.setCategories})),o=g((function(e){return e.notes.setNotes})),s=g((function(e){return e.settings.setCategoryTypes})),l=g((function(e){return e.settings.setActivityTypes})),f=g((function(e){return e.settings.setFeaturePopupViewed})),y=a.a.useState(!0),p=Object(h.a)(y,2),b=p[0],m=p[1];return a.a.useEffect((function(){!function(){var e=Object(d.a)(u.a.mark((function e(){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Re(t,n.weekNr,n.year);case 3:return r=e.sent,i({categories:r[0].categories}),o({notes:r[0].notes}),e.next=8,ze(t);case 8:a=e.sent,s({categoryTypes:a.categoryTypes}),l({activityTypes:a.activityTypes}),m(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n.weekNr,n.year,t]),a.a.useEffect((function(){f({featurePopupViewed:Ue()})}),[f]),Object(j.jsxs)("div",{id:"main-dash-wrapper",children:[Object(j.jsx)(Le,{weekNr:n.weekNr,year:n.year}),Object(j.jsx)(le,{categories:r,notes:c,loading:b}),!e&&Object(j.jsx)(Ze,{})]})},et=$e,tt=(n(215),function(){var e=g((function(e){return e.auth.login})),t=a.a.useState(""),n=Object(h.a)(t,2),r=n[0],c=n[1],i=a.a.useState(""),o=Object(h.a)(i,2),s=o[0],l=o[1];return Object(j.jsxs)("section",{className:"login-container",children:[Object(j.jsx)("h2",{className:"login-header",children:"Welcome, curious person!"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),r&&r.length>0&&s&&s.length>0&&e({email:r,password:s})},children:[Object(j.jsx)("label",{htmlFor:"email",children:Object(j.jsx)("p",{className:"login-input-label",children:"Email"})}),Object(j.jsx)("input",{name:"email",type:"text",value:r,onChange:function(e){return c(e.target.value)},className:"login-input"}),Object(j.jsx)("label",{htmlFor:"password",children:Object(j.jsx)("p",{className:"login-input-label",children:"Password"})}),Object(j.jsx)("input",{name:"password",type:"password",value:s,onChange:function(e){return l(e.target.value)},className:"login-input"}),Object(j.jsx)("section",{className:"login-button-container",children:Object(j.jsx)("button",{className:"login-button",type:"submit",children:"Login"})})]})]})}),nt=function(){return Object(j.jsxs)("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:["This page doesn't exist.",Object(j.jsx)(Je.b,{to:"/",children:"Go home"})]})};n(216),n(217),n(218);var rt,at=function(e){var t=e.title,n=e.viewArchived,r=e.setViewArchived;return Object(j.jsxs)("div",{id:"settings-dashboard-section-title-container",children:[t,Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{className:"label",htmlFor:"archived",children:"View archived"}),Object(j.jsx)("input",{name:"archived",checked:n,type:"checkbox",onChange:r})]})]})},ct=(n(219),["title","titleId"]);function it(){return it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(this,arguments)}function ot(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function st(e,t){var n=e.title,a=e.titleId,c=ot(e,ct);return r.createElement("svg",it({height:"448pt",viewBox:"0 0 448 448",width:"448pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,rt||(rt=r.createElement("path",{d:"m408 184h-136c-4.417969 0-8-3.582031-8-8v-136c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8h-136c-22.089844 0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969 0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40v-136c0-4.417969 3.582031-8 8-8h136c22.089844 0 40-17.910156 40-40s-17.910156-40-40-40zm0 0"})))}var lt=r.forwardRef(st);n.p;var ut,dt,ft,yt,ht,pt,bt,gt,vt,jt,mt,xt,Ot,wt,kt,Tt,Et=function(e){var t=e.categoryTypes,n=e.setCategory,r=e.selectedCategoryid,c=e.viewArchived,i=g((function(e){return e.settings.createCategoryType})),o=v((function(e){return e.auth.uid})),s=a.a.useState(!1),l=Object(h.a)(s,2),f=l[0],y=l[1],p=a.a.useState(""),b=Object(h.a)(p,2),m=b[0],x=b[1],O=A("Escape");a.a.useEffect((function(){y(!1),x("")}),[O]);var w=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(f&&m.length>0)){e.next=15;break}return e.prev=2,e.next=5,i({userid:o,name:m,color:"#CBC3E3"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:return e.prev=10,y(!1),x(""),n(""),e.finish(10);case 15:case"end":return e.stop()}}),e,null,[[2,7,10,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"category-section-category-list-container",children:[t.map((function(e){return c||!c&&!e.archived?Object(j.jsx)("div",{className:"category-section-category-list-item-container",children:Object(j.jsx)("p",{className:"category-section-category-list-item".concat(e.categoryid===r?"-selected":""),onClick:function(){return n(e.categoryid)},style:{opacity:e.archived?.5:1},children:e.name})},e.categoryid):null})),f&&Object(j.jsx)("form",{onSubmit:w,children:Object(j.jsx)("input",{autoFocus:!0,type:"text",value:m,onChange:function(e){return x(e.target.value)},className:"category-section-category-list-add-input"})}),!f&&Object(j.jsx)(lt,{height:16,width:16,fill:"white",className:"category-section-category-list-add",onClick:function(){return y(!0)}})]})},Nt=(n(220),n(221),function(e){var t=e.children,n=e.title;return Object(j.jsxs)("div",{id:"category-section-section-container",children:[Object(j.jsx)("h5",{id:"category-section-section-title",children:n}),t]})}),Dt=(n(222),n(223),["title","titleId"]);function Ct(){return Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct.apply(this,arguments)}function St(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _t(e,t){var n=e.title,a=e.titleId,c=St(e,Dt);return r.createElement("svg",Ct({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 330 330",style:{enableBackground:"new 0 0 330 330"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,ut||(ut=r.createElement("g",{id:"XMLID_23_"},r.createElement("path",{id:"XMLID_24_",d:"M75,180v60c0,8.284,6.716,15,15,15h60c3.978,0,7.793-1.581,10.606-4.394l164.999-165 c5.858-5.858,5.858-15.355,0-21.213l-60-60C262.794,1.581,258.978,0,255,0s-7.794,1.581-10.606,4.394l-165,165 C76.58,172.206,75,176.022,75,180z M105,186.213L255,36.213L293.787,75l-150,150H105V186.213z"}),r.createElement("path",{id:"XMLID_27_",d:"M315,150.001c-8.284,0-15,6.716-15,15V300H30V30H165c8.284,0,15-6.716,15-15s-6.716-15-15-15H15 C6.716,0,0,6.716,0,15v300c0,8.284,6.716,15,15,15h300c8.284,0,15-6.716,15-15V165.001C330,156.716,323.284,150.001,315,150.001z"}))),dt||(dt=r.createElement("g",null)),ft||(ft=r.createElement("g",null)),yt||(yt=r.createElement("g",null)),ht||(ht=r.createElement("g",null)),pt||(pt=r.createElement("g",null)),bt||(bt=r.createElement("g",null)),gt||(gt=r.createElement("g",null)),vt||(vt=r.createElement("g",null)),jt||(jt=r.createElement("g",null)),mt||(mt=r.createElement("g",null)),xt||(xt=r.createElement("g",null)),Ot||(Ot=r.createElement("g",null)),wt||(wt=r.createElement("g",null)),kt||(kt=r.createElement("g",null)),Tt||(Tt=r.createElement("g",null)))}var Pt=r.forwardRef(_t),It=(n.p,function(e){var t=e.activity,n=a.a.useState(!1),r=Object(h.a)(n,2),c=r[0],i=r[1];return Object(j.jsx)(Je.a,{to:"/settings/category/".concat(t.categoryid,"/edit-activity/").concat(t.activityid),className:"activity-list-item-link",children:Object(j.jsxs)("div",{className:"activity-list-item-container",onMouseOver:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:[Object(j.jsxs)("p",{className:"activity-list-item-name ".concat(t.archived&&"archived-activity"),children:[t.long," - ",t.short]}),Object(j.jsx)("div",{className:"activity-list-item__icon-container",children:c&&Object(j.jsx)(Pt,{className:"activity-list-item__edit-icon"})})]})})}),At=function(e){var t=e.activityTypes,n=e.categoryid,r=e.viewArchived;return Object(j.jsxs)("div",{className:"activity-list-container",children:[Object(j.jsx)("div",{children:t.map((function(e){return e.categoryid===n&&(r||!r&&!e.archived)?Object(j.jsx)(It,{activity:e},e.activityid):null}))}),Object(j.jsx)("div",{className:"activity-list-add-icon-container",children:Object(j.jsx)(Je.a,{to:"/settings/category/".concat(n,"/edit-activity/new"),children:Object(j.jsx)(lt,{className:"activity-list-add-icon"})})})]})};var Mt=function(e){var t=e.category,n=e.activityTypes,r=e.setLoading,c=e.viewArchived,i=v((function(e){return e.auth.uid})),o=g((function(e){return e.settings.updateCategoryType})),s=g((function(e){return e.settings.archiveCategoryType})),l=g((function(e){return e.settings.restoreCategoryType})),f=a.a.useState(t.color),y=Object(h.a)(f,2),p=y[0],b=y[1],m=a.a.useState(t.name),x=Object(h.a)(m,2),O=x[0],w=x[1],k=a.a.useState({message:""}),T=Object(h.a)(k,2),E=T[0],N=T[1];a.a.useEffect((function(){b(t.color),w(t.name)}),[t.name,t.categoryid,t.color]);var D=function(){var e=Object(d.a)(u.a.mark((function e(){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=We(t.categoryid,O,p),a=n.valid,c=n.message,!a){e.next=16;break}return r(!0),e.prev=3,e.next=6,o({userid:i,categoryType:{userid:t.userid,categoryid:t.categoryid,name:O,color:p,archived:t.archived}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),N(e.t0.message);case 11:return e.prev=11,r(!1),e.finish(11);case 14:e.next=17;break;case 16:N({message:c});case 17:case"end":return e.stop()}}),e,null,[[3,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(i,t.categoryid);case 2:e.sent&&s({categoryType:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(i,t.categoryid);case 2:e.sent&&l({categoryType:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"category-section-form-container",children:[Object(j.jsx)("div",{className:"category-section-form-error",children:E.message}),Object(j.jsx)(Nt,{title:"Name",children:Object(j.jsx)("input",{type:"text",className:"category-section-form__category-name",value:O,onChange:function(e){return w(e.target.value)},maxLength:18})}),Object(j.jsx)(Nt,{title:"Color",children:Object(j.jsxs)("div",{className:"color-section-container",children:[Object(j.jsx)("div",{style:{backgroundColor:p},className:"color-section-color"}),Object(j.jsx)("input",{style:{color:p},type:"text",className:"category-section-form__category-color",value:p,onChange:function(e){return b(e.target.value)},maxLength:7})]})}),Object(j.jsx)(Nt,{title:"Activities",children:Object(j.jsx)(At,{viewArchived:c,categoryid:t.categoryid,activityTypes:n})}),Object(j.jsx)(Nt,{title:"",children:Object(j.jsxs)("div",{children:[!t.archived&&Object(j.jsx)("button",{className:"button-dlt",onClick:C,style:{marginRight:40},children:"Archive"}),t.archived&&Object(j.jsx)("button",{className:"button-pos",onClick:S,style:{marginRight:40},children:"Restore"}),Object(j.jsx)("button",{className:"button-pos",onClick:D,children:"Save"})]})})]})},Ht=function(e,t){for(var n=0;n<e.length;n++)if(e[n].categoryid===t)return e[n];return{categoryid:"",userid:"",color:"",name:"",archived:!1}};var Lt,Bt,Ft,zt,Rt,Vt,Wt,Jt,Yt,Gt,Kt,Xt,qt,Qt,Ut,Zt,$t,en=function(e){var t=e.categoryTypes,n=e.activityTypes,r=e.setLoading,c=a.a.useState(!1),i=Object(h.a)(c,2),o=i[0],s=i[1],l=a.a.useState(0===t.length?"":t[0].categoryid),u=Object(h.a)(l,2),d=u[0],f=u[1];return a.a.useEffect((function(){"yes"===localStorage.getItem("view-archived")&&s(!0)}),[]),Object(j.jsxs)("div",{className:"category-section-container",children:[Object(j.jsx)(at,{title:"Categories",viewArchived:o,setViewArchived:function(){var e=!o;e?localStorage.setItem("view-archived","yes"):localStorage.setItem("view-archived","no"),s(e)}}),Object(j.jsxs)("div",{className:"category-section-content-container",children:[Object(j.jsx)(Et,{viewArchived:o,categoryTypes:t,setCategory:function(e){return f(e)},selectedCategoryid:d}),0!==d.length&&Object(j.jsx)(Mt,{viewArchived:o,category:Ht(t,d),activityTypes:n,setLoading:r})]})]})},tn=function(e){var t=e.categoryTypes,n=e.activityTypes,r=e.loading,a=e.setLoading;return r?Object(j.jsx)("div",{className:"settings-dashboard__loading",children:Object(j.jsx)(G,{style:{height:"6rem",width:"6rem"}})}):Object(j.jsxs)("div",{className:"settings-dashboard-container",children:[Object(j.jsx)("div",{className:"settings-dashboard-title",children:"Settings"}),Object(j.jsx)(en,{categoryTypes:t,activityTypes:n,setLoading:a})]})},nn=function(){var e=v((function(e){return e.auth.uid})),t=v((function(e){return e.settings.categoryTypes})),n=v((function(e){return e.settings.activityTypes})),r=g((function(e){return e.settings.fetchCategoryTypesFull})),c=a.a.useState(!0),i=Object(h.a)(c,2),o=i[0],s=i[1];return a.a.useEffect((function(){!function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.prev=1,t.next=4,r({userid:e});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0.message);case 9:return t.prev=9,s(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[1,6,9,12]])})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(j.jsx)(tn,{categoryTypes:t,activityTypes:n,loading:o,setLoading:s})},rn=(n(224),["title","titleId"]);function an(){return an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},an.apply(this,arguments)}function cn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function on(e,t){var n=e.title,a=e.titleId,c=cn(e,rn);return r.createElement("svg",an({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Lt||(Lt=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M255.15,468.625H63.787c-11.737,0-21.262-9.526-21.262-21.262V64.638c0-11.737,9.526-21.262,21.262-21.262H255.15 c11.758,0,21.262-9.504,21.262-21.262S266.908,0.85,255.15,0.85H63.787C28.619,0.85,0,29.47,0,64.638v382.724 c0,35.168,28.619,63.787,63.787,63.787H255.15c11.758,0,21.262-9.504,21.262-21.262 C276.412,478.129,266.908,468.625,255.15,468.625z"})))),Bt||(Bt=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M505.664,240.861L376.388,113.286c-8.335-8.25-21.815-8.143-30.065,0.213s-8.165,21.815,0.213,30.065l92.385,91.173 H191.362c-11.758,0-21.262,9.504-21.262,21.262c0,11.758,9.504,21.263,21.262,21.263h247.559l-92.385,91.173 c-8.377,8.25-8.441,21.709-0.213,30.065c4.167,4.21,9.653,6.336,15.139,6.336c5.401,0,10.801-2.041,14.926-6.124l129.276-127.575 c4.04-3.997,6.336-9.441,6.336-15.139C512,250.302,509.725,244.88,505.664,240.861z"})))),Ft||(Ft=r.createElement("g",null)),zt||(zt=r.createElement("g",null)),Rt||(Rt=r.createElement("g",null)),Vt||(Vt=r.createElement("g",null)),Wt||(Wt=r.createElement("g",null)),Jt||(Jt=r.createElement("g",null)),Yt||(Yt=r.createElement("g",null)),Gt||(Gt=r.createElement("g",null)),Kt||(Kt=r.createElement("g",null)),Xt||(Xt=r.createElement("g",null)),qt||(qt=r.createElement("g",null)),Qt||(Qt=r.createElement("g",null)),Ut||(Ut=r.createElement("g",null)),Zt||(Zt=r.createElement("g",null)),$t||($t=r.createElement("g",null)))}var sn,ln,un,dn,fn=r.forwardRef(on),yn=(n.p,["title","titleId"]);function hn(){return hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hn.apply(this,arguments)}function pn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bn(e,t){var n=e.title,a=e.titleId,c=pn(e,yn);return r.createElement("svg",hn({height:"512pt",viewBox:"0 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,sn||(sn=r.createElement("path",{d:"m197.332031 0h-160c-20.585937 0-37.332031 16.746094-37.332031 37.332031v96c0 20.589844 16.746094 37.335938 37.332031 37.335938h160c20.589844 0 37.335938-16.746094 37.335938-37.335938v-96c0-20.585937-16.746094-37.332031-37.335938-37.332031zm0 0"})),ln||(ln=r.createElement("path",{d:"m197.332031 213.332031h-160c-20.585937 0-37.332031 16.746094-37.332031 37.335938v224c0 20.585937 16.746094 37.332031 37.332031 37.332031h160c20.589844 0 37.335938-16.746094 37.335938-37.332031v-224c0-20.589844-16.746094-37.335938-37.335938-37.335938zm0 0"})),un||(un=r.createElement("path",{d:"m474.667969 341.332031h-160c-20.589844 0-37.335938 16.746094-37.335938 37.335938v96c0 20.585937 16.746094 37.332031 37.335938 37.332031h160c20.585937 0 37.332031-16.746094 37.332031-37.332031v-96c0-20.589844-16.746094-37.335938-37.332031-37.335938zm0 0"})),dn||(dn=r.createElement("path",{d:"m474.667969 0h-160c-20.589844 0-37.335938 16.746094-37.335938 37.332031v224c0 20.589844 16.746094 37.335938 37.335938 37.335938h160c20.585937 0 37.332031-16.746094 37.332031-37.335938v-224c0-20.585937-16.746094-37.332031-37.332031-37.332031zm0 0"})))}var gn,vn=r.forwardRef(bn),jn=(n.p,["title","titleId"]);function mn(){return mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mn.apply(this,arguments)}function xn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function On(e,t){var n=e.title,a=e.titleId,c=xn(e,jn);return r.createElement("svg",mn({enableBackground:"new 0 0 24 24",height:512,viewBox:"0 0 24 24",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,gn||(gn=r.createElement("path",{d:"m22.683 9.394-1.88-.239c-.155-.477-.346-.937-.569-1.374l1.161-1.495c.47-.605.415-1.459-.122-1.979l-1.575-1.575c-.525-.542-1.379-.596-1.985-.127l-1.493 1.161c-.437-.223-.897-.414-1.375-.569l-.239-1.877c-.09-.753-.729-1.32-1.486-1.32h-2.24c-.757 0-1.396.567-1.486 1.317l-.239 1.88c-.478.155-.938.345-1.375.569l-1.494-1.161c-.604-.469-1.458-.415-1.979.122l-1.575 1.574c-.542.526-.597 1.38-.127 1.986l1.161 1.494c-.224.437-.414.897-.569 1.374l-1.877.239c-.753.09-1.32.729-1.32 1.486v2.24c0 .757.567 1.396 1.317 1.486l1.88.239c.155.477.346.937.569 1.374l-1.161 1.495c-.47.605-.415 1.459.122 1.979l1.575 1.575c.526.541 1.379.595 1.985.126l1.494-1.161c.437.224.897.415 1.374.569l.239 1.876c.09.755.729 1.322 1.486 1.322h2.24c.757 0 1.396-.567 1.486-1.317l.239-1.88c.477-.155.937-.346 1.374-.569l1.495 1.161c.605.47 1.459.415 1.979-.122l1.575-1.575c.542-.526.597-1.379.127-1.985l-1.161-1.494c.224-.437.415-.897.569-1.374l1.876-.239c.753-.09 1.32-.729 1.32-1.486v-2.24c.001-.757-.566-1.396-1.316-1.486zm-10.683 7.606c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"})))}var wn,kn,Tn,En,Nn,Dn,Cn,Sn,_n,Pn,In,An,Mn,Hn,Ln,Bn,Fn,zn=r.forwardRef(On),Rn=(n.p,["title","titleId"]);function Vn(){return Vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vn.apply(this,arguments)}function Wn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jn(e,t){var n=e.title,a=e.titleId,c=Wn(e,Rn);return r.createElement("svg",Vn({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,wn||(wn=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M501.333,490.667h-10.667V181.333c0-5.888-4.779-10.667-10.667-10.667h-64c-5.888,0-10.667,4.779-10.667,10.667v309.333 h-42.667V309.333c0-5.888-4.779-10.667-10.667-10.667h-64c-5.888,0-10.667,4.779-10.667,10.667v181.333h-42.667v-224 c0-5.888-4.779-10.667-10.667-10.667h-64c-5.888,0-10.667,4.779-10.667,10.667v224h-42.667V373.333 c0-5.888-4.779-10.667-10.667-10.667H32c-5.888,0-10.667,4.779-10.667,10.667v117.333H10.667C4.779,490.667,0,495.445,0,501.333 C0,507.221,4.779,512,10.667,512H32h64h64h64h64h64h64h64h21.333c5.888,0,10.667-4.779,10.667-10.667 C512,495.445,507.221,490.667,501.333,490.667z"})))),kn||(kn=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M448,0c-23.531,0-42.667,19.136-42.667,42.667c0,7.893,2.304,15.189,6.037,21.547l-69.824,69.824 C335.189,130.304,327.893,128,320,128c-13.376,0-25.195,6.315-33.024,15.979l-52.416-14.955c0-0.341,0.107-0.661,0.107-1.024 c0-23.531-19.136-42.667-42.667-42.667S149.333,104.469,149.333,128c0,6.208,1.387,12.053,3.776,17.365l-66.667,53.184 C79.915,194.453,72.256,192,64,192c-23.531,0-42.667,19.136-42.667,42.667c0,23.531,19.136,42.667,42.667,42.667 c23.531,0,42.667-19.136,42.667-42.667c0-7.488-2.112-14.443-5.525-20.565l65.344-52.117c7.147,5.376,15.915,8.683,25.515,8.683 c15.637,0,29.205-8.555,36.629-21.141l49.429,14.101c-0.405,2.304-0.725,4.629-0.725,7.04c0,23.531,19.136,42.667,42.667,42.667 c23.531,0,42.667-19.136,42.667-42.667c0-7.893-2.304-15.189-6.037-21.547l69.845-69.845c6.336,3.755,13.632,6.059,21.525,6.059 c23.531,0,42.667-19.136,42.667-42.667C490.667,19.136,471.531,0,448,0z"})))),Tn||(Tn=r.createElement("g",null)),En||(En=r.createElement("g",null)),Nn||(Nn=r.createElement("g",null)),Dn||(Dn=r.createElement("g",null)),Cn||(Cn=r.createElement("g",null)),Sn||(Sn=r.createElement("g",null)),_n||(_n=r.createElement("g",null)),Pn||(Pn=r.createElement("g",null)),In||(In=r.createElement("g",null)),An||(An=r.createElement("g",null)),Mn||(Mn=r.createElement("g",null)),Hn||(Hn=r.createElement("g",null)),Ln||(Ln=r.createElement("g",null)),Bn||(Bn=r.createElement("g",null)),Fn||(Fn=r.createElement("g",null)))}var Yn,Gn,Kn,Xn=r.forwardRef(Jn),qn=(n.p,["title","titleId"]);function Qn(){return Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qn.apply(this,arguments)}function Un(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Zn(e,t){var n=e.title,a=e.titleId,c=Un(e,qn);return r.createElement("svg",Qn({id:"Layer_1",enableBackground:"new 0 0 512 512",height:512,viewBox:"0 0 512 512",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Yn||(Yn=r.createElement("path",{d:"m464.883 64.267h-417.766c-25.98 0-47.117 21.136-47.117 47.149 0 25.98 21.137 47.117 47.117 47.117h417.766c25.98 0 47.117-21.137 47.117-47.117 0-26.013-21.137-47.149-47.117-47.149z"})),Gn||(Gn=r.createElement("path",{d:"m464.883 208.867h-417.766c-25.98 0-47.117 21.136-47.117 47.149 0 25.98 21.137 47.117 47.117 47.117h417.766c25.98 0 47.117-21.137 47.117-47.117 0-26.013-21.137-47.149-47.117-47.149z"})),Kn||(Kn=r.createElement("path",{d:"m464.883 353.467h-417.766c-25.98 0-47.117 21.137-47.117 47.149 0 25.98 21.137 47.117 47.117 47.117h417.766c25.98 0 47.117-21.137 47.117-47.117 0-26.012-21.137-47.149-47.117-47.149z"})))}var $n=r.forwardRef(Zn),er=(n.p,function(){var e=a.a.useState("/dashboard"),t=Object(h.a)(e,2),n=t[0],r=t[1],c=a.a.useState(""),i=Object(h.a)(c,2),o=i[0],s=i[1],l=a.a.useState(!1),u=Object(h.a)(l,2),d=u[0],f=u[1],p=g((function(e){return e.auth.logout})),b=g((function(e){return e.reset})),m=v((function(e){return e.auth.uid})),x=Object(y.h)();a.a.useEffect((function(){r(x.pathname)}),[x]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"nav-bar ".concat(d?"":"closed"),children:[Object(j.jsxs)("div",{className:"nav-bar__inner-container",children:[Object(j.jsx)(Je.b,{to:"/dashboard",onMouseOver:function(){return s("/dashboard")},onMouseLeave:function(){return s("")},children:Object(j.jsx)(vn,{id:"nav-bar-link-icon",style:{fill:"/dashboard"===n||"/dashboard"===o?"#c48852":"white",marginTop:20}})}),Object(j.jsx)(Je.b,{to:"/analytics",onMouseEnter:function(){return s("/analytics")},onMouseLeave:function(){return s("")},children:Object(j.jsx)(Xn,{id:"nav-bar-link-icon",style:{fill:"/analytics"===n||"/analytics"===o?"#c48852":"white"}})}),Object(j.jsx)(Je.b,{to:"/settings",onMouseEnter:function(){return s("/settings")},onMouseLeave:function(){return s("")},children:Object(j.jsx)(zn,{id:"nav-bar-link-icon",style:{fill:"/settings"===n||"/settings"===o?"#c48852":"white"}})})]}),Object(j.jsx)("div",{onClick:function(){b(),p({userid:m})},children:Object(j.jsx)(fn,{id:"nav-bar-logout-icon",height:50,width:50})})]}),Object(j.jsx)($n,{className:"nav-bar-toggle-icon ".concat(d?"":"closed"),onClick:function(){return f(!d)},style:{marginLeft:d?80:20}})]})}),tr=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/auth/is-logged-in"),{method:"GET",mode:"cors",credentials:"include"});case 3:if(!(n=e.sent).ok){e.next=8;break}return e.abrupt("return",n.ok);case 8:return 401!==n.status&&Wr.push("/internal-error"),e.abrupt("return",!1);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),Wr.push("/internal-error"),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),nr=function(e){var t=g((function(e){return e.auth.setuid})),n=v((function(e){return e.auth.uid})),r=a.a.useState(!0),c=Object(h.a)(r,2),i=c[0],o=c[1],l=e.component;return a.a.useEffect((function(){Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=window.localStorage.getItem("userid"))){e.next=8;break}return e.next=4,tr(n);case 4:e.sent?(t({userid:n}),o(!1)):o(!1),e.next=9;break;case 8:o(!1);case 9:case"end":return e.stop()}}),e)})))()}),[n,tr,o]),i?Object(j.jsx)("div",{className:"login-loading",children:Object(j.jsx)(G,{style:{height:"6rem",width:"6rem"}})}):Object(j.jsxs)(j.Fragment,{children:[!!n&&Object(j.jsx)(er,{}),Object(j.jsx)(y.b,{path:e.path,component:function(){return n?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(l,{props:Object(s.a)({},e)})}):Object(j.jsx)(y.a,{to:"/"})}})]})},rr=function(e){var t=!!v((function(e){return e.auth.uid})),n=e.component;return Object(j.jsx)(y.b,{path:e.path,component:function(){return t?Object(j.jsx)(y.a,{to:"/dashboard"}):Object(j.jsx)(n,{})}})},ar=function(){return a.a.useEffect((function(){window.onload=function(){Wr.push("/")}}),[]),Object(j.jsx)("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:"Internal server error. Please refresh the page in a minute."})},cr=(n(225),n(226),function(e){var t=e.tabs,n=(e.onSelect,e.selectedIndex);return Object(j.jsx)("div",{className:"tab-bar",children:t.map((function(e,r){return Object(j.jsx)(Je.a,{to:"/analytics/".concat(t[r].toLowerCase()),style:{textDecoration:"none"},children:Object(j.jsx)("h3",{className:"tab-bar-item ".concat(n===r?"selected-item":""),children:e},e)})}))})}),ir=n(39),or=(n(227),n(228),function(e){var t=e.children,n=e.style,r=e.id;return Object(j.jsx)("section",{className:"analytics-card",style:n,id:r,children:t})}),sr=(n(229),function(e){var t=e.title;return Object(j.jsx)("h3",{className:"analytics-card-title",children:t})}),lr=(n(230),function(e){var t=e.categoryTypes,n=e.totalCount;return Object(j.jsxs)("table",{className:"analytics-category-table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"analytics-category-table__header",style:{textAlign:"left"},children:"Category"}),Object(j.jsx)("th",{className:"analytics-category-table__header",children:"Hours"}),Object(j.jsx)("th",{className:"analytics-category-table__header",children:"% of total"})]})}),Object(j.jsx)("tbody",{children:t.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{className:"analytics-category-table__cell",children:[Object(j.jsx)("div",{className:"analytics-category-table__color",style:{backgroundColor:e.color}}),e.name]}),Object(j.jsx)("td",{className:"analytics-category-table__cell-count",children:p.Duration.fromObject({minutes:15*e.count}).toFormat("h:mm")}),Object(j.jsxs)("td",{className:"analytics-category-table__cell-count",children:[(e.count/n*100).toPrecision(2),"%"]})]},e.categoryid)}))})]})}),ur=n(384),dr=n(83),fr=n(177),yr=n(97),hr=(n(231),function(e){var t=e.categoryTypes,n=e.totalCount,r=function(e){var t=e.payload;return e.active&&t&&t.length?Object(j.jsx)("div",{className:"category-pie-chart__custom-tooltip",children:t.map((function(e){return Object(j.jsxs)("p",{style:{color:e.payload.stroke},children:[e.name,": ",e.value&&p.Duration.fromObject({minutes:15*e.value}).toFormat("h:mm"),"h (",(e.payload.count/n*100).toPrecision(2),"%)"]})}))}):null};return Object(j.jsxs)(ur.a,{width:300,height:300,children:[Object(j.jsx)(dr.a,{content:Object(j.jsx)(r,{})}),Object(j.jsx)(fr.a,{data:t,cx:145,cy:150,innerRadius:75,outerRadius:100,paddingAngle:5,dataKey:"count",animationBegin:10,animationDuration:900,children:t.map((function(e,t){return Object(j.jsx)(yr.a,{fill:e.color,stroke:"black"},"cell-".concat(t))}))})]})}),pr=(n(361),n(362),function(e){var t=e.label,n=e.options,r=e.onSelect,a=e.selected,c=e.styleSelect,i=e.text;return Object(j.jsxs)("div",{className:"tool-bar-item__dropdown",children:[Object(j.jsx)("label",{className:"tool-bar-item__label",htmlFor:"dropdown",children:t}),Object(j.jsx)("select",{style:c,value:a,className:"tool-bar-item__dropdown__select",name:"dropdown",onChange:function(e){return r(e.target.value,e.target.selectedIndex)},children:n.map((function(e,t){return Object(j.jsx)("option",{value:e,children:i?i[t]:e},t)}))})]})}),br=(n(363),function(e){var t=e.categoryTypes,n=e.activityTypes,r=e.pickedCategoryid,a=e.color,c=e.totalCount,i=t.filter((function(e){return e.categoryid===r})).flatMap((function(e){return e.count})).reduce((function(e,t){return e+t}));return Object(j.jsxs)("table",{className:"analytics-activity-table-table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"analytics-activity-table__header",style:{textAlign:"left"},children:"Activity  "}),Object(j.jsx)("th",{className:"analytics-activity-table__header",children:"Hours total"}),Object(j.jsx)("th",{className:"analytics-activity-table__header",children:"% of total"}),Object(j.jsx)("th",{className:"analytics-activity-table__header",children:"% of category"})]})}),Object(j.jsx)("tbody",{children:n.map((function(e){return e.categoryid===r?Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{className:"analytics-activity-table__cell",children:[Object(j.jsx)("div",{className:"analytics-activity-table__color",style:{backgroundColor:a}}),Object(j.jsx)("p",{className:"analytics-activity-table__long",children:e.long})]}),Object(j.jsx)("td",{className:"analytics-activity-table__cell-count",children:p.Duration.fromObject({minutes:15*e.count}).toFormat("h:mm")}),Object(j.jsxs)("td",{className:"analytics-activity-table__cell-count",children:[(e.count/c*100).toPrecision(2),"%"]}),Object(j.jsxs)("td",{className:"analytics-activity-table__cell-count",children:[(e.count/i*100).toPrecision(e.count/i*100===100?3:2),"%"]})]},e.activityid):null}))})]})}),gr=(n(364),function(e){var t=e.activityTypes,n=e.pickedCategoryid,r=e.color,a=e.totalCount,c=function(e){var t=e.payload;return e.active&&t&&t.length?Object(j.jsx)("div",{className:"activity-pie-chart__custom-tooltip",children:t.map((function(e){return Object(j.jsxs)("p",{style:{color:e.payload.stroke},children:[e.name,": ",e.value&&p.Duration.fromObject({minutes:15*e.value}).toFormat("h:mm"),"h (",(e.payload.count/a*100).toPrecision(2),"%)"]})}))}):null};return Object(j.jsxs)(ur.a,{width:300,height:300,children:[Object(j.jsx)(dr.a,{content:Object(j.jsx)(c,{})}),Object(j.jsx)(fr.a,{data:t.filter((function(e){return e.categoryid===n})),cx:145,cy:150,innerRadius:75,outerRadius:100,fill:"#8884d8",paddingAngle:5,dataKey:"count",animationBegin:10,animationDuration:900,nameKey:"long",children:t.map((function(e,t){return e.categoryid===n?Object(j.jsx)(yr.a,{fill:r,stroke:"black"},"cell-".concat(t)):null}))})]})}),vr=function(e){var t=e.categoryTypes,n=e.activityTypes,r=e.totalCount,c=a.a.useState(0),i=Object(h.a)(c,2),o=i[0],s=i[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"analytics-activity-card-content__description",children:[Object(j.jsx)("p",{className:"analytics-activity-card-content__description-text",children:"For category"}),Object(j.jsx)(pr,{styleSelect:{marginTop:0,marginBottom:"10px"},label:"",options:t.flatMap((function(e){return e.name})),onSelect:function(e,t){return s(t)},selected:t[o].name})]}),Object(j.jsx)(br,{color:t[o].color,categoryTypes:t,activityTypes:n,pickedCategoryid:t[o].categoryid,totalCount:r}),Object(j.jsx)(gr,{color:t[o].color,activityTypes:n,pickedCategoryid:t[o].categoryid,totalCount:r})]})},jr=function(e){var t=e.loading,n=v((function(e){return e.analytics.totalPerWeek}));return a.a.useLayoutEffect((function(){var e=document.getElementById("total-per-week-dashboard__categories"),t=document.getElementById("total-per-week-dashboard__activities");e&&t&&(e.clientHeight>t.clientHeight?t.style.height="".concat(e.clientHeight,"px"):e.clientHeight<t.clientHeight&&(e.style.height="".concat(t.clientHeight,"px")))})),t?Object(j.jsx)("div",{id:"main-dashboard-table__loading",children:Object(j.jsx)(G,{style:{height:"6rem",width:"6rem"}})}):Object(j.jsxs)("section",{className:"total-per-week",children:[Object(j.jsxs)(or,{style:{marginLeft:0},id:"total-per-week-dashboard__categories",children:[Object(j.jsx)(sr,{title:"Categories"}),Object(j.jsx)(lr,{categoryTypes:n.categoryTypes,totalCount:672}),Object(j.jsx)(hr,{categoryTypes:n.categoryTypes,totalCount:672})]}),Object(j.jsxs)(or,{id:"total-per-week-dashboard__activities",children:[Object(j.jsx)(sr,{title:"Activities"}),Object(j.jsx)(vr,{categoryTypes:n.categoryTypes,activityTypes:n.activityTypes,totalCount:672})]})]})},mr=(n(365),function(e){var t=e.children;return Object(j.jsx)("div",{className:"tool-bar",children:t})}),xr=function(e,t){for(var n=[],r=0;r<e.length;r++)e[r].year===t&&(n=e[r].weeks);return n},Or=function(e,t){return e.map((function(e){return"".concat(p.DateTime.fromObject({weekNumber:e,weekYear:t}).startOf("week").toLocaleString({month:"short",day:"numeric"})," - \n        ").concat(p.DateTime.fromObject({weekNumber:e,weekYear:t}).endOf("week").toLocaleString({month:"short",day:"numeric"}),"\n        ")}))},wr=function(e,t,n){for(var r=!1,a=0;a<e.length;a++)if(e[a].year===t)for(var c=0;c<e[a].weeks.length;c++)if(e[a].weeks[c]===n){r=!0;break}return r},kr=(n(366),function(e){var t=e.message;return Object(j.jsx)("section",{className:"no-analytics-banner",children:t})}),Tr=function(){var e=v((function(e){return e.auth.uid})),t=v((function(e){return e.settings.currentDate})),n=v((function(e){return e.analytics.availableDates})),r=g((function(e){return e.settings.setDate})),c=g((function(e){return e.analytics.fetchTotalPerWeek})),i=g((function(e){return e.analytics.fetchAvailableDates})),o=a.a.useState(!0),s=Object(h.a)(o,2),l=s[0],f=s[1],y=a.a.useState(null),b=Object(h.a)(y,2),m=b[0],x=b[1],O=A("ArrowLeft"),w=A("ArrowRight"),k=A("c");a.a.useEffect((function(){Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=6;break}if(!wr(n,t.year,t.weekNr-1)){e.next=4;break}return e.next=4,T(t.weekNr-1,t.year);case 4:case 10:e.next=15;break;case 6:if(!w){e.next=12;break}if(!wr(n,t.year,t.weekNr+1)){e.next=10;break}return e.next=10,T(t.weekNr+1,t.year);case 12:if(!k){e.next=15;break}return e.next=15,T(p.DateTime.now().weekNumber,p.DateTime.now().startOf("week").year);case 15:case"end":return e.stop()}}),e)})))()}),[O,w,k]),a.a.useEffect((function(){Object(d.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),n.prev=1,n.next=4,c({userid:e,weekNr:t.weekNr,year:t.year});case 4:return n.next=6,i({userid:e});case 6:x(""),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),x(n.t0.message);case 12:return n.prev=12,f(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[1,9,12,15]])})))()}),[]);var T=function(){var t=Object(d.a)(u.a.mark((function t(n,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.prev=1,t.next=4,c({userid:e,weekNr:n,year:a});case 4:x(""),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),x(t.t0.message);case 10:return t.prev=10,f(!1),r({date:{weekNr:n,year:a}}),t.finish(10);case 14:case"end":return t.stop()}}),t,null,[[1,7,10,14]])})));return function(e,n){return t.apply(this,arguments)}}(),E=function(){var a=Object(d.a)(u.a.mark((function a(i){var o,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:o=-1,s=0;case 2:if(!(s<n.length)){a.next=9;break}if(n[s].year!==i){a.next=6;break}return o=Math.max.apply(Math,Object(ir.a)(n[s].weeks)),a.abrupt("break",9);case 6:s++,a.next=2;break;case 9:if(-1===o){a.next=24;break}return f(!0),a.prev=11,a.next=14,c({userid:e,weekNr:t.weekNr,year:t.year});case 14:x(""),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(11),x(a.t0.message);case 20:return a.prev=20,f(!1),r({date:{weekNr:o,year:i}}),a.finish(20);case 24:case"end":return a.stop()}}),a,null,[[11,17,20,24]])})));return function(e){return a.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(mr,{children:[Object(j.jsx)(pr,{label:"Year",options:n.flatMap((function(e){return e.year})),onSelect:function(e){return E(parseInt(e.toString()))},selected:t.year}),Object(j.jsx)(pr,{label:"Week",options:xr(n,t.year),onSelect:function(e){return T(parseInt(e.toString()),t.year)},selected:t.weekNr,text:Or(xr(n,t.year),t.year)})]}),m?Object(j.jsx)(kr,{message:m}):Object(j.jsx)(jr,{loading:l})]})},Er=(n(367),n(56),n(380)),Nr=n(381),Dr=n(183),Cr=n(184),Sr=n(80),_r=n(186),Pr=function(e){var t=e.totalPerDay,n=v((function(e){return e.settings.categoryTypes})),r=function(e){var t=e.payload;return e.active&&t&&t.length?Object(j.jsx)("div",{className:"custom-tooltip",children:t.map((function(e){return Object(j.jsxs)("p",{style:{color:e.color},children:[e.dataKey,": ",e.value&&p.Duration.fromObject({minutes:15*e.value}).toFormat("h:mm"),"h"]})}))}):null};return Object(j.jsx)("div",{style:{width:"800px",height:"500px"},children:Object(j.jsx)(Er.a,{width:"100%",height:"100%",children:Object(j.jsxs)(Nr.a,{width:500,height:300,data:function(e){for(var t=[],n=0;n<e.length;n++){for(var r={weekDay:p.Info.weekdays()[n]},a=0;a<e[n].categories.length;a++){r[e[n].categories[a].name]=e[n].categories[a].count}t.push(r)}return t}(t),margin:{top:20,right:30,left:20,bottom:5},children:[Object(j.jsx)(Dr.a,{dataKey:"weekDay",stroke:"white"}),Object(j.jsx)(Cr.a,{}),Object(j.jsx)(dr.a,{content:Object(j.jsx)(r,{}),animationDuration:100,contentStyle:{backgroundColor:"white",borderRadius:"7px"},cursor:!1}),Object(j.jsx)(Sr.a,{}),n.map((function(e){if(e.categoryid)return Object(j.jsx)(_r.a,{dataKey:e.name,stackId:"a",fill:e.color},e.categoryid)}))]})})})},Ir=function(e){var t=e.loading,n=e.totalPerDay;return t?Object(j.jsx)("div",{id:"main-dashboard-table__loading",children:Object(j.jsx)(G,{style:{height:"6rem",width:"6rem"}})}):Object(j.jsx)("section",{className:"total-per-day",children:Object(j.jsxs)(or,{children:[Object(j.jsx)(sr,{title:"Categories"}),Object(j.jsx)(Pr,{totalPerDay:n})]})})},Ar=function(){var e=g((function(e){return e.settings.setDate})),t=g((function(e){return e.analytics.fetchTotalPerDay})),n=g((function(e){return e.analytics.fetchAvailableDates})),r=g((function(e){return e.settings.fetchCategoryTypesFull})),c=v((function(e){return e.auth.uid})),i=v((function(e){return e.settings.currentDate})),o=v((function(e){return e.analytics.availableDates})),s=v((function(e){return e.analytics.totalPerDay})),l=a.a.useState(!0),f=Object(h.a)(l,2),y=f[0],b=f[1],m=A("ArrowLeft"),x=A("ArrowRight"),O=A("c");a.a.useEffect((function(){Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=6;break}if(!wr(o,i.year,i.weekNr-1)){e.next=4;break}return e.next=4,w(i.weekNr-1,i.year);case 4:case 10:e.next=15;break;case 6:if(!x){e.next=12;break}if(!wr(o,i.year,i.weekNr+1)){e.next=10;break}return e.next=10,w(i.weekNr+1,i.year);case 12:if(!O){e.next=15;break}return e.next=15,w(p.DateTime.now().weekNumber,p.DateTime.now().startOf("week").year);case 15:case"end":return e.stop()}}),e)})))()}),[m,x,O]),a.a.useEffect((function(){Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,r({userid:c});case 4:return e.next=6,t({userid:c,weekNr:i.weekNr,year:i.year});case 6:return e.next=8,n({userid:c});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.prev=13,b(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))()}),[]);var w=function(){var n=Object(d.a)(u.a.mark((function n(r,a){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b(!0),n.prev=1,n.next=4,t({userid:c,weekNr:r,year:a});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.log(n.t0);case 9:return n.prev=9,b(!1),e({date:{weekNr:r,year:a}}),n.finish(9);case 13:case"end":return n.stop()}}),n,null,[[1,6,9,13]])})));return function(e,t){return n.apply(this,arguments)}}(),k=function(){var n=Object(d.a)(u.a.mark((function n(r){var a,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=-1,i=0;case 2:if(!(i<o.length)){n.next=9;break}if(o[i].year!==r){n.next=6;break}return a=Math.max.apply(Math,Object(ir.a)(o[i].weeks)),n.abrupt("break",9);case 6:i++,n.next=2;break;case 9:if(-1===a){n.next=23;break}return b(!0),n.prev=11,n.next=14,t({userid:c,weekNr:a,year:r});case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(11),console.log(n.t0);case 19:return n.prev=19,b(!1),e({date:{year:r,weekNr:a}}),n.finish(19);case 23:case"end":return n.stop()}}),n,null,[[11,16,19,23]])})));return function(e){return n.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(mr,{children:[Object(j.jsx)(pr,{label:"Year",options:o.flatMap((function(e){return e.year})),onSelect:function(e){return k(parseInt(e.toString()))},selected:i.year}),Object(j.jsx)(pr,{label:"Week",options:xr(o,i.year),onSelect:function(e){return w(parseInt(e.toString()),i.year)},selected:i.weekNr,text:Or(xr(o,i.year),i.year)})]}),Object(j.jsx)(Ir,{loading:y,totalPerDay:s})]})},Mr=(n(371),function(e){var t=e.loading,n=v((function(e){return e.analytics.totalPerMonth})),r=v((function(e){return e.settings.currentMonthDate}));return a.a.useLayoutEffect((function(){var e=document.getElementById("total-per-week-dashboard__categories"),t=document.getElementById("total-per-week-dashboard__activities");e&&t&&(e.clientHeight>t.clientHeight?t.style.height="".concat(e.clientHeight,"px"):e.clientHeight<t.clientHeight&&(e.style.height="".concat(t.clientHeight,"px")))})),t?Object(j.jsx)("div",{id:"main-dashboard-table__loading",children:Object(j.jsx)(G,{style:{height:"6rem",width:"6rem"}})}):Object(j.jsxs)("section",{className:"total-per-month",children:[Object(j.jsxs)(or,{style:{marginLeft:0},id:"total-per-week-dashboard__categories",children:[Object(j.jsx)(sr,{title:"Categories"}),Object(j.jsx)(lr,{categoryTypes:n.categoryTypes,totalCount:24*p.DateTime.fromObject({month:r.month,year:r.year}).daysInMonth*4}),Object(j.jsx)(hr,{categoryTypes:n.categoryTypes,totalCount:24*p.DateTime.fromObject({month:r.month,year:r.year}).daysInMonth*4})]}),Object(j.jsxs)(or,{id:"total-per-week-dashboard__activities",children:[Object(j.jsx)(sr,{title:"Activities"}),Object(j.jsx)(vr,{categoryTypes:n.categoryTypes,activityTypes:n.activityTypes,totalCount:24*p.DateTime.fromObject({month:r.month,year:r.year}).daysInMonth*4})]})]})}),Hr=function(e,t,n){for(var r=!1,a=0;a<e.length;a++)e[a].year===t&&e[a].month===n&&(r=!0);return r},Lr=function(){var e=v((function(e){return e.auth.uid})),t=v((function(e){return e.settings.currentMonthDate})),n=v((function(e){return e.analytics.availableMonths})),r=g((function(e){return e.analytics.fetchAvailableMonths})),c=g((function(e){return e.analytics.fetchTotalPerMonth})),i=g((function(e){return e.settings.setDate})),o=a.a.useState(!0),s=Object(h.a)(o,2),l=s[0],f=s[1],y=a.a.useState(null),b=Object(h.a)(y,2),m=b[0],x=b[1],O=A("ArrowLeft"),w=A("ArrowRight"),k=A("c");a.a.useEffect((function(){Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=6;break}if(!Hr(n,t.year,t.month-1)){e.next=4;break}return e.next=4,T(t.month-1,t.year);case 4:case 10:e.next=15;break;case 6:if(!w){e.next=12;break}if(!Hr(n,t.year,t.month+1)){e.next=10;break}return e.next=10,T(t.month+1,t.year);case 12:if(!k){e.next=15;break}return e.next=15,T(p.DateTime.now().month,p.DateTime.now().startOf("week").year);case 15:case"end":return e.stop()}}),e)})))()}),[O,w,k]),a.a.useEffect((function(){Object(d.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),n.prev=1,n.next=4,c({userid:e,month:t.month,year:t.year});case 4:return n.next=6,r({userid:e});case 6:x(""),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),x(n.t0.message);case 12:return n.prev=12,f(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[1,9,12,15]])})))()}),[]);var T=function(){var t=Object(d.a)(u.a.mark((function t(r,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.prev=1,t.next=4,c({userid:e,month:r,year:a});case 4:x(""),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),x(t.t0.message);case 10:return t.prev=10,f(!1),i({date:{weekNr:Math.max.apply(Math,Object(ir.a)(n.filter((function(e){return e.year===a&&e.month===r})).flatMap((function(e){return e.weekNr})))),year:a}}),t.finish(10);case 14:case"end":return t.stop()}}),t,null,[[1,7,10,14]])})));return function(e,n){return t.apply(this,arguments)}}(),E=function(){var t=Object(d.a)(u.a.mark((function t(r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Math.max.apply(Math,Object(ir.a)(n.filter((function(e){return e.year===r})).flatMap((function(e){return e.month})))),f(!0),t.prev=2,t.next=5,c({userid:e,month:a,year:r});case 5:x(""),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),x(t.t0.message);case 11:return t.prev=11,f(!1),i({date:{year:r,weekNr:Math.max.apply(Math,Object(ir.a)(n.filter((function(e){return e.year===r})).flatMap((function(e){return e.weekNr}))))}}),t.finish(11);case 15:case"end":return t.stop()}}),t,null,[[2,8,11,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(mr,{children:[Object(j.jsx)(pr,{label:"Year",options:Object(ir.a)(new Set(n.flatMap((function(e){return e.year})))),onSelect:function(e){return E(parseInt(e.toString()))},selected:t.year}),Object(j.jsx)(pr,{label:"Month",options:Object(ir.a)(new Set(n.filter((function(e){return e.year===t.year})).flatMap((function(e){return e.month})))).sort((function(e,t){return e>t?-1:1})),onSelect:function(e){return T(parseInt(e.toString()),t.year)},selected:t.month,text:Object(ir.a)(new Set(n.filter((function(e){return e.year===t.year})).flatMap((function(e){return e.month})))).sort((function(e,t){return e>t?-1:1})).map((function(e){return p.Info.months()[e-1]}))})]}),m?Object(j.jsx)(kr,{message:m}):Object(j.jsx)(Mr,{loading:l})]})},Br=function(){var e=["Monthly","Weekly","Daily"],t=Object(y.h)(),n=Object(y.g)(),r=a.a.useState(0),c=Object(h.a)(r,2),i=c[0],o=c[1];return a.a.useEffect((function(){var r=t.pathname.split("/");if(3===r.length)for(var a=r[2],c=0;c<e.length;c++)a===e[c].toLowerCase()&&o(c);else o(0),n.push("/analytics/monthly")}),[t]),Object(j.jsxs)("div",{className:"analytics-dashboard-wrapper",children:[Object(j.jsx)(cr,{tabs:e,selectedIndex:i,onSelect:function(e){return o(e)}}),e.map((function(e,t){return 0===i&&i===t?Object(j.jsx)(Lr,{},t):1===i&&i===t?Object(j.jsx)(Tr,{},t):2===i&&i===t?Object(j.jsx)(Ar,{},t):void 0}))]})},Fr=(n(372),n(373),function(e){var t=e.onChange,n=e.value;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("label",{className:"toggle-switch",children:[Object(j.jsx)("input",{type:"checkbox",checked:n,onChange:function(){return t(!n)}}),Object(j.jsx)("span",{className:"switch"})]})})}),zr=function(e,t){for(var n=!1,r={},a=0;a<e.length;a++)if(e[a].categoryid===t){n=!0,r=e[a];break}return{exists:n,categoryType:r}},Rr=function(e,t){for(var n=!1,r={},a=0;a<e.length;a++)if(e[a].activityid===t){n=!0,r=e[a];break}return{exists:n,activityType:r}},Vr=function(){var e=Object(y.g)(),t=Object(y.i)(),n=t.categoryid,r=t.activityid,c="new"===r?"Create new activity":"Edit activity",i=v((function(e){return e.settings.categoryTypes})),o=v((function(e){return e.settings.activityTypes})),s=v((function(e){return e.auth.uid})),l=g((function(e){return e.settings.fetchCategoryTypesFull})),f=g((function(e){return e.settings.updateActivityType})),p=g((function(e){return e.settings.createActivityType})),b=a.a.useState(""),m=Object(h.a)(b,2),x=m[0],O=m[1],w=a.a.useState(""),k=Object(h.a)(w,2),T=k[0],E=k[1],N=a.a.useState(!1),D=Object(h.a)(N,2),C=D[0],S=D[1],_=a.a.useState({}),P=Object(h.a)(_,2),I=P[0],A=P[1],M=a.a.useState(!1),H=Object(h.a)(M,2),L=H[0],B=H[1];a.a.useEffect((function(){Object(d.a)(u.a.mark((function t(){var a,c,d,f,y;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return B(!0),t.prev=1,t.next=4,l({userid:s});case 4:"new"===r?(a=zr(i,n),c=a.exists,d=a.categoryType,c?A(d):e.goBack()):(f=zr(i,n),y=Rr(o,r),f.exists&&y.exists?(O(y.activityType.long),E(y.activityType.short),S(y.activityType.archived),A(f.categoryType)):e.goBack()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:return t.prev=10,B(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,7,10,13]])})))()}),[]);var F=function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(x.length>0&&T.length>0)){t.next=28;break}if("new"!==r){t.next=16;break}return t.prev=3,t.next=6,p({userid:s,activityType:{userid:s,categoryid:n,activityid:r,long:x,short:T,archived:C}});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:return t.prev=11,e.push("/settings"),t.finish(11);case 14:t.next=28;break;case 16:return t.prev=16,t.next=19,f({userid:s,activityType:{userid:s,categoryid:n,activityid:r,long:x,short:T,archived:C}});case 19:e.push("/settings"),t.next=25;break;case 22:t.prev=22,t.t1=t.catch(16),console.log(t.t1);case 25:return t.prev=25,e.push("/settings"),t.finish(25);case 28:case"end":return t.stop()}}),t,null,[[3,8,11,14],[16,22,25,28]])})));return function(e){return t.apply(this,arguments)}}();return L?Object(j.jsx)("div",{id:"main-dashboard-table__loading",children:Object(j.jsx)(G,{style:{height:"6rem",width:"6rem"}})}):Object(j.jsxs)("section",{className:"edit-activity-form__container",children:[Object(j.jsx)("div",{className:"edit-activity-form__title-container",children:Object(j.jsx)("h1",{children:c})}),Object(j.jsxs)("form",{className:"edit-activity-form__form",onSubmit:F,children:[Object(j.jsxs)("section",{className:"edit-activity-form__form-section",children:[Object(j.jsx)("label",{htmlFor:"category",className:"edit-activity-form__label",children:"Part of category"}),Object(j.jsxs)("section",{className:"edit-activity-form__category-section",children:[Object(j.jsx)("p",{className:"edit-activity-form__category",children:I.name}),Object(j.jsx)("div",{style:{backgroundColor:I.color},className:"edit-activity-form__category-color"})]})]}),Object(j.jsxs)("section",{className:"edit-activity-form__form-section",children:[Object(j.jsx)("label",{htmlFor:"long",className:"edit-activity-form__label",children:"Long description"}),Object(j.jsx)("textarea",{name:"long",value:x,onChange:function(e){return O(e.target.value)},className:"edit-activity-form__long-input",maxLength:100})]}),Object(j.jsxs)("section",{className:"edit-activity-form__form-section",children:[Object(j.jsx)("label",{htmlFor:"short",className:"edit-activity-form__label",children:"Short abbreviation"}),Object(j.jsx)("input",{name:"short",type:"text",value:T,onChange:function(e){return E(e.target.value)},className:"edit-activity-form__short-input",maxLength:2})]}),Object(j.jsxs)("section",{className:"edit-activity-form__form-section",children:[Object(j.jsx)("label",{htmlFor:"archived",className:"edit-activity-form__label",children:"Archived"}),Object(j.jsx)(Fr,{onChange:S,value:C})]}),Object(j.jsxs)("section",{className:"edit-activity-form__form-section",children:[Object(j.jsx)("div",{}),Object(j.jsx)("button",{className:"button-pos",children:"Save"})]})]})]})},Wr=Object(f.a)(),Jr=function(){return Object(j.jsx)(y.c,{history:Wr,children:Object(j.jsxs)(y.d,{children:[Object(j.jsx)(rr,{path:"/",component:tt,exact:!0}),Object(j.jsx)(rr,{path:"/internal-error",component:ar,exact:!1}),Object(j.jsx)(nr,{path:"/analytics",component:Br}),Object(j.jsx)(nr,{path:"/analytics/monthly",component:Br}),Object(j.jsx)(nr,{path:"/analytics/weekly",component:Br}),Object(j.jsx)(nr,{path:"/analytics/daily",component:Br}),Object(j.jsx)(nr,{path:"/dashboard",component:et}),Object(j.jsx)(nr,{path:"/settings/category/:categoryid/edit-activity/:activityid",component:Vr}),Object(j.jsx)(nr,{path:"/settings",component:nn}),Object(j.jsx)(y.b,{component:nt})]})})},Yr={uid:"",login:Object(o.g)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/auth/login",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email,password:n.password})});case 3:if(!(r=e.sent).ok){e.next=12;break}return e.next=7,r.json();case 7:a=e.sent,window.localStorage.setItem("userid",a[0].userid),t.setuid({userid:a[0].userid}),e.next=13;break;case 12:401!==r.status&&Wr.push("/internal-error");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),Wr.push("/internal-error");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()),setuid:Object(o.b)((function(e,t){e.uid=t.userid})),logout:Object(o.g)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(n.userid,"/auth/logout"),{method:"GET",mode:"cors",credentials:"include"});case 3:e.sent.ok?(window.localStorage.removeItem("userid"),t.setuid({userid:""})):Wr.push("/internal-error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Wr.push("/internal-error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}())},Gr=Yr,Kr=n(383),Xr=n(98),qr={notes:[],setNotes:Object(o.b)((function(e,t){e.notes=t.notes})),syncToDb:Object(o.h)((function(e){return[e.aboveDifference,e.belowDifference,e.deleteNoteStack,e.deleteNoteText,e.setNoteText]}),Object(Xr.debounce)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ia.getState().auth.uid,a=ia.getState().notes.notes,c=n.payload.weekDay,e.prev=3,e.next=6,fetch("api/user/".concat(r,"/week/").concat(a[0][0].weekid,"/day/").concat(c,"/notes "),{method:"PATCH",mode:"cors",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a[c])});case 6:e.sent.ok||Wr.push("/internal-error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Wr.push("/internal-error");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}(),200)),aboveDifferenceCache:{draggedIntoPosition:0,dragPosition:0,weekDay:-1,dragStackid:"",dragNoteText:""},aboveDifference:Object(o.b)((function(e,t){var n=t.draggedIntoPosition,r=t.dragPosition,a=t.weekDay,c=t.dragStackid,i=t.dragNoteText;if(e.aboveDifferenceCache.draggedIntoPosition!==n||e.aboveDifferenceCache.dragPosition!==r||e.aboveDifferenceCache.weekDay!==a||e.aboveDifferenceCache.dragStackid!==c||e.aboveDifferenceCache.dragNoteText!==i){for(var o=[],s=n;s<r;s++)o.push(s);for(var l=0;l<e.notes.length;l++)for(var u=0;u<e.notes[l].length;u++){var d=e.notes[l][u];if(o.includes(d.notePosition)&&d.weekDay===a){e.notes[l][u].stackid=c,e.notes[l][u].note=i;for(var f=0;f<e.notes.length;f++)for(var y=0;y<e.notes[f].length;y++){var h=e.notes[f][y];h.stackid===c&&h.weekDay===a&&h.notePosition!==n&&(e.notes[f][y].note="")}}}e.aboveDifferenceCache.draggedIntoPosition=n,e.aboveDifferenceCache.dragPosition=r,e.aboveDifferenceCache.weekDay=a,e.aboveDifferenceCache.dragStackid=c,e.aboveDifferenceCache.dragNoteText=i}})),belowDifferenceCache:{draggedIntoPosition:0,dragPosition:0,weekDay:-1,dragStackid:"",oldStackid:"",oldNote:""},belowDifference:Object(o.b)((function(e,t){var n=t.draggedIntoPosition,r=t.dragPosition,a=t.weekDay,c=t.dragStackid,i=t.oldStackid,o=t.oldNote;if(e.belowDifferenceCache.draggedIntoPosition!==n||e.belowDifferenceCache.dragPosition!==r||e.belowDifferenceCache.weekDay!==a||e.belowDifferenceCache.dragStackid!==c||e.belowDifferenceCache.oldStackid!==i||e.belowDifferenceCache.oldNote!==o){for(var s=[],l=r+1;l<n+1;l++)s.push(l);for(var u=0;u<e.notes.length;u++)for(var d=0;d<e.notes[u].length;d++){var f=e.notes[u][d];if(s.includes(f.notePosition)&&f.weekDay===a){e.notes[u][d].stackid=c;for(var y=0;y<e.notes.length;y++)for(var h=0;h<e.notes[y].length;h++){var p=e.notes[y][h];p.stackid===c&&p.weekDay===a&&p.notePosition!==r&&(e.notes[y][h].note="")}var b=S(e.notes.flat(1),i),g=b.min;if(g!==b.max)for(var v=0;v<e.notes.length;v++)for(var j=0;j<e.notes[v].length;j++){var m=e.notes[v][j];m.stackid===i&&m.weekDay===a&&m.notePosition===g+1&&(e.notes[v][j].note=o)}}}}e.belowDifferenceCache.draggedIntoPosition=n,e.belowDifferenceCache.dragPosition=r,e.belowDifferenceCache.weekDay=a,e.belowDifferenceCache.dragStackid=c,e.belowDifferenceCache.oldStackid=i,e.belowDifferenceCache.oldNote=o})),setNoteText:Object(o.b)((function(e,t){for(var n=0;n<e.notes.length;n++)for(var r=0;r<e.notes[n].length;r++){var a=e.notes[n][r];if(a.notePosition===t.notePosition&&a.weekDay===t.weekDay){e.notes[n][r].note=t.note;break}}})),deleteNoteText:Object(o.b)((function(e,t){for(var n=0;n<e.notes.length;n++)for(var r=0;r<e.notes[n].length;r++){var a=e.notes[n][r];if(a.notePosition===t.notePosition&&a.weekDay===t.weekDay){e.notes[n][r].note="";break}}})),deleteNoteStack:Object(o.b)((function(e,t){for(var n=S(Object(o.f)(e.notes.flat(1)),t.stackid).min,r=0;r<e.notes.length;r++)for(var a=0;a<e.notes[r].length;a++){var c=e.notes[r][a];c.stackid===t.stackid&&c.weekDay===t.weekDay&&(e.notes[r][a].stackid=Object(Kr.a)(),c.notePosition!==n&&(e.notes[r][a].note=""))}}))},Qr=qr,Ur=function(e){for(var t=[],n=[],r=0;r<e.length;r++)e[r].archived?n.push(e[r]):t.push(e[r]);return t.concat(n)},Zr={timeHoverIndex:0,setHoverIndex:Object(o.b)((function(e,t){e.timeHoverIndex=t.timeHoverIndex})),activityTypes:[],setActivityTypes:Object(o.b)((function(e,t){e.activityTypes=t.activityTypes})),setActivityType:Object(o.b)((function(e,t){var n=e.activityTypes.findIndex((function(e){return e.activityid===t.activityType.activityid}));-1!==n?e.activityTypes[n]=t.activityType:e.activityTypes.unshift(t.activityType)})),createActivityType:Object(o.g)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(n.userid,"/activity-types"),{method:"POST",mode:"cors",credentials:"include",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify(n.activityType)});case 2:if(!(r=e.sent).ok){e.next=10;break}return e.next=6,r.json();case 6:a=e.sent,t.setActivityType({activityType:a}),e.next=15;break;case 10:if(401!==r.status){e.next=14;break}Wr.push("/login"),e.next=15;break;case 14:throw new Error("Activity could not be created.");case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),updateActivityType:Object(o.g)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(n.userid,"/activity-type/").concat(n.activityType.activityid),{method:"PATCH",mode:"cors",credentials:"include",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify(n.activityType)});case 2:if(!(r=e.sent).ok){e.next=10;break}return e.next=6,r.json();case 6:a=e.sent,t.setActivityType({activityType:a}),e.next=19;break;case 10:if(401!==r.status){e.next=14;break}Wr.push("/login"),e.next=19;break;case 14:if(404!==r.status){e.next=18;break}throw new Error("Could not find the activity to update.");case 18:throw new Error("Error occurred while updating the activity.");case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),categoryTypes:[],setCategoryTypes:Object(o.b)((function(e,t){e.categoryTypes=t.categoryTypes})),setCategoryType:Object(o.b)((function(e,t){var n=e.categoryTypes.findIndex((function(e){return e.categoryid===t.categoryType.categoryid}));-1!==n?e.categoryTypes[n]=t.categoryType:e.categoryTypes.unshift(t.categoryType)})),createCategoryType:Object(o.g)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(n.userid,"/category-types"),{method:"POST",mode:"cors",credentials:"include",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({color:n.color,name:n.name})});case 2:if(!(r=e.sent).ok){e.next=10;break}return e.next=6,r.json();case 6:a=e.sent,t.setCategoryType({categoryType:a}),e.next=15;break;case 10:if(401!==r.status){e.next=14;break}Wr.push("/login"),e.next=15;break;case 14:throw new Error("Could not create the given category.");case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),fetchCategoryTypesFull:Object(o.g)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(n.userid,"/category-types-full"),{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:if(!(r=e.sent).ok){e.next=11;break}return e.next=6,r.json();case 6:a=e.sent,t.setActivityTypes({activityTypes:a.activityTypes}),t.setCategoryTypes({categoryTypes:a.categoryTypes}),e.next=16;break;case 11:if(401!==r.status){e.next=15;break}Wr.push("/login"),e.next=16;break;case 15:throw new Error("Could not fetch category types full");case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),archiveCategoryType:Object(o.b)((function(e,t){var n=e.categoryTypes.findIndex((function(e){return e.categoryid===t.categoryType.categoryid}));n>-1&&(e.categoryTypes[n].archived=!0),e.categoryTypes=Ur(e.categoryTypes);for(var r=0;r<e.activityTypes.length;r++)e.activityTypes[r].categoryid===t.categoryType.categoryid&&(e.activityTypes[r].archived=!0)})),restoreCategoryType:Object(o.b)((function(e,t){var n=e.categoryTypes.findIndex((function(e){return e.categoryid===t.categoryType.categoryid}));n>-1&&(e.categoryTypes[n].archived=!1),e.categoryTypes=Ur(e.categoryTypes);for(var r=0;r<e.activityTypes.length;r++)e.activityTypes[r].categoryid===t.categoryType.categoryid&&(e.activityTypes[r].archived=!1)})),updateCategoryType:Object(o.g)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/user/".concat(n.userid,"/category-type/").concat(n.categoryType.categoryid),{method:"PATCH",mode:"cors",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n.categoryType)});case 2:if(!(r=e.sent).ok){e.next=10;break}return e.next=6,r.json();case 6:a=e.sent,t.setCategoryType({categoryType:a}),e.next=19;break;case 10:if(401!==r.status){e.next=14;break}Wr.push("/login"),e.next=19;break;case 14:if(404!==r.status){e.next=18;break}throw new Error("Could not find category to update.");case 18:throw new Error("Could not update the category.");case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),currentMonthDate:Object(o.c)((function(e){return{month:p.DateTime.fromObject({weekNumber:e.currentDate.weekNr,weekYear:e.currentDate.year}).month,year:p.DateTime.fromObject({weekNumber:e.currentDate.weekNr,weekYear:e.currentDate.year}).year,weekNr:e.currentDate.weekNr}})),currentDate:{weekNr:p.DateTime.now().weekNumber,year:p.DateTime.now().startOf("week").year},setDate:Object(o.b)((function(e,t){e.currentDate=t.date})),featurePopupViewed:!1,setFeaturePopupViewed:Object(o.b)((function(e,t){e.featurePopupViewed=t.featurePopupViewed}))},$r=Zr,ea={categories:[],setCategories:Object(o.b)((function(e,t){e.categories=t.categories})),setCategory:Object(o.b)((function(e,t){for(var n=-1,r=-1,a=0;a<e.categories.length;a++)for(var c=0;c<e.categories[a].length;c++){var i=e.categories[a][c];if(i.categoryPosition===t.categoryPosition&&i.weekDay===t.weekDay){n=a,r=c;break}}-1!==n&&-1!==r&&(e.categories[n][r].categoryid=t.categoryid,e.categories[n][r].activityid=null)})),setActivity:Object(o.b)((function(e,t){for(var n=-1,r=-1,a=0;a<e.categories.length;a++)for(var c=0;c<e.categories[a].length;c++){var i=e.categories[a][c];if(i.categoryPosition===t.categoryPosition&&i.weekDay===t.weekDay){n=a,r=c;break}}-1!==n&&-1!==r&&(e.categories[n][r].activityid=t.activityid)})),syncToDb:Object(o.h)((function(e){return[e.categoryDragSet,e.setCategory,e.setActivity]}),Object(Xr.debounce)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ia.getState().auth.uid,a=ia.getState().categories.categories,c=n.payload.weekDay,e.prev=3,e.next=6,fetch("api/user/".concat(r,"/week/").concat(a[0][0].weekid,"/day/").concat(c,"/categories "),{method:"PATCH",mode:"cors",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a[c])});case 6:e.sent.ok||Wr.push("/internal-error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Wr.push("/internal-error");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}(),200)),categoryDragSet:Object(o.b)((function(e,t){var n=t.dragPosition,r=t.draggedIntoPosition,a=t.weekDay,c=t.dragCategoryid,i=t.dragActivityid,o=[];if(n>r)for(var s=r;s<n;s++)o.push(s);else for(var l=n+1;l<r+1;l++)o.push(l);for(var u=0;u<e.categories.length;u++)for(var d=0;d<e.categories[u].length;d++){var f=e.categories[u][d];o.includes(f.categoryPosition)&&f.weekDay===a&&(e.categories[u][d].categoryid=c,e.categories[u][d].activityid=i)}}))},ta=ea,na={totalPerWeek:{activityTypes:[],categoryTypes:[]},setTotalPerWeek:Object(o.b)((function(e,t){e.totalPerWeek=t.totalPerWeek})),fetchTotalPerWeek:Object(o.g)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(n.userid,"/analytics/total-per-week?week_number=").concat(n.weekNr,"&week_year=").concat(n.year),{method:"GET",mode:"cors",credentials:"include"});case 2:if(!(r=e.sent).ok){e.next=10;break}return e.next=6,r.json();case 6:a=e.sent,t.setTotalPerWeek({totalPerWeek:a}),e.next=19;break;case 10:if(401!==r.status){e.next=14;break}Wr.push("/login"),e.next=19;break;case 14:if(404!==r.status){e.next=18;break}throw new Error("This week has no analytics.");case 18:throw new Error("Error occurred while fetching analytics for this week.");case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),totalPerDay:[],setTotalPerDay:Object(o.b)((function(e,t){e.totalPerDay=t.totalPerDay})),fetchTotalPerDay:Object(o.g)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(n.userid,"/analytics/total-per-day?week_number=").concat(n.weekNr,"&week_year=").concat(n.year),{method:"GET",mode:"cors",credentials:"include"});case 2:if(!(r=e.sent).ok){e.next=10;break}return e.next=6,r.json();case 6:a=e.sent,t.setTotalPerDay({totalPerDay:a}),e.next=19;break;case 10:if(401!==r.status){e.next=14;break}Wr.push("/login"),e.next=19;break;case 14:if(404!==r.status){e.next=18;break}throw new Error("This week has no analytics.");case 18:throw new Error("Error occurred while fetching analytics for this week.");case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),availableDates:[],setAvailableDates:Object(o.b)((function(e,t){e.availableDates=t.availableDates})),fetchAvailableDates:Object(o.g)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(n.userid,"/analytics/available-dates"),{method:"GET",mode:"cors",credentials:"include"});case 2:if(!(r=e.sent).ok){e.next=10;break}return e.next=6,r.json();case 6:a=e.sent,t.setAvailableDates({availableDates:a}),e.next=15;break;case 10:if(401!==r.status){e.next=14;break}Wr.push("/login"),e.next=15;break;case 14:throw new Error("Could not fetch available dates for user ".concat(n.userid,"."));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),availableMonths:[],setAvailableMonths:Object(o.b)((function(e,t){e.availableMonths=t.availableMonths})),fetchAvailableMonths:Object(o.g)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(n.userid,"/analytics/available-months"),{method:"GET",mode:"cors",credentials:"include"});case 2:if(!(r=e.sent).ok){e.next=10;break}return e.next=6,r.json();case 6:a=e.sent,t.setAvailableMonths({availableMonths:a}),e.next=15;break;case 10:if(401!==r.status){e.next=14;break}Wr.push("/login"),e.next=15;break;case 14:throw new Error("Could not fetch available months for user ".concat(n.userid,"."));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),totalPerMonth:{categoryTypes:[],activityTypes:[]},setTotalPerMonth:Object(o.b)((function(e,t){e.totalPerMonth=t.totalPerMonth})),fetchTotalPerMonth:Object(o.g)(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/".concat(n.userid,"/analytics/total-per-month?month=").concat(n.month,"&year=").concat(n.year),{method:"GET",mode:"cors",credentials:"include"});case 2:if(!(r=e.sent).ok){e.next=10;break}return e.next=6,r.json();case 6:a=e.sent,t.setTotalPerMonth({totalPerMonth:a}),e.next=19;break;case 10:if(401!==r.status){e.next=14;break}Wr.push("/login"),e.next=19;break;case 14:if(404!==r.status){e.next=18;break}throw new Error("This week has no analytics.");case 18:throw new Error("Error occurred while fetching analytics for this month.");case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},ra=na,aa=Object(o.d)({auth:Gr,settings:$r,notes:Qr,categories:ta,analytics:ra,reset:Object(o.b)((function(e,t){return Object(s.a)({},ca)}))}),ca=aa.getState(),ia=aa;n(374);i.a.render(Object(j.jsx)(o.a,{store:ia,children:Object(j.jsx)(Jr,{})}),document.getElementById("root"))}},[[375,1,2]]]);
//# sourceMappingURL=main.92b395ab.chunk.js.map