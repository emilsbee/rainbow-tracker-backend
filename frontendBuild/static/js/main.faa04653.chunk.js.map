{"version":3,"sources":["store/hookSetup.ts","components/MainDashboard/Day/Category/CategoryItemPopover/CategoryItemPopover.tsx","components/MainDashboard/Day/Activity/ActivityItemPopover/ActivityItemPopover.tsx","components/MainDashboard/Day/Activity/Activity.tsx","components/MainDashboard/Day/Category/helpers.ts","components/MainDashboard/Day/Category/CategoryComponent.tsx","components/MainDashboard/Day/Note/helpers.ts","components/MainDashboard/Day/Note/NoteComponent.tsx","components/MainDashboard/Day/Day/helpers.ts","components/MainDashboard/Day/Note/NoteModal/NoteModal.tsx","components/MainDashboard/Day/Day/Day.tsx","svgIcons/spinner.svg","utils/dataGenerators.ts","components/MainDashboard/MainDashboardTable/TimeCell/TimeCell.tsx","components/MainDashboard/MainDashboardTable/MainDashboardTable.tsx","svgIcons/back.svg","svgIcons/next.svg","components/MainDashboard/MainDashboardNavBar/MainDashboardNavBar.tsx","store/settings/helpers.ts","store/categories/helpers.ts","components/MainDashboard/MainDashboardWrapper/index.ts","components/MainDashboard/MainDashboardWrapper/MainDashboardWrapper.tsx","store/auth/helpers.ts","components/LoginPage/LoginPage.tsx","components/NotFoundPage/NotFound.tsx","components/Settings/SectionTitle/SectionTitle.tsx","components/Settings/CategorySection/CategoryList/CategoryList.tsx","components/Settings/CategorySection/CategorySectionForm/Section/Section.tsx","components/Settings/CategorySection/CategorySectionForm/ActivityList/ActivityListItem/ActivityListItem.tsx","components/Settings/CategorySection/CategorySectionForm/ActivityList/ActivityList.tsx","components/Settings/CategorySection/CategorySectionForm/CategorySectionForm/CategorySectionForm.tsx","components/Settings/CategorySection/CategorySection/CategorySection.tsx","svgIcons/logout.svg","components/Settings/SettingsDashboard/SettingsDashboard.tsx","components/Settings/SettingsDashboardWrapper/SettingsDashboardWrapper.tsx","svgIcons/dashboard.svg","svgIcons/settings.svg","svgIcons/analytics.svg","svgIcons/list.svg","components/BasicComponents/NavBar/NavBar.tsx","routers/PrivateRoute.tsx","routers/PublicRoute.tsx","components/BackendErrorPage/BackendError.tsx","components/BasicComponents/TabBar/TabBar.tsx","dao/analytics/analyticsDao.ts","components/Analytics/TotalPerWeek/TotalPerWeekCategories/TotalPerWeekCategoriesTable/TotalPerWeekCategoriesTable.tsx","components/Analytics/BasicComponents/NoAnalyticsBanner/NoAnalyticsBanner.tsx","components/Analytics/TotalPerWeek/TotalPerWeekCategories/TotalPerWeekCategoriesPieChart/TotalPerWeekCategoriesPieChart.tsx","components/Analytics/TotalPerWeek/TotalPerWeekActivities/TotalPerWeekActivitiesPieChart/TotalPerWeekActivitiesPieChart.tsx","components/BasicComponents/ToolBar/ToolBarItems/Dropdown/Dropdown.tsx","components/Analytics/TotalPerWeek/TotalPerWeekActivities/TotalPerWeekActivitiesTable/TotalPerWeekActivitiesTable.tsx","components/Analytics/TotalPerWeek/TotalPerWeekActivities/TotalPerWeekActivitiesWrapper/TotalPerWeekActivitiesWrapper.tsx","components/Analytics/TotalPerWeek/TotalPerWeekDashboard/TotalPerWeekDashboard.tsx","components/BasicComponents/ToolBar/ToolBar.tsx","components/Analytics/TotalPerWeek/TotalPerWeekWrapper/TotalPerWeekWrapper.tsx","components/Analytics/TotalPerDay/TotalPerDayWrapper/TotalPerDayWrapper.tsx","components/Analytics/AnalyticsDashboardWrapper/AnalyticsDashboardWrapper.tsx","routers/AppRouter.tsx","store/auth/auth.ts","store/notes/notes.ts","store/settings/settings.ts","store/categories/categories.ts","store/storeSetup.ts","index.tsx"],"names":["typedHooks","createTypedHooks","useStoreActions","useStoreState","useStoreDispatch","CategoryItemPopover","onClick","handleCloseModal","categoryTypes","state","settings","className","onMouseLeave","style","cursor","map","categoryType","index","categoryid","color","ActivityItemPopover","activityTypes","id","activityType","activityid","Activity","short","block","hasActivities","i","length","CategoryComponent","category","onDragStart","onDragEnter","setHoverIndex","actions","setCategory","categories","setActivity","useState","showActivityPopover","setShowActivityPopover","showPopover","setShowPopover","onMouseOver","timeHoverIndex","categoryPosition","e","draggable","backgroundColor","getBackgroundColor","getActivityTypeShort","userid","weekid","weekDay","weekDayDate","removePX","str","parseInt","slice","getStackHeight","max","min","height","marginBottom","CONSTANTS","NoteComponent","note","onMouseDown","onDragOver","WebkitLineClamp","findStackExtremes","notes","stackid","init","forEach","notePosition","NoteModal","saveNote","deleteText","deleteStack","stack","localNote","setLocalNote","onKeyDown","which","shiftKey","keyCode","preventDefault","autoFocus","onChange","target","value","spellCheck","Day","categoryDragSet","aboveDifference","belowDifference","setNoteText","deleteNoteText","deleteNoteStack","noteModalData","setNoteModalData","onNoteClick","initDragImageState","dragImg","Image","src","dragCategory","setDragCategory","onCategoryDragStart","dataTransfer","setDragImage","onCategoryDragEnter","dragPosition","draggedIntoPosition","dragCategoryid","dragActivityid","dragNote","setDragNote","onNoteDragStart","onNoteDragEnter","noteExtremes","dragExtremes","dragStackid","oldStackid","oldNote","dragNoteText","onNoteMouseDown","button","onDragEndCapture","Info","weekdays","DateTime","fromISO","toLocaleString","month","day","_path","_path2","areEqual","prevProps","nextProps","JSON","stringify","React","memo","timeValues","n","m","timeSlots","j","push","TimeCell","timeVal","_excluded","_extends","Object","assign","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSpinner","_ref","svgRef","title","titleId","props","width","viewBox","xmlns","fill","ref","d","attributeName","type","from","to","dur","repeatCount","ForwardRef","MainDashboardTable","_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","_g16","loading","dayArr","dayIndex","SvgBack","xmlnsXlink","x","y","enableBackground","xmlSpace","SvgNext","MainDashboardNavBar","weekNr","year","nextWeek","previousWeek","toCurrentWeek","currentWeekNr","now","weekNumber","currentYear","startOf","date","getCategoryTypesFull","a","fetch","method","mode","credentials","res","ok","history","json","getWeekByWeekNrAndYear","status","createWeekByWeekNrAndYear","headers","Headers","body","weekYear","validateCategorySubmission","name","returnVal","valid","message","trim","MainDashboardWrapper","uid","auth","currentDate","setCategories","setNotes","setCategoryTypes","setActivityTypes","setLoading","useEffect","fullWeek","categoryTypesFull","checkIfLoggedIn","LoginPage","login","setuid","email","setEmail","password","setPassword","window","localStorage","getItem","onSubmit","NotFound","display","flexDirection","alignItems","justifyContent","SectionTitle","CategoryList","selectedCategoryid","Section","children","ActivityListItem","activity","longValue","setLongValue","shortValue","setShortValue","handleFocusOut","long","archived","onBlur","maxLength","ActivityList","setError","updateActivityTypes","updateActivityType","handleActivityChange","validateActivitySubmission","CategorySectionForm","updateCategoryType","colorValue","setColorValue","nameValue","setNameValue","error","activityError","setActivityError","handleFormSubmit","CategorySection","_g17","setSelectedCategoryid","findCategoryForForm","SettingsDashboard","SettingsDashboardWrapper","SvgLogout","_path3","_path4","SvgDashboard","SvgSettings","SvgAnalytics","SvgList","NavBar","currentLocation","setCurrentLocation","hovering","setHovering","open","setOpen","logout","reset","location","useLocation","pathname","marginTop","onMouseEnter","marginLeft","PrivateRoute","isAuthenticated","Component","component","path","PublicRoute","BackendError","onload","TabBar","tabs","onSelect","selectedIndex","tab","getTotalPerWeek","totalPerWeek","getAvailableDates","availableDates","TotalPerWeekCategoriesTable","textAlign","Duration","fromObject","minutes","count","toFormat","NoAnalyticsBanner","TotalPerWeekCategoriesPieChart","PieChart","Tooltip","contentStyle","borderColor","borderRadius","opacity","itemStyle","Pie","data","cx","cy","innerRadius","outerRadius","paddingAngle","dataKey","animationBegin","animationDuration","entry","Cell","stroke","TotalPerWeekActivitiesPieChart","pickedCategoryid","filter","nameKey","Dropdown","label","options","selected","styleSelect","htmlFor","option","TotalPerWeekActivitiesTable","TotalPerWeekActivitiesWrapper","pickedCategoryIndex","setPickedCategoryIndex","flatMap","TotalPerWeekDashboard","ToolBar","TotalPerWeekWrapper","setDate","setTotalPerWeek","setAvailableDates","fetchedTotalPerWeek","fetchedAvailableDates","changeWeek","changeYear","Math","weeks","availableDate","toString","getWeekDropdownWeeks","TotalPerDayWrapper","AnalyticsDashboardWrapper","selectedTabIndex","setSelectedTabIndex","createBrowserHistory","AppRouter","exact","authModel","thunk","payload","user","setItem","action","removeItem","notesModel","syncToDb","thunkOn","debounce","store","getState","aboveDifferenceCache","notesToUpdate","k","includes","noteToRemoveText","belowDifferenceCache","p","flat","l","nt","debug","uuidv4","settingsModel","setCategoryType","newWeekNr","newYear","weeksInWeekYear","categoriesModel","categoryIndex","categoriesToUpdate","c","createStore","initialState","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.faa04653.chunk.js","sourcesContent":["// External imports\nimport {createTypedHooks} from 'easy-peasy'\n\n// Internal imports\nimport {StoreModel} from \"./storeSetup\";\n\nconst typedHooks = createTypedHooks<StoreModel>();\n\nexport const useStoreActions = typedHooks.useStoreActions;\nexport const useStoreDispatch = typedHooks.useStoreDispatch;\nexport const useStoreState = typedHooks.useStoreState;\n\n\n","// External imports\nimport React from 'react'\n\n// Internal imports \nimport './CategoryItemPopover.scss'\nimport {useStoreState} from \"../../../../../store/hookSetup\";\n\ntype CategoryItemPopoverType = {\n    onClick: (categoryid:string | null) => void,\n    handleCloseModal: () => void\n}\n\n\nconst CategoryItemPopover  = ({ onClick, handleCloseModal }:CategoryItemPopoverType) => {\n    const categoryTypes = useStoreState(state => state.settings.categoryTypes)\n    \n    return (\n        <div>\n            <div \n                className=\"popover-container\" \n                onMouseLeave={handleCloseModal} \n                style={{\n                    cursor: 'pointer' // To immediately set the cursor to pointer\n                }}\n            >\n                {categoryTypes.map((categoryType, index) => {\n\n                    return (\n                        <div\n                            className=\"color-square\"\n                            key={categoryType.categoryid}\n                            onClick={() => onClick(categoryType.categoryid)}\n                            style={{\n                                \"backgroundColor\": categoryType.color,\n                                \"borderTopLeftRadius\": index === 0  ? '3px' : \"0\",\n                                \"borderTopRightRadius\": index === 0  ? '3px' : \"0\"\n                            }}\n                        />\n                    )\n                })}\n\n                {/* The default square at the bottom*/}\n                <div\n                    className=\"default-color-square\"  \n                    onClick={() => onClick(null)}\n                />\n\n            </div>\n        </div>\n    )\n}\n\nexport default CategoryItemPopover","// External imports\nimport React from 'react'\n\n// Internal imports \nimport './ActivityItemPopover.scss'\nimport {useStoreState} from \"../../../../../store/hookSetup\";\n\ntype ActivityItemPopoverProps = {\n    onClick: (activityid: string) => void,\n    handleCloseModal: () => void,\n    categoryid: string | null\n}\n\nconst ActivityItemPopover = ({onClick, handleCloseModal, categoryid}: ActivityItemPopoverProps) => {\n    const activityTypes = useStoreState(state => state.settings.activityTypes)\n\n    return (\n        <div>\n            <div\n                id=\"activity-popover-container\"\n                onMouseLeave={handleCloseModal}\n                style={{\n                    cursor: 'pointer' // To immediately set the cursor to pointer, \n                }}\n            >\n                {activityTypes.map((activityType, index) => {\n                    if (activityType.categoryid === categoryid) { // checks that the activity belongs to current category\n                        return (\n                            <div\n                                id=\"activity-popover-item\"\n                                onClick={() => onClick(activityType.activityid)}\n                                key={activityType.activityid}\n                                style={{\n                                    \"borderTopLeftRadius\": index === 0 ? '5px' : \"0\",\n                                    \"borderTopRightRadius\": index === 0 ? '5px' : \"0\"\n                                }}\n                            >\n                                {activityType.short}\n                            </div>\n                        )\n                    } else return null\n                })}\n\n                <div\n                    id=\"activity-popover-item-default\"\n                    onClick={() => onClick(\"\")}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default ActivityItemPopover","// External imports\nimport React from 'react'\n\n// Internal imports\nimport './Activity.scss'\n\ntype ActivityProps = {\n    short: string,\n    categoryid: string | null,\n    onClick: () => void,\n    block: boolean\n}\n\nconst Activity = ({  short, categoryid, onClick, block }:ActivityProps) => {\n\n    /**\n     * Handles clicking on an activity.\n     */\n    const handleClick = () => {\n        if (categoryid !== \"\" && !block) {\n            onClick()\n        }\n    }\n\n    return (    \n        <div \n            // Block checks if a category has activities.\n            // If it doesn't the activity shouldn't highlight on hover\n            // and user shouldn't be able to click on activity to get activity popover\n            className={`activity-container ${categoryid && !block && 'activity-container-active'}`}\n            onClick={handleClick}\n        >\n            {short}\n        </div>\n    )\n}\n\nexport default Activity","// Internal imports\nimport {ActivityType} from \"../../../../store/settings/settings\";\n\n/**\n * Checks whether a given category has any activities associated to it.\n * @param categoryid The categoryid of category to be checked for activities.\n * @param activityTypes The object containing all activities.\n * @return Boolean indicating whether the category has any activities.\n */\nexport const hasActivities = (categoryid:string | null, activityTypes:ActivityType[]):boolean => {\n    for (let i = 0; i <activityTypes.length; i++) {\n        let activityType: ActivityType = activityTypes[i]\n\n        if (activityType.categoryid === categoryid) {\n            return true\n        }\n    }\n\n    return false\n}","// External imports\nimport React, { useState, DragEvent } from 'react'\n\n// Internal imports\nimport {useStoreActions, useStoreState} from \"../../../../store/hookSetup\"\nimport CategoryPopover from './CategoryItemPopover/CategoryItemPopover'\nimport ActivityPopover from '../Activity/ActivityItemPopover/ActivityItemPopover'\nimport Activity from '../Activity/Activity'\nimport './Category.scss'\nimport { hasActivities } from './helpers'\nimport {Category} from \"../../../../store/categories/categories\";\n\ntype CategoryProps = {\n    category:Category;\n    onDragStart: (e:DragEvent<HTMLDivElement>, category:Category) => void;\n    onDragEnter: (category:Category) => void;\n}\n\nfunction CategoryComponent({category, onDragStart, onDragEnter}: CategoryProps) {\n    // Store actions\n    const setHoverIndex = useStoreActions(actions => actions.settings.setHoverIndex)\n    const setCategory = useStoreActions(actions => actions.categories.setCategory)\n    const setActivity = useStoreActions(actions => actions.categories.setActivity)\n\n    // Store state\n    const activityTypes = useStoreState(state => state.settings.activityTypes)\n    const categoryTypes = useStoreState(state => state.settings.categoryTypes)\n\n    // Local state\n    const [showActivityPopover, setShowActivityPopover] = useState(false)\n    const [showPopover, setShowPopover] = useState(false)\n\n\n    /**\n     * Handles category picking from the category popover.\n     * Closes the popover and sets the new category.\n     * @param categoryid The categoryid of category that was picked.\n     */\n    const onCategoryPick = (categoryid:string | null):void => {\n        setShowPopover(false)\n        setCategory({\n            userid: category.userid,\n            weekid: category.weekid,\n            categoryid,\n            weekDay: category.weekDay,\n            categoryPosition: category.categoryPosition,\n            activityid: null,\n            weekDayDate: category.weekDayDate\n        })\n    }\n\n    /**\n     * Handles activity picking from the activity popover.\n     * Closes the popover and sets the new activity.\n     * @param activityid The activityid of activity that was picked.\n     */\n    const onActivityPick = (activityid:string):void => {\n        setShowActivityPopover(false)\n        setActivity({\n            activityid, \n            weekDay: category.weekDay,\n            categoryPosition: category.categoryPosition\n        })\n    }\n\n    /**\n     * Finds category's (from props) color using the category types array.\n     * If the category has no categoryid (it's empty) a default color is returned.\n     */\n    const getBackgroundColor = ():string => {\n        if (category.categoryid) {\n            for (let i = 0; i < categoryTypes.length; i++) {\n                if (categoryTypes[i].categoryid === category.categoryid) {\n                    return categoryTypes[i].color\n                }\n            }\n        }\n\n        return \"#2A353C\"\n    }\n\n    const getActivityTypeShort = ():string => {\n        if (category.activityid) {\n            for (let i = 0; i < activityTypes.length; i++) {\n                if (activityTypes[i].activityid === category.activityid) {\n                    return activityTypes[i].short\n                }\n            }\n        }\n        return \"\"\n    }\n\n    return (\n        <div id=\"category-activity-container\" onMouseOver={() => setHoverIndex({timeHoverIndex: category.categoryPosition-1})}>\n            <div   \n                id={`category-container`}\n                onDragEnter={() => onDragEnter(category)}\n                onDragStart={(e) => onDragStart(e, category)}\n                draggable={true}\n                onClick={() => setShowPopover(true)}\n                style={{\n                    backgroundColor: getBackgroundColor()\n                }}\n            />\n            \n            <Activity \n                short={getActivityTypeShort()}\n                categoryid={category.categoryid}\n                block={!hasActivities(category.categoryid, activityTypes)}\n                onClick={() => setShowActivityPopover(true)}\n            />\n            \n            {showPopover &&\n                <CategoryPopover \n                    onClick={onCategoryPick} \n                    handleCloseModal={() => setShowPopover(false)}\n                />\n            }\n\n            {showActivityPopover && \n                <ActivityPopover \n                    categoryid={category.categoryid}  \n                    onClick={onActivityPick} \n                    handleCloseModal={() => setShowActivityPopover(false)}\n                /> \n            }\n        </div>\n    );\n}\n\nexport default CategoryComponent;\n","// Since the properties exported from constants.scss\n// come in the form '20px' as a string with px attached,\n// the px has to be removed and string has to be converted\n// to an integer to perform math and calculate height.\nexport const removePX = (str: string): number => {\n    return parseInt(str.slice(0,-2))\n}\n\n// Calculates the stack height given the position \n// of highest and lowest note in the stack, as well\n// as the constants for height of one note and the \n// bottom margin for one note.\nexport const getStackHeight = (max: number, min: number, height: string, marginBottom: string): string => {\n    return `${((max-min+1)*removePX(height))+((max-min)*removePX(marginBottom))}px`\n}\n\n// These values also have to be changed in the ./Styles.scss file\nexport const CONSTANTS = {\n    NOTE_HEIGHT: '22px',\n    NOTE_WIDTH: '115px',\n    NOTE_MARGIN_BOTTOM: '2px',\n    NOTE_MARGIN_LEFT: '6px',\n    NOTE_MARGIN_LEFT_RIGHT: '4px',\n    NOTE_BORDER: '#D3D3D3 0.5px solid',\n    NOTE_BORDER_RADIUS: '4px'\n}\n\n","// External imports\nimport React from 'react'\n\n// Internal imports\nimport './Note.scss'\nimport { getStackHeight, CONSTANTS } from './helpers'\nimport {Note} from \"../../../../store/notes/notes\";\nimport {useStoreActions} from \"../../../../store/hookSetup\";\n\ntype NoteComponentProps = {\n    note: Note,\n    max: number,\n    min: number,\n    onDragStart: (e: React.DragEvent<HTMLDivElement>, note: Note) => void,\n    onDragEnter: (note: Note) => void,\n    onClick: (note: Note) => void,\n    onMouseDown: (e:  React.MouseEvent<HTMLDivElement>, note: Note) => void\n}\n\nconst NoteComponent = ({note, max, min, onDragStart, onDragEnter, onClick, onMouseDown}: NoteComponentProps) => {\n    const setHoverIndex = useStoreActions(actions => actions.settings.setHoverIndex)\n\n    if (max === min) {\n        return (\n        <div\n            id=\"note-container\"\n            onMouseOver={() => setHoverIndex({timeHoverIndex: min-1})}\n            onClick={() => onClick(note)}\n            draggable={true}\n            onDragStart={(e) => onDragStart(e, note)}\n            // onDragEnter={() => onDragEnter(note)} // slower but kinda smoother\n            onDragOver={() => onDragEnter(note)} // fast drag but leaves tail\n        >\n                {note.note}\n        </div>\n        )\n    }\n    return (\n        <div\n            onMouseOver={() => setHoverIndex({timeHoverIndex: min-1})}\n            id=\"stack-container\"\n            style={{ \n                height: getStackHeight(max, min, CONSTANTS.NOTE_HEIGHT, CONSTANTS.NOTE_MARGIN_BOTTOM),\n                WebkitLineClamp: max-min+1\n            }}\n            onClick={() => onClick(note)}\n            onMouseDown={(e) => onMouseDown(e, note)}\n            draggable={true}\n            onDragStart={(e) => onDragStart(e, note)}\n            // onDragEnter={() => onDragEnter(note)} // slower but kinda smoother\n            onDragOver={() => onDragEnter(note)} // fast drag but leaves tail\n        >\n                {note.note}\n        </div>\n    );\n}\n\nexport default NoteComponent;\n","import {Note} from \"../../../../store/notes/notes\";\n\n/**\n * Finds the top and bottom note's position of a give note stack.\n * @param notes The notes in which to find the min and max.\n * @param stackid The stackid for which to find the min and max.\n */\nexport const findStackExtremes = (notes:Note[], stackid:string):{max:number, min:number} => {\n    let max:number = -1;\n    let min:number = -1;\n    let init = true;\n\n    // This function iterates over all notes. If a note has a property stackid that\n    // matches the argument stackid, it initialises the maximum and minimum variables. \n    // Every consequent iteration that matches the stackid will compare the current \n    // maximum and minimum to the current note. Then change the maximum or minimum \n    // if the current note is higher or lower than the current maximum or minimum. \n    // It assumes that the notes definitely contain at least two notes with the same \n    // stackid as provided.\n    notes.forEach((note, index) => {\n        if (note.stackid === stackid) {\n            if (init) {\n                max = note.notePosition\n                min = note.notePosition\n                init = false\n            } else {\n                if (note.notePosition > max) {\n                    max = note.notePosition\n                } else if (note.notePosition < min) {\n                    min = note.notePosition\n                }\n            }\n\n        }\n    })\n\n    // if (max === -1 || min === -1) {\n    //     alert(\"Note stack extremes are bad.\")\n    // }\n\n    return {max, min}\n}","// External imports\nimport React, { useState } from 'react'\n\n// Internal imports \nimport './NoteModal.scss'\nimport {Note} from \"../../../../../store/notes/notes\";\n\ntype NoteModalProps = {\n    note: Note,\n    saveNote: (note: Note) => void,\n    deleteText: (note: Note) => void,\n    deleteStack: (note: Note) => void,\n    stack: boolean\n}\n\nfunction NoteModal  ({note, saveNote, deleteText, deleteStack, stack}: NoteModalProps)  {\n\n    const [localNote, setLocalNote] = useState<string>(note.note)\n\n\n    /**\n     * Handles text change in the modal.\n     * @param e onChange event.\n     */\n    const handleNoteChange = (e:  React.ChangeEvent<HTMLTextAreaElement>) => {\n        setLocalNote(e.target.value)\n    }\n\n    /**\n     * Handles each key press. On enter and escape saves\n     * the note as is.\n     * @param e onKeyDown event.\n     */\n    const handleKeyDown = (e:  React.KeyboardEvent<HTMLDivElement>) => {\n        if(e.which === 13 && !e.shiftKey) {        \n            note.note = localNote\n            saveNote(note)\n            e.preventDefault();\n        } else if (e.keyCode === (27)) {\n            note.note = localNote\n            saveNote(note)  \n        }   \n    }\n\n    return (\n        \n            <div id=\"note-modal-container\" onKeyDown={handleKeyDown}>\n                <div id=\"modal-textarea\">\n                    <textarea \n                        autoFocus={true}\n                        id=\"note-modal-input\" \n                        onChange={handleNoteChange}\n                        spellCheck={false}\n                        value={localNote}\n                    />\n                </div>\n                <div>\n                     <div id=\"note-modal-button-container\">\n                            {stack && \n                                <div \n                                    id=\"note-modal-delete-button\"\n                                    onClick={() => deleteStack(note)}\n                                >\n                                    Delete stack\n                                </div>\n                            }\n                                <div \n                                    id=\"note-modal-delete-button\"\n                                    onClick={() => deleteText(note)}\n                                >\n                                    Delete text\n                                </div>\n\n                    </div>\n                    \n                </div>\n            </div>\n        \n    )\n}\n\nexport default NoteModal","// External imports\nimport React, { useState } from 'react'\nimport {DateTime, Info} from \"luxon\";\n\n// Internal imports\nimport CategoryComponent from '../Category/CategoryComponent'\nimport NoteComponent from '../Note/NoteComponent'\nimport { findStackExtremes } from './helpers'\nimport NoteModal from '../Note/NoteModal/NoteModal'\nimport './Day.scss'\nimport {useStoreActions} from \"../../../../store/hookSetup\";\nimport {Note} from \"../../../../store/notes/notes\";\nimport {Category} from \"../../../../store/categories/categories\";\n\ntype DayProps = {\n    categories:Category[],\n    notes:Note[],\n    weekDay: number\n}\n\n/**\n * The Day component controls dragging and regular clicking\n * aspects of notes, categories and activities of the respective day.\n * So it holds the state necessary to make dragging possible. It is a wrapper\n * component.\n * @param categories The categories to display.\n * @param notes The notes to display.\n * @param weekDay The day.\n */\nfunction Day({categories, notes, weekDay}: DayProps) {\n    // Store actions\n    const categoryDragSet = useStoreActions(actions => actions.categories.categoryDragSet)\n    const aboveDifference = useStoreActions(actions => actions.notes.aboveDifference)\n    const belowDifference = useStoreActions(actions => actions.notes.belowDifference)\n    const setNoteText = useStoreActions(actions => actions.notes.setNoteText)\n    const deleteNoteText = useStoreActions(actions => actions.notes.deleteNoteText)\n    const deleteNoteStack = useStoreActions(actions => actions.notes.deleteNoteStack)\n    const setHoverIndex = useStoreActions(actions => actions.settings.setHoverIndex)\n\n    // Note modal logic\n    const [noteModalData, setNoteModalData] = useState<Note | null>(null)\n\n    const onNoteClick = (note: Note):void => {\n        setNoteModalData(note)\n    }\n\n    const onNoteSave = (note: Note):void => {\n        setNoteText(note)\n        setNoteModalData(null)\n    }\n\n    const onNoteDeleteText = (note: Note):void => {\n        deleteNoteText(note)\n        setNoteModalData(null)\n    }\n\n    const onNoteDeleteStack = (note: Note) => {\n        deleteNoteStack(note)\n        setNoteModalData(null)\n    }\n\n    // Drag image\n    const initDragImageState = ():HTMLImageElement => {\n        // Initialise the drag \"ghost\" transparent image\n        let dragImg: HTMLImageElement = new Image(0,0);\n        dragImg.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n        return dragImg\n    }\n\n    // CategoryType logic\n    const [dragCategory, setDragCategory] = useState<Category | null>(null)\n\n    const onCategoryDragStart = (e:  React.DragEvent<HTMLDivElement>, category: Category) => {\n        e.dataTransfer.setDragImage(initDragImageState(), 1, 1) // Sets the ghost image\n\n        setDragCategory(category) // Sets the category \n        setHoverIndex({timeHoverIndex: category.categoryPosition-1})\n    }\n    \n    const onCategoryDragEnter = (category: Category) => {\n        if (dragCategory) {\n            categoryDragSet({\n                dragPosition: dragCategory.categoryPosition,\n                draggedIntoPosition: category.categoryPosition,\n                weekDay,\n                dragCategoryid: dragCategory.categoryid,\n                dragActivityid: dragCategory.activityid\n            })\n        }\n        setHoverIndex({timeHoverIndex: category.categoryPosition-1})\n    }\n\n    // Note logic\n    const [dragNote, setDragNote] = useState<Note | null>(null)\n    \n    const onNoteDragStart = (e: React.DragEvent<HTMLDivElement>, note: Note) => {\n        e.dataTransfer.setDragImage(initDragImageState(), 1, 1) // Sets the ghost image\n\n        setDragNote(note) // Sets the initial drag note (local state)\n        setHoverIndex({timeHoverIndex: note.notePosition-1})\n    }\n\n    const onNoteDragEnter = (note: Note) => {\n        if (dragNote) { // Checks if the dragging comes from a note rather than a category\n            const noteExtremes = findStackExtremes(notes, note.stackid)\n            const dragExtremes = findStackExtremes(notes, dragNote.stackid)\n            \n            if (note.notePosition > dragExtremes.max) { // If drag downwards\n                setHoverIndex({timeHoverIndex: dragExtremes.max})\n                belowDifference({\n                    draggedIntoPosition: note.notePosition,\n                    dragPosition: dragNote.notePosition,\n                    weekDay: note.weekDay,\n                    dragStackid: dragNote.stackid,\n                    oldStackid: note.stackid,\n                    oldNote: note.note,\n                }) \n            } else if (note.notePosition < dragExtremes.min) { // If drag upwards\n                setHoverIndex({timeHoverIndex: dragExtremes.min-2})\n                aboveDifference({\n                    draggedIntoPosition: noteExtremes.max,\n                    dragPosition: dragNote.notePosition,\n                    weekDay: note.weekDay,\n                    dragStackid: dragNote.stackid,\n                    dragNoteText: dragNote.note\n                })\n            }\n        }\n    }\n\n    // Delete note stack when mouse wheel is pressed on a stack\n    const onNoteMouseDown = (e: React.MouseEvent, note: Note) => {\n        const {max, min} = findStackExtremes(notes, note.stackid)\n        if (e.button === 1 && (max!==min)) {\n            deleteNoteStack({\n                weekDay: note.weekDay,\n                stackid: note.stackid\n            })\n        }\n    }\n\n    return (\n        <div \n            className=\"day-container\" \n            onDragEndCapture={() => {\n                setDragNote(null)\n                setDragCategory(null)\n            }}\n        >\n            <div className=\"day-header\">\n                <p className={\"day-header__day\"}>{`${Info.weekdays()[weekDay]}`}</p>\n                <p className={\"day-header__date\"}>{`${DateTime.fromISO(categories[0].weekDayDate).toLocaleString({month: \"long\", day: \"numeric\"})}`}</p>\n            </div>\n\n            <div className=\"composition-container\">\n                <div className=\"activity-outer-container\">\n                    {categories.map(category => {\n                        return (\n                            <CategoryComponent\n                                key={category.categoryPosition}\n                                category={category} \n                                onDragStart={onCategoryDragStart}\n                                onDragEnter={onCategoryDragEnter}\n                            />\n                        )\n                    })}\n                </div>\n                \n                <div className=\"note-outer-container\">\n                    \n                    {notes.map((note: Note) => { // Iterates over all notes from the day\n\n                        const {max, min} = findStackExtremes(notes, note.stackid) // Extremes of the note about to be rendered\n\n                        if (note.notePosition === min) { // If the note is highest from notes with the same stackid\n                            return (\n                                <NoteComponent\n                                    key={note.notePosition}\n                                    note={note}\n                                    max={max}\n                                    min={min}\n                                    onDragStart={onNoteDragStart}\n                                    onDragEnter={onNoteDragEnter}\n                                    onClick={onNoteClick}\n                                    onMouseDown={onNoteMouseDown}\n                                />\n                            )\n                        } else { // If the note is part of a stack but is not the upmost note\n                            return null\n                        }\n                    })}\n                </div>\n            </div>\n\n            {noteModalData && \n                \n                <div id=\"note-modal-wrapper\">\n                        <NoteModal \n                            stack={findStackExtremes(notes, noteModalData.stackid).max !== findStackExtremes(notes, noteModalData.stackid).min} // Determines whether note is a stack or not. True is stack, false otherwise\n                            deleteStack={onNoteDeleteStack}\n                            deleteText={onNoteDeleteText}\n                            saveNote={onNoteSave}\n                            note={noteModalData}\n                        />\n                </div>\n            }\n        </div>\n    );\n}\n\n\n// Memoization of the Day component to prevent the many unnecessary\n// re-renders. This is because the data comes from parent component and all days\n// are updated when something changes in one day since in easy-peasy notes is one big array.  \nconst areEqual = (prevProps: DayProps, nextProps: DayProps) => {\n    return (\n        JSON.stringify(prevProps.notes) === JSON.stringify(nextProps.notes) \n        && JSON.stringify(prevProps.categories) === JSON.stringify(nextProps.categories)\n    )\n}\n\nexport default React.memo(Day, areEqual);\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSpinner(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 135,\n    height: 135,\n    viewBox: \"0 0 135 135\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"rgb(196, 136, 82)\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z\"\n  }, /*#__PURE__*/React.createElement(\"animateTransform\", {\n    attributeName: \"transform\",\n    type: \"rotate\",\n    from: \"0 67 67\",\n    to: \"-360 67 67\",\n    dur: \"2.5s\",\n    repeatCount: \"indefinite\"\n  }))), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z\"\n  }, /*#__PURE__*/React.createElement(\"animateTransform\", {\n    attributeName: \"transform\",\n    type: \"rotate\",\n    from: \"0 67 67\",\n    to: \"360 67 67\",\n    dur: \"8s\",\n    repeatCount: \"indefinite\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSpinner);\nexport default __webpack_public_path__ + \"static/media/spinner.7894654c.svg\";\nexport { ForwardRef as ReactComponent };","/**\n * Generates the time values displayed on the left side\n * of main dashboard.\n * @return timeSlots Array of formatted time values starting at midnight and progressing in time in 15 minutes intervals.\n */\nexport const timeValues = ():string[] => {\n  const n = [\"00\", \"15\", \"30\", \"45\"];\n  const m = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\",];\n  let timeSlots = [];\n\n  for (let i in m) {\n    for (let j in n) {\n      timeSlots.push(`${m[i]}:${n[j]}`);\n    }\n  }\n\n  return timeSlots;\n};\n\n","// External imports\nimport React from 'react'\n\n// Internal imports \nimport './TimeCell.scss'\nimport {useStoreState} from \"../../../../store/hookSetup\";\n\ntype TimeCellProps = {\n    timeValues: () => string[]\n}\n\nconst TimeCell  = ({ timeValues }: TimeCellProps) => {\n    const timeHoverIndex = useStoreState(state => state.settings.timeHoverIndex)\n    \n    return (\n        <div className=\"time-cell-container\" >\n        {timeValues().map((timeVal,index) => {\n            return (\n                <div\n                    className=\"time-cell\"\n                    key={index}\n                    style={{\"backgroundColor\": timeHoverIndex === index ? '#314149' : \"transparent\"}}\n                >\n                    {timeVal}\n                </div>\n            )\n        })}\n    </div>\n    )\n}\n\nexport default TimeCell\n","// External imports\nimport React from 'react'\n\n// Internal imports\nimport Day from '../Day/Day/Day'\nimport {timeValues} from '../../../utils/dataGenerators'\nimport TimeCell from './TimeCell/TimeCell'\nimport './MainDashboardTable.scss'\nimport {ReactComponent as Loader} from \"../../../svgIcons/spinner.svg\";\nimport {Category} from \"../../../store/categories/categories\";\nimport {Note} from \"../../../store/notes/notes\";\n\ntype MainDashboardTableProps = {\n    categories:Category[][],\n    notes:Note[][],\n    loading:boolean\n}\n\nfunction MainDashboardTable({categories, notes, loading}:MainDashboardTableProps) {\n\n    if (loading) {\n        return (\n            <div id=\"main-dashboard-table__loading\">\n                <Loader style={{height: '6rem', width: '6rem'}}/>\n            </div>\n        )\n    }\n\n    return (\n        <div id=\"main-dashboard-table__container\">   \n            \n            <TimeCell timeValues={timeValues}/>\n\n            {categories.map((dayArr, dayIndex) => {\n                return (\n                    <Day\n                        key={dayArr[0].weekDay}\n                        categories={dayArr}\n                        notes={notes[dayIndex]}\n                        weekDay={dayIndex}\n                    />\n                )\n            })}\n        </div>\n    );\n}\n\nexport default MainDashboardTable;\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 477.175 477.175\",\n    style: {\n      enableBackground: \"new 0 0 477.175 477.175\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225 c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBack);\nexport default __webpack_public_path__ + \"static/media/back.46f9b388.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNext(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 477.175 477.175\",\n    style: {\n      enableBackground: \"new 0 0 477.175 477.175\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5 c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z \"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNext);\nexport default __webpack_public_path__ + \"static/media/next.e69630ed.svg\";\nexport { ForwardRef as ReactComponent };","// External imports\nimport React from 'react'\nimport {DateTime} from \"luxon\";\n\n// Internal imports\nimport './MainDashboardNavBar.scss'\nimport { ReactComponent as BackArrow } from '../../../svgIcons/back.svg'\nimport { ReactComponent as NextArrow } from '../../../svgIcons/next.svg'\nimport {useStoreActions} from \"../../../store/hookSetup\";\n\ntype MainDashboardNavBarProps = {\n    weekNr: number\n    year: number\n}\n\nconst MainDashboardNavBar = ({ weekNr, year}: MainDashboardNavBarProps) => {\n    // Store actions\n    const nextWeek = useStoreActions(actions => actions.settings.nextWeek)\n    const previousWeek = useStoreActions(actions => actions.settings.previousWeek)\n    const toCurrentWeek = useStoreActions(actions => actions.settings.toCurrentWeek)\n\n    const currentWeekNr = DateTime.now().weekNumber // Current real life week number\n    // It is important to get the year from the start of the current week because there can be a scenario when a week\n    // is the last week of a year, however the current year could already be a new year so it would show the last week of the next year.\n    const currentYear = DateTime.now().startOf(\"week\").year // Current real life year\n\n    /**\n     * Handles to current week button press.\n     */\n    const handleToCurrentWeek = () => {\n        toCurrentWeek()\n    }\n\n    /**\n     * Handles next week button press.\n     */\n    const handleNextWeek = () => {\n        nextWeek({ date: {weekNr, year}})\n    }\n\n    /**\n     * Handles previous week button press.\n     */\n    const handlePrevWeek = () => {\n        previousWeek({ date: {weekNr, year}})\n    }\n\n    return (\n        <div id=\"main-dashboard-nav-container\">\n                <div id=\"main-dashboard-nav-back-to-current-container\">\n                    {!(currentWeekNr === weekNr && currentYear === year) && \n                        <button\n                            id=\"main-dashboard-nav-back-to-current\"\n                            onClick={handleToCurrentWeek}\n                        >\n                            To current week\n                        </button>\n                    }\n                </div>\n\n                <div id=\"main-dashboard-nav-central-container\">\n                    <BackArrow onClick={handlePrevWeek} id=\"main-dashboard-week-change-button\"/>\n                            <h2 id=\"main-dashboard-nav-banner\">{year},</h2>\n                            <h2 id=\"main-dashboard-nav-banner\">week {weekNr}</h2>\n                    <NextArrow onClick={handleNextWeek} id=\"main-dashboard-week-change-button\"/>\n                </div>\n\n                <div\n                    style={{\n                        width: \"33%\",\n                        height: \"60px\"\n                    }}\n                />\n                \n        </div>\n    )\n}\n\nexport default MainDashboardNavBar","// Internal imports\nimport {ActivityType, CategoryType} from \"./settings\";\nimport {history} from \"../../routers/AppRouter\";\n\n/**\n * Fetches all category and activity types for a user.\n * @param userid of the user for which to fetch the category types full.\n */\nexport const getCategoryTypesFull = async (userid: string):Promise<{activityTypes: ActivityType[], categoryTypes: CategoryType[]}[]> => {\n    try {\n        let res = await fetch(`api/user/${userid}/category-types-full`, {\n            method: \"GET\",\n            mode: \"cors\",\n            credentials: \"include\",\n        })\n\n        if (!res.ok) {\n            history.push(\"/internalError\")\n        }\n\n        return  await res.json() as {activityTypes: ActivityType[], categoryTypes: CategoryType[]}[]\n    } catch (e) {\n        history.push(\"/internalError\")\n        return []\n    }\n}","// Internal imports\nimport {FullWeek} from \"./categories\";\nimport {history} from \"../../routers/AppRouter\";\n\n/**\n * Fetches a week by week number and year for a specific user from the api.\n * @param userid for which to fetch the week.\n * @param weekNr of the week to fetch.\n * @param year of the week to fetch.\n */\nexport const getWeekByWeekNrAndYear = async (userid: string, weekNr: number, year: number):Promise<FullWeek[]> => {\n    try {\n        const res = await fetch(`api/user/${userid}/week?week_number=${weekNr}&week_year=${year}`, {\n            method: \"GET\",\n            mode: \"cors\",\n            credentials: \"include\",\n        })\n\n        if (res.ok) {\n            return await res.json()\n        } else {\n            if (res.status === 400) {\n                history.push(\"/internalError\")\n            }\n\n            return await createWeekByWeekNrAndYear(userid, weekNr, year)\n        }\n    } catch (e) {\n        history.push(\"/internalError\")\n        return await createWeekByWeekNrAndYear(userid, weekNr, year)\n    }\n}\n\n/**\n * Creates a week with a given week number and year for a given user.\n * @param userid for which to create the week.\n * @param weekNr of the week to create.\n * @param year of the week to create.\n */\nexport const createWeekByWeekNrAndYear = async (userid: string, weekNr: number, year: number):Promise<FullWeek[]> => {\n    try {\n        const res = await fetch(`api/user/${userid}/weeks`, {\n            method: \"POST\",\n            mode: \"cors\",\n            credentials: \"include\",\n            headers: new Headers({'content-type': 'application/json'}),\n            body: JSON.stringify({\n                weekNr,\n                weekYear: year\n            })\n        })\n\n        if (res.ok) {\n            return await res.json()\n        } else {\n            history.push(\"/internalError\")\n            return []\n        }\n    } catch (e) {\n        history.push(\"/internalError\")\n        return []\n    }\n}\n\n/**\n * Validates submission of new category. Checks the general string constraints for name and color.\n * Also, validates that all categories in the category setting object have unique names.\n * @param categoryid The categoryid of category to be checked.\n * @param name The name of the category.\n * @param color The color of the category.\n * @return {valid, message} Valid indicates whether input is valid, and message is present if the input is invalid.\n */\nexport const validateCategorySubmission = (categoryid:string, name:string, color:string):{valid:boolean, message:string} => {\n    let returnVal = {valid:true, message:\"\"}\n\n    if (!name || name.trim().length <= 0 || name.trim().length > 50) {\n        returnVal.valid = false\n        returnVal.message = \"You must provide a category name of length 1-50.\"\n    } else if (!color || color.length <= 0 || color.length > 7 || color[0] !== '#') {\n        returnVal.valid = false\n        returnVal.message = \"You must provide a valid hex color value.\"\n    }\n\n    return returnVal\n}\n\n/**\n * Validates submission of new activity. Checks the general string constraints for long name and short name.\n * @param long The long name of activity.\n * @param short The short name of activity.\n * @return {valid, message} Valid indicates whether input is valid, and message is present if the input is invalid.\n */\nexport const validateActivitySubmission = (long:string, short:string):{valid:boolean, message:string} => {\n    let returnVal = {valid:true, message:\"\"}\n\n    if (!long || long.trim().length <= 0 || long.trim().length > 100) {\n        returnVal.valid = false\n        returnVal.message = \"Activity long name must be of length 1-18.\"\n    } else if (!short || short.length <= 0 || short.length > 2) {\n        returnVal.valid = false\n        returnVal.message = \"Activity short name must be of length 1-2.\"\n    }\n    return returnVal\n}\n","import MainDashboardWrapper from \"./MainDashboardWrapper\"\n\nexport default MainDashboardWrapper","// External imports\nimport React from 'react'\n\n// Internal imports \nimport './MainDashboardWrapper.scss'\nimport MainDashboardTable from '../MainDashboardTable/MainDashboardTable'\nimport MainDashboardNavBar from '../MainDashboardNavBar/MainDashboardNavBar'\nimport {useStoreState, useStoreActions} from \"../../../store/hookSetup\"\nimport {Category} from \"../../../store/categories/categories\";\nimport {Note} from \"../../../store/notes/notes\";\nimport {getCategoryTypesFull} from \"../../../store/settings/helpers\";\nimport {FullWeek} from \"../../../store/categories/categories\";\nimport {getWeekByWeekNrAndYear} from \"../../../store/categories/helpers\";\nimport {ActivityType, CategoryType} from \"../../../store/settings/settings\";\n\nconst MainDashboardWrapper = () => {\n    // Store state\n    const uid = useStoreState(state => state.auth.uid)\n    const currentDate = useStoreState(state => state.settings.currentDate)\n    const categories: Category[][] = useStoreState(state => state.categories.categories)\n    const notes: Note[][] = useStoreState(state => state.notes.notes)\n\n    // Store actions\n    const setCategories = useStoreActions(actions => actions.categories.setCategories)\n    const setNotes = useStoreActions(actions => actions.notes.setNotes)\n    const setCategoryTypes = useStoreActions(actions => actions.settings.setCategoryTypes)\n    const setActivityTypes = useStoreActions(actions => actions.settings.setActivityTypes)\n\n    // Local state\n    const [loading, setLoading] = React.useState(true)\n\n    React.useEffect(() => {\n        (async function fetchData() {\n            setLoading(true)\n\n            // Either fetches week right away or if it doesnt exist, it is created. Either way it will be set in store categories.\n            // await getWeek({weekNr: currentDate.weekNr, year: currentDate.year})\n            const fullWeek: FullWeek[] = await getWeekByWeekNrAndYear(uid, currentDate.weekNr, currentDate.year)\n            setCategories({categories: fullWeek[0].categories})\n            setNotes({notes: fullWeek[0].notes})\n\n            // Fetch category and activity types\n            const categoryTypesFull: {activityTypes: ActivityType[], categoryTypes: CategoryType[]}[] = await getCategoryTypesFull(uid)\n            setCategoryTypes({categoryTypes: categoryTypesFull[0].categoryTypes})\n            setActivityTypes({activityTypes: categoryTypesFull[0].activityTypes})\n\n            setLoading(false)\n        })()\n\n    },[currentDate.weekNr, currentDate.year, uid])\n\n    return (\n        <div id=\"main-dash-wrapper\">\n            <MainDashboardNavBar weekNr={currentDate.weekNr} year={currentDate.year}/>\n\n            <MainDashboardTable categories={categories} notes={notes} loading={loading}/>\n        </div>\n    );\n}\n \nexport default MainDashboardWrapper;","/**\n * Checks whether the user is logged in.\n * @param userid for which to check login status.\n */\nimport {history} from \"../../routers/AppRouter\";\n\nexport const checkIfLoggedIn = async (userid: string):Promise<boolean> => {\n    let res;\n    try {\n        res = await fetch(`api/user/${userid}/auth/is-logged-in`,\n            {\n                method: \"GET\",\n                mode: \"cors\",\n                credentials: \"include\",\n            }\n        )\n\n        if (res.ok) {\n            return res.ok\n        } else {\n            if (res.status !== 401) {\n                history.push(\"/internalError\")\n            }\n\n            return false\n        }\n\n    } catch (e) {\n        history.push(\"/internalError\")\n        return false\n    }\n}\n\n","// External imports\nimport React from 'react'\n\n// Internal imports\nimport './login-page.scss'\nimport {useStoreActions} from \"../../store/hookSetup\";\nimport {ReactComponent as Loader} from \"../../svgIcons/spinner.svg\";\nimport {checkIfLoggedIn} from \"../../store/auth/helpers\";\nimport {history} from \"../../routers/AppRouter\";\n\n\nconst LoginPage = () => {\n    // Store actions\n    const login = useStoreActions(actions => actions.auth.login)\n    const setuid = useStoreActions(actions => actions.auth.setuid)\n\n    // Local state\n    const [email, setEmail] = React.useState(\"\")\n    const [password, setPassword] = React.useState(\"\")\n    const [loading, setLoading] = React.useState(true)\n\n\n    React.useEffect(() => {\n\n        (async function () {\n            const userid = window.localStorage.getItem(\"userid\")\n\n            if (userid) {\n                const loggedIn: boolean = await checkIfLoggedIn(userid)\n\n                if (loggedIn) {\n                    setuid({userid})\n                } else {\n                    setLoading(false)\n                }\n            } else {\n                setLoading(false)\n            }\n        })()\n\n    }, [])\n\n\n    const handleSubmit = (e:  React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault()\n\n        if (email && email.length > 0 && password && password.length > 0) {\n            login({email, password})\n        }\n    }\n\n    if (loading) {\n        return (\n            <div id=\"login-loading\">\n                <Loader style={{height: '6rem', width: '6rem'}}/>\n            </div>\n        )\n    }\n\n\n    return (\n        <div id=\"login-container\">\n            <h2>\n                Welcome, lazy person!\n            </h2>\n            <h3>\n                Please Log In\n            </h3>\n            <form onSubmit={handleSubmit}>\n                <label>\n                    <p>Email</p>\n                    <input\n                        type={\"text\"}\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                </label>\n\n                <label>\n                    <p>Password</p>\n                    <input\n                        type={\"password\"}\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n                </label>\n\n                <div>\n                    <button type={\"submit\"}>Submit</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default LoginPage","// External imports\nimport {NavLink} from 'react-router-dom'\nimport React from 'react'; \n\nconst NotFound = () => (\n    <div style={{height: \"100vh\", display: \"flex\", flexDirection: \"column\", alignItems:\"center\", justifyContent: \"center\"}}>\n        This page doesn't exist.\n        <NavLink to=\"/\">Go home</NavLink>\n    </div>\n)\n\nexport default NotFound","// External imports\nimport React from 'react'\n\n// Internal imports\nimport './section-title.scss'\n\ntype SectionTitleProps = {\n    title:string\n}\n\nfunction SectionTitle ({title}:SectionTitleProps) {\n\n    return (\n        <div id=\"settings-dashboard-section-title-container\">\n            {title}\n        </div>\n    )\n}\n\nexport default SectionTitle","// External imports\nimport React from 'react'\n\n// Internal imports\nimport './category-list.scss'\nimport {CategoryType} from \"../../../../store/settings/settings\";\n\ntype CategoryListProps = {\n    categoryTypes:CategoryType[],\n    setCategory: (categoryid:string) => void,\n    selectedCategoryid:string\n}\n\nfunction CategoryList ({categoryTypes, setCategory, selectedCategoryid}:CategoryListProps) {\n\n    return (\n        <div id=\"category-section-category-list-container\">\n            {categoryTypes.map(categoryType => {\n                return (\n                    <div key={categoryType.categoryid} id={\"category-section-category-list-item-container\"}>\n                        <p\n                            id={`category-section-category-list-item${categoryType.categoryid === selectedCategoryid ? \"-selected\" : \"\"}`}\n                            onClick={() => setCategory(categoryType.categoryid)}\n                        >\n                            {categoryType.name}\n                        </p>\n                    </div>\n                )\n            })}\n        </div>\n    )\n}\n\nexport default CategoryList","// External imports\nimport React from \"react\";\n\n// Internal imports\nimport \"./section.scss\"\n\ntype SectionProps = {\n    title:string,\n}\n\nconst Section:React.FC<SectionProps> = ({children,title}) => {\n\n    return (\n        <div id=\"category-section-section-container\">\n            <h5 id={\"category-section-section-title\"}>\n                {title}\n            </h5>\n            {children}\n        </div>\n    )\n}\n\nexport  default Section","// External imports\nimport React from \"react\";\n\n// Internal imports\nimport './activity-list-item.scss'\nimport {ActivityType} from \"../../../../../../store/settings/settings\";\n\ntype ActivityListItemProps = {\n    activity: ActivityType,\n    onChange: (activity:ActivityType) => void\n}\n\nconst ActivityListItem:React.FC<ActivityListItemProps> = ({activity, onChange}) => {\n    const [longValue, setLongValue] = React.useState(activity.long)\n    const [shortValue, setShortValue] = React.useState(activity.short)\n\n    /**\n     * Handles when one of the inputs comes out of focus.\n     * When that happens this function updates the activity setting\n     * state in parent component.\n     */\n    const handleFocusOut = () => {\n        onChange({\n            long: longValue,\n            short: shortValue,\n            activityid: activity.activityid,\n            categoryid: activity.categoryid,\n            archived: activity.archived,\n            userid: activity.userid\n        })\n    }\n\n    return (\n        <div id={\"activity-list-item-container\"}>\n            <div id={\"activity-list-item-input-container\"}>\n                <input\n                    type={\"text\"}\n                    value={longValue}\n                    onChange={(e) => setLongValue(e.target.value)}\n                    id={\"activity-list-item-long-input\"}\n                    onBlur={handleFocusOut}\n                    maxLength={40}\n                />\n                -\n                <input\n                    type={\"text\"}\n                    value={shortValue}\n                    onChange={(e) => setShortValue(e.target.value)}\n                    id={\"activity-list-item-short-input\"}\n                    onBlur={handleFocusOut}\n                    maxLength={2}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default ActivityListItem","// External imports\nimport React from \"react\";\n\n// Internal imports\nimport {ActivityType} from \"../../../../../store/settings/settings\";\nimport ActivityListItem from \"./ActivityListItem/ActivityListItem\";\nimport {validateActivitySubmission} from \"../../../../../store/categories/helpers\";\nimport {useStoreActions} from \"../../../../../store/hookSetup\";\n\ntype ActivityListProps = {\n    activityTypes:ActivityType[],\n    categoryid:string,\n    setError: ({message}:{message:string}) => void,\n}\n\nconst ActivityList:React.FC<ActivityListProps> = ({activityTypes, categoryid, setError}) => {\n    // Store actions\n    const updateActivityTypes = useStoreActions(actions => actions.settings.updateActivityType)\n\n    /**\n     * Handles event when one of the activity inputs comes out of focus.\n     * This function then updates the activity in activity types.\n     */\n    const handleActivityChange = (activityType:ActivityType):void => {\n        const {valid, message} = validateActivitySubmission(activityType.long, activityType.short)\n\n        if (valid) {\n            updateActivityTypes({activityType: activityType})\n            setError({message: \"\"})\n        } else {\n            setError({message})\n        }\n    }\n\n    return (\n        <div>\n            {activityTypes.map(activityType => {\n                if (activityType.categoryid === categoryid) {\n                    return (\n                        <ActivityListItem\n                            key={activityType.activityid}\n                            activity={activityType}\n                            onChange={handleActivityChange}\n                        />\n                    )\n                } else {\n                    return null\n                }\n            })}\n        </div>\n    )\n}\n\nexport default ActivityList","// External imports\nimport React from \"react\";\n\n// Internal imports\nimport {ActivityType, CategoryType} from \"../../../../../store/settings/settings\";\nimport Section from \"../Section/Section\";\nimport './category-section-form.scss'\nimport ActivityList from \"../ActivityList/ActivityList\";\nimport {validateCategorySubmission} from \"../../../../../store/categories/helpers\";\nimport {useStoreActions} from \"../../../../../store/hookSetup\";\n\ntype CategorySectionFormProps = {\n    category: CategoryType,\n    activityTypes: ActivityType[],\n    setLoading: (loading: boolean) => void\n}\n\nfunction CategorySectionForm({category, activityTypes, setLoading}: CategorySectionFormProps) {\n    // Store actions\n    const updateCategoryType = useStoreActions(actions => actions.settings.updateCategoryType)\n\n    // Local state\n    const [colorValue, setColorValue] = React.useState(category.color)\n    const [nameValue, setNameValue] = React.useState(category.name)\n    const [error, setError] = React.useState({message: \"\"})\n    const [activityError, setActivityError] = React.useState({message: \"\"})\n\n    React.useEffect(() => {\n        setColorValue(category.color)\n        setNameValue(category.name)\n    }, [category.name, category.categoryid, category.color])\n\n    /**\n     * Handles press on save button.\n     */\n    const handleFormSubmit = async (): Promise<void> => {\n        const { valid, message } = validateCategorySubmission(category.categoryid, nameValue, colorValue)\n\n        if (valid && activityError.message.length === 0) {\n            setLoading(true)\n\n            await updateCategoryType({\n                categoryType: {\n                    userid: category.userid,\n                    categoryid: category.categoryid,\n                    name: nameValue,\n                    color: colorValue,\n                    archived: category.archived\n                }})\n\n            setLoading(false)\n        } else if (!valid) {\n            setError({message})\n        }\n    }\n\n    return (\n        <div id={\"category-section-form-container\"}>\n            <div id={\"category-section-form-error\"}>\n                {error.message}\n            </div>\n            <Section title=\"Name\">\n                <input type={\"text\"} id={\"category-name\"} value={nameValue} onChange={e => setNameValue(e.target.value)}\n                       maxLength={18}/>\n            </Section>\n            <Section title=\"Color\">\n                <div id={\"color-section-container\"}>\n                    <div style={{backgroundColor: colorValue}} id={\"color-section-color\"}/>\n                    <input type=\"text\" id=\"category-color\" value={colorValue}\n                           onChange={e => setColorValue(e.target.value)} maxLength={7}/>\n                </div>\n            </Section>\n            <div id={\"category-section-form-error\"}>\n                {activityError.message}\n            </div>\n            <Section title={\"Activities\"}>\n                <ActivityList\n                    categoryid={category.categoryid}\n                    setError={setActivityError}\n                    activityTypes={activityTypes}\n                />\n            </Section>\n            <Section title={\"\"}>\n                <button id={\"category-section-form-save-button\"} onClick={handleFormSubmit}>Save</button>\n            </Section>\n        </div>\n    )\n}\n\nexport default CategorySectionForm","// External imports\nimport React from 'react'\n\n// Internal imports \nimport './category-section.scss'\nimport {ActivityType, CategoryType} from \"../../../../store/settings/settings\";\nimport SectionTitle from \"../../SectionTitle/SectionTitle\";\nimport CategoryList from \"../CategoryList/CategoryList\";\nimport CategorySectionForm from \"../CategorySectionForm/CategorySectionForm/CategorySectionForm\";\n\ntype CategorySectionProps = {\n    categoryTypes:CategoryType[],\n    activityTypes:ActivityType[],\n    setLoading:(loading:boolean) => void\n}\n\nfunction CategorySection ({categoryTypes, activityTypes, setLoading}:CategorySectionProps) {\n    const [selectedCategoryid, setSelectedCategoryid] = React.useState<string>(categoryTypes.length === 0 ? \"\" : categoryTypes[0].categoryid)\n\n    const findCategoryForForm = ():CategoryType => {\n        for (let i = 0; i < categoryTypes.length; i++) {\n            if (categoryTypes[i].categoryid === selectedCategoryid) {\n                return categoryTypes[i]\n            }\n        }\n\n        return {categoryid: \"\", userid: \"\", color: \"\", name: \"\", archived: false}\n    }\n\n    return (\n        <div id=\"category-section-container\">\n            <SectionTitle title={\"Categories\"}/>\n\n            <div id={\"category-section-content-container\"}>\n                <CategoryList\n                    categoryTypes={categoryTypes}\n                    setCategory={(categoryid) => setSelectedCategoryid(categoryid)}\n                    selectedCategoryid={selectedCategoryid}\n                />\n\n                {selectedCategoryid.length !== 0 &&\n                    <CategorySectionForm\n                        category={findCategoryForForm()}\n                        activityTypes={activityTypes}\n                        setLoading={setLoading}\n                    />\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default CategorySection","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16, _g17;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogout(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M255.15,468.625H63.787c-11.737,0-21.262-9.526-21.262-21.262V64.638c0-11.737,9.526-21.262,21.262-21.262H255.15 c11.758,0,21.262-9.504,21.262-21.262S266.908,0.85,255.15,0.85H63.787C28.619,0.85,0,29.47,0,64.638v382.724 c0,35.168,28.619,63.787,63.787,63.787H255.15c11.758,0,21.262-9.504,21.262-21.262 C276.412,478.129,266.908,468.625,255.15,468.625z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M505.664,240.861L376.388,113.286c-8.335-8.25-21.815-8.143-30.065,0.213s-8.165,21.815,0.213,30.065l92.385,91.173 H191.362c-11.758,0-21.262,9.504-21.262,21.262c0,11.758,9.504,21.263,21.262,21.263h247.559l-92.385,91.173 c-8.377,8.25-8.441,21.709-0.213,30.065c4.167,4.21,9.653,6.336,15.139,6.336c5.401,0,10.801-2.041,14.926-6.124l129.276-127.575 c4.04-3.997,6.336-9.441,6.336-15.139C512,250.302,509.725,244.88,505.664,240.861z\"\n  })))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)), _g17 || (_g17 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogout);\nexport default __webpack_public_path__ + \"static/media/logout.4c3a4716.svg\";\nexport { ForwardRef as ReactComponent };","// External imports\nimport React from 'react'\n\n// Internal imports\nimport './settingsDashboard.scss'\nimport CategorySection from '../CategorySection/CategorySection/CategorySection'\nimport {ActivityType, CategoryType} from \"../../../store/settings/settings\";\nimport {ReactComponent as Loader} from \"../../../svgIcons/spinner.svg\";\n\ntype SettingsDashboardProps = {\n    categoryTypes: CategoryType[],\n    activityTypes: ActivityType[],\n    loading: boolean,\n    setLoading: (loading: boolean) => void\n}\n\nconst SettingsDashboard  = ({categoryTypes, activityTypes, loading, setLoading}:SettingsDashboardProps) => {\n\n    if (loading) {\n        return (\n            <div id=\"settings-dashboard__loading\">\n                <Loader style={{height: '6rem', width: '6rem'}}/>\n            </div>\n        )\n    }\n\n    return (\n        <div id=\"settings-dashboard-container\">\n            <div id=\"settings-dashboard-title\">\n                Settings\n            </div>\n            <CategorySection categoryTypes={categoryTypes} activityTypes={activityTypes} setLoading={setLoading}/>\n        </div>\n    )\n}\n\nexport default SettingsDashboard","// External imports\nimport React  from 'react'\n\n// Internal imports\nimport {useStoreActions, useStoreState} from \"../../../store/hookSetup\";\nimport SettingsDashboard from \"../SettingsDashboard/SettingsDashboard\";\nimport {getCategoryTypesFull} from \"../../../store/settings/helpers\";\nimport {ActivityType, CategoryType} from \"../../../store/settings/settings\";\n\nconst SettingsDashboardWrapper  = () => {\n    // Store tate\n    const uid = useStoreState(state => state.auth.uid)\n    const categoryTypes = useStoreState(state => state.settings.categoryTypes)\n    const activityTypes = useStoreState(state => state.settings.activityTypes)\n\n    // Store actions\n    const setCategoryTypes = useStoreActions(actions => actions.settings.setCategoryTypes)\n    const setActivityTypes = useStoreActions(actions => actions.settings.setActivityTypes)\n\n    // Local state\n    const [loading, setLoading] = React.useState(true)\n\n    React.useEffect(() => {\n        (async function fetchData() {\n            setLoading(true)\n\n            let categoryTypesFull: {activityTypes: ActivityType[], categoryTypes: CategoryType[]}[] = await getCategoryTypesFull(uid)\n            setCategoryTypes({categoryTypes: categoryTypesFull[0].categoryTypes})\n            setActivityTypes({activityTypes: categoryTypesFull[0].activityTypes})\n\n            setLoading(false)\n        })()\n    },[])\n\n    return (\n        <SettingsDashboard categoryTypes={categoryTypes} activityTypes={activityTypes} loading={loading} setLoading={setLoading}/>\n    )\n}\n\nexport default SettingsDashboardWrapper","var _path, _path2, _path3, _path4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDashboard(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512pt\",\n    viewBox: \"0 0 512 512\",\n    width: \"512pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m197.332031 0h-160c-20.585937 0-37.332031 16.746094-37.332031 37.332031v96c0 20.589844 16.746094 37.335938 37.332031 37.335938h160c20.589844 0 37.335938-16.746094 37.335938-37.335938v-96c0-20.585937-16.746094-37.332031-37.335938-37.332031zm0 0\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m197.332031 213.332031h-160c-20.585937 0-37.332031 16.746094-37.332031 37.335938v224c0 20.585937 16.746094 37.332031 37.332031 37.332031h160c20.589844 0 37.335938-16.746094 37.335938-37.332031v-224c0-20.589844-16.746094-37.335938-37.335938-37.335938zm0 0\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m474.667969 341.332031h-160c-20.589844 0-37.335938 16.746094-37.335938 37.335938v96c0 20.585937 16.746094 37.332031 37.335938 37.332031h160c20.585937 0 37.332031-16.746094 37.332031-37.332031v-96c0-20.589844-16.746094-37.335938-37.332031-37.335938zm0 0\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m474.667969 0h-160c-20.589844 0-37.335938 16.746094-37.335938 37.332031v224c0 20.589844 16.746094 37.335938 37.335938 37.335938h160c20.585937 0 37.332031-16.746094 37.332031-37.335938v-224c0-20.585937-16.746094-37.332031-37.332031-37.332031zm0 0\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDashboard);\nexport default __webpack_public_path__ + \"static/media/dashboard.c12a24ec.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSettings(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 24 24\",\n    height: 512,\n    viewBox: \"0 0 24 24\",\n    width: 512,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m22.683 9.394-1.88-.239c-.155-.477-.346-.937-.569-1.374l1.161-1.495c.47-.605.415-1.459-.122-1.979l-1.575-1.575c-.525-.542-1.379-.596-1.985-.127l-1.493 1.161c-.437-.223-.897-.414-1.375-.569l-.239-1.877c-.09-.753-.729-1.32-1.486-1.32h-2.24c-.757 0-1.396.567-1.486 1.317l-.239 1.88c-.478.155-.938.345-1.375.569l-1.494-1.161c-.604-.469-1.458-.415-1.979.122l-1.575 1.574c-.542.526-.597 1.38-.127 1.986l1.161 1.494c-.224.437-.414.897-.569 1.374l-1.877.239c-.753.09-1.32.729-1.32 1.486v2.24c0 .757.567 1.396 1.317 1.486l1.88.239c.155.477.346.937.569 1.374l-1.161 1.495c-.47.605-.415 1.459.122 1.979l1.575 1.575c.526.541 1.379.595 1.985.126l1.494-1.161c.437.224.897.415 1.374.569l.239 1.876c.09.755.729 1.322 1.486 1.322h2.24c.757 0 1.396-.567 1.486-1.317l.239-1.88c.477-.155.937-.346 1.374-.569l1.495 1.161c.605.47 1.459.415 1.979-.122l1.575-1.575c.542-.526.597-1.379.127-1.985l-1.161-1.494c.224-.437.415-.897.569-1.374l1.876-.239c.753-.09 1.32-.729 1.32-1.486v-2.24c.001-.757-.566-1.396-1.316-1.486zm-10.683 7.606c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSettings);\nexport default __webpack_public_path__ + \"static/media/settings.f3f15426.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16, _g17;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAnalytics(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M501.333,490.667h-10.667V181.333c0-5.888-4.779-10.667-10.667-10.667h-64c-5.888,0-10.667,4.779-10.667,10.667v309.333 h-42.667V309.333c0-5.888-4.779-10.667-10.667-10.667h-64c-5.888,0-10.667,4.779-10.667,10.667v181.333h-42.667v-224 c0-5.888-4.779-10.667-10.667-10.667h-64c-5.888,0-10.667,4.779-10.667,10.667v224h-42.667V373.333 c0-5.888-4.779-10.667-10.667-10.667H32c-5.888,0-10.667,4.779-10.667,10.667v117.333H10.667C4.779,490.667,0,495.445,0,501.333 C0,507.221,4.779,512,10.667,512H32h64h64h64h64h64h64h64h21.333c5.888,0,10.667-4.779,10.667-10.667 C512,495.445,507.221,490.667,501.333,490.667z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M448,0c-23.531,0-42.667,19.136-42.667,42.667c0,7.893,2.304,15.189,6.037,21.547l-69.824,69.824 C335.189,130.304,327.893,128,320,128c-13.376,0-25.195,6.315-33.024,15.979l-52.416-14.955c0-0.341,0.107-0.661,0.107-1.024 c0-23.531-19.136-42.667-42.667-42.667S149.333,104.469,149.333,128c0,6.208,1.387,12.053,3.776,17.365l-66.667,53.184 C79.915,194.453,72.256,192,64,192c-23.531,0-42.667,19.136-42.667,42.667c0,23.531,19.136,42.667,42.667,42.667 c23.531,0,42.667-19.136,42.667-42.667c0-7.488-2.112-14.443-5.525-20.565l65.344-52.117c7.147,5.376,15.915,8.683,25.515,8.683 c15.637,0,29.205-8.555,36.629-21.141l49.429,14.101c-0.405,2.304-0.725,4.629-0.725,7.04c0,23.531,19.136,42.667,42.667,42.667 c23.531,0,42.667-19.136,42.667-42.667c0-7.893-2.304-15.189-6.037-21.547l69.845-69.845c6.336,3.755,13.632,6.059,21.525,6.059 c23.531,0,42.667-19.136,42.667-42.667C490.667,19.136,471.531,0,448,0z\"\n  })))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)), _g17 || (_g17 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAnalytics);\nexport default __webpack_public_path__ + \"static/media/analytics.ff560169.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgList(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    enableBackground: \"new 0 0 512 512\",\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    width: 512,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m464.883 64.267h-417.766c-25.98 0-47.117 21.136-47.117 47.149 0 25.98 21.137 47.117 47.117 47.117h417.766c25.98 0 47.117-21.137 47.117-47.117 0-26.013-21.137-47.149-47.117-47.149z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m464.883 208.867h-417.766c-25.98 0-47.117 21.136-47.117 47.149 0 25.98 21.137 47.117 47.117 47.117h417.766c25.98 0 47.117-21.137 47.117-47.117 0-26.013-21.137-47.149-47.117-47.149z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m464.883 353.467h-417.766c-25.98 0-47.117 21.137-47.117 47.149 0 25.98 21.137 47.117 47.117 47.117h417.766c25.98 0 47.117-21.137 47.117-47.117 0-26.012-21.137-47.149-47.117-47.149z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgList);\nexport default __webpack_public_path__ + \"static/media/list.f71c5377.svg\";\nexport { ForwardRef as ReactComponent };","// External imports\nimport React from 'react'\nimport { NavLink, useLocation } from 'react-router-dom'\n\n// Internal imports\nimport './nav-bar.scss'\nimport { ReactComponent as LogoutIcon } from '../../../svgIcons/logout.svg'\nimport { ReactComponent as DashboardIcon } from \"../../../svgIcons/dashboard.svg\";\nimport { ReactComponent as SettingsIcon } from \"../../../svgIcons/settings.svg\";\nimport { ReactComponent as AnalyticsIcon } from \"../../../svgIcons/analytics.svg\";\nimport { ReactComponent as MenuIcon } from \"../../../svgIcons/list.svg\";\nimport {useStoreActions, useStoreState} from \"../../../store/hookSetup\";\n\n/**\n * The navigation bar on the left side of page.\n */\nconst NavBar = () => {\n    // Local state\n    const [currentLocation, setCurrentLocation] = React.useState(\"/dashboard\")\n    const [hovering, setHovering] = React.useState(\"\")\n    const [open, setOpen] = React.useState(false)\n\n    // Store actions\n    const logout = useStoreActions(actions => actions.auth.logout)\n    const reset = useStoreActions(actions => actions.reset)\n    const userid = useStoreState(state => state.auth.uid)\n\n    // Every time the location changes, currentLocation is updated.\n    let location = useLocation()\n    React.useEffect(() => {\n        setCurrentLocation(location.pathname)\n    }, [location])\n\n    /**\n     * Handles logout button press\n     */\n    const beginLogout = () => {\n        reset()\n        logout({userid})\n    }\n\n    return (\n        <>\n            <div className={`nav-bar ${!open ? \"closed\" : \"\"}`}>\n                <div className={\"nav-bar__inner-container\"}>\n                <NavLink to=\"/dashboard\"\n                     onMouseOver={() => setHovering('/dashboard')}\n                     onMouseLeave={() => setHovering(\"\")}\n                >\n                    <DashboardIcon\n                        id=\"nav-bar-link-icon\"\n                        style={{\n                            fill: currentLocation === '/dashboard' ? \"#c48852\" : hovering === '/dashboard' ? \"#c48852\" : \"white\",\n                            marginTop: 20,\n                        }}\n                    />\n                </NavLink>\n\n                <NavLink to=\"/analytics\"\n                         onMouseEnter={() => setHovering('/analytics')}\n                         onMouseLeave={() => setHovering(\"\")}\n                >\n                    <AnalyticsIcon\n                        id=\"nav-bar-link-icon\"\n                        style={{\n                            fill: currentLocation === '/analytics' ? \"#c48852\" : hovering === '/analytics' ? \"#c48852\" : \"white\"\n                        }}\n                    />\n                </NavLink>\n\n                <NavLink to=\"/settings\"\n                         onMouseEnter={() => setHovering('/settings')}\n                         onMouseLeave={() => setHovering(\"\")}\n                >\n                    <SettingsIcon\n                        id=\"nav-bar-link-icon\"\n                        style={{\n                            fill: currentLocation === '/settings' ? \"#c48852\" : hovering === '/settings' ? \"#c48852\" : \"white\"\n                        }}\n                    />\n                </NavLink>\n                </div>\n                <div onClick={beginLogout}>\n                    <LogoutIcon id=\"nav-bar-logout-icon\" height={50} width={50}/>\n                </div>\n            </div>\n\n            <MenuIcon className={`nav-bar-toggle-icon ${!open ? \"closed\" : \"\"}`} onClick={() => setOpen(!open)} style={{marginLeft: open ? 80 : 20}}/>\n        </>\n\n    )\n}\n\nexport default NavBar","// External imports\nimport React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\n// Internal imports\nimport NavBar from \"../components/BasicComponents/NavBar/NavBar\";\nimport {useStoreState} from \"../store/hookSetup\";\n\n/**\n * Private routes require uid to not be an empty string thereby\n * assuming that the user has authenticated. If the user is trying to\n * access a private route while not authenticated, they are redirected\n * back to login screen.\n * @param props The component to render and current path.\n */\nconst PrivateRoute = (props: {path: string, component: React.FC }) => {\n    const uid = useStoreState(state => state.auth.uid)\n    const isAuthenticated = !!uid\n    const Component = props.component\n\n    return (\n        <>\n            {uid !== \"\" && <NavBar />}\n            <Route path={props.path} component={() => (\n                isAuthenticated ? (\n                    <>\n                        <Component/>\n                    </>\n                ) : (\n                    <Redirect to=\"/\"/>\n                )\n            )}>\n            </Route>\n        </>\n    )\n}\nexport default PrivateRoute\n","// External imports\nimport React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\n// Internal imports\nimport {useStoreState} from \"../store/hookSetup\";\n\n/**\n * The public route requires no authentication so can be access by anyone.\n * If the user actually is authenticated, they are redirected to dashboard.\n * That's because the only public route is the login screen and if a user is\n * logged in there's no reason to display it.\n * @param props The component to render and current path.\n */\nconst PublicRoute = (props:{path:string, component: React.FC, exact: boolean}) => {\n\n    const uid = useStoreState(state => state.auth.uid)\n    const isAuthenticated = !!uid\n    const Component = props.component\n\n    return (\n        <Route path={props.path} component={() => (\n            isAuthenticated ? (\n                <Redirect to=\"/dashboard\"/>\n            ) : (\n                <Component/>\n            )\n        )}>\n        </Route>\n    )\n}\n\nexport default PublicRoute","// External imports\nimport React from 'react';\n\n// Internal imports\nimport {history} from \"../../routers/AppRouter\";\n\nconst BackendError = () => {\n\n    React.useEffect(() => {\n        window.onload = function() {\n            history.push(\"/\")\n        }\n    }, [])\n\n    return (\n        <div style={{height: \"100vh\", display: \"flex\", flexDirection: \"column\", alignItems:\"center\", justifyContent: \"center\"}}>\n            Internal server error. Please refresh the page in a minute.\n        </div>\n    )\n}\n\nexport default BackendError","// External imports\nimport React from \"react\"\n\n// Internal imports\nimport \"./tab-bar.scss\"\n\ntype TabBarProps = {\n    tabs: string[],\n    selectedIndex: number,\n    onSelect: (selected: number) => void\n}\n\nconst TabBar = ({tabs, onSelect, selectedIndex}: TabBarProps) => {\n\n    return (\n        <div className={\"tab-bar\"}>\n            {tabs.map((tab, index) => (\n                <h3 key={tab} onClick={() => onSelect(index)} className={`tab-bar-item ${selectedIndex === index ? \"selected-item\" : \"\"}`}>\n                    {tab}\n                </h3>\n            ))}\n        </div>\n    )\n}\n\nexport default TabBar","// Internal imports\nimport {history} from \"../../routers/AppRouter\";\n\nexport type TotalPerWeek = {\n    categoryTypes: {categoryid: string, count: number, name: string, color: string}[],\n    activityTypes: {activityid: string, count: number, categoryid: string, long: string, short: string}[]\n}\n/**\n * Fetches the total per week which basically is the amount of time spent for each category and\n * activity type.\n * @param userid of user for which to fetch total per week.\n * @param weekNr of week for which to fetch total per week.\n * @param year of week for which to fetch total per week.\n */\nexport const getTotalPerWeek = async (userid: string, weekNr: number, year: number):Promise<TotalPerWeek> => {\n    try {\n        let res = await fetch(`api/user/${userid}/analytics/total-per-week?week_number=${weekNr}&week_year=${year}`, {\n            method: \"GET\",\n            mode: \"cors\",\n            credentials: \"include\",\n        })\n\n        let totalPerWeek: TotalPerWeek;\n\n        if (res.ok) {\n            totalPerWeek = await res.json()\n        } else {\n            if (res.status !== 404) {\n                history.push(\"/internalError\")\n            }\n\n            totalPerWeek = {categoryTypes: [], activityTypes: []}\n        }\n\n        return totalPerWeek\n    } catch (e) {\n        history.push(\"/internalError\")\n        return {categoryTypes: [], activityTypes: []}\n    }\n}\n\nexport type AvailableDate = {\n    year: number,\n    weeks: number[]\n}\nexport const getAvailableDates = async (userid: string): Promise<AvailableDate[]> => {\n    try {\n        let res = await fetch(`api/user/${userid}/analytics/available-dates`, {\n            method: \"GET\",\n            mode: \"cors\",\n            credentials: \"include\",\n        })\n\n        let availableDates: AvailableDate[] = []\n\n        if (res.ok) {\n            availableDates = await res.json()\n        } else {\n            history.push(\"/internalError\")\n        }\n\n        return availableDates\n    } catch (e) {\n        history.push(\"/internalError\")\n        return []\n    }\n}","// External imports\nimport React from \"react\"\n\n// Internal imports\nimport './total-per-week-categories-table.scss'\nimport {TotalPerWeek} from \"../../../../../dao/analytics/analyticsDao\";\nimport {Duration} from \"luxon\";\n\ntype TotalPerWeekProps = {\n    totalPerWeek: TotalPerWeek\n}\n\nconst TotalPerWeekCategoriesTable = ({totalPerWeek}: TotalPerWeekProps) => {\n\n    return (\n        <table style={{width: \"100%\"}}>\n            <tbody>\n            <tr>\n                <th className={\"total-per-week-table__category-header\"} style={{textAlign: \"left\"}}>Category</th>\n                <th className={\"total-per-week-table__category-header\"}>Hours total</th>\n            </tr>\n            {totalPerWeek.categoryTypes.map(categoryType => (\n                <tr key={categoryType.categoryid}>\n                    <td className={\"total-per-week-table__category-row__cell cell\"}>\n                        <div\n                            className={\"total-per-week-table__category-color\"}\n                            style={{\n                                backgroundColor: categoryType.color\n                            }}\n                        />\n                        {categoryType.name}\n                    </td>\n\n                    <td className={\"total-per-week-table__category-row__cell-count cell\"}>{Duration.fromObject({minutes: categoryType.count*15}).toFormat(\"h:mm\")}</td>\n                </tr>\n            ))}\n            </tbody>\n        </table>\n    )\n}\n\nexport default TotalPerWeekCategoriesTable","// External imports\nimport React from \"react\"\n\n// Internal imports\nimport \"./no-analytics-banner.scss\"\n\nconst NoAnalyticsBanner = () => (\n    <div className={\"no-analytics-banner\"}>\n        You have no analytics for this week.\n    </div>\n)\n\nexport default NoAnalyticsBanner","// External imports\nimport React from \"react\"\nimport {PieChart, Pie, Cell, Tooltip} from 'recharts';\n\n// Internal imports\nimport {TotalPerWeek} from \"../../../../../dao/analytics/analyticsDao\";\n\ntype TotalPerWeekCategoriesPieChartProps = {\n    totalPerWeek: TotalPerWeek\n}\n\nconst TotalPerWeekCategoriesPieChart = ({totalPerWeek}: TotalPerWeekCategoriesPieChartProps) => {\n\n    return (\n        <PieChart width={300} height={300}>\n\n            <Tooltip\n                contentStyle={{backgroundColor: \"white\", borderColor: \"white\", borderRadius: \"7px\", opacity: .85}}\n                itemStyle={{color: \"black\"}}\n            />\n\n            <Pie\n                data={totalPerWeek.categoryTypes}\n                cx={145}\n                cy={150}\n                innerRadius={75}\n                outerRadius={100}\n                fill=\"#8884d8\"\n                paddingAngle={5}\n                dataKey=\"count\"\n                animationBegin={10}\n                animationDuration={900}\n            >\n                {totalPerWeek.categoryTypes.map((entry, index) => {\n                    return (<Cell\n                        key={`cell-${index}`}\n                        fill={entry.color}\n                        stroke={entry.color}\n                    />)\n                })}\n            </Pie>\n        </PieChart>\n    )\n}\n\nexport default TotalPerWeekCategoriesPieChart","// External imports\nimport React from \"react\"\nimport {PieChart, Pie, Cell, Tooltip} from 'recharts';\n\n// Internal imports\nimport {TotalPerWeek} from \"../../../../../dao/analytics/analyticsDao\";\n\ntype TotalPerWeekActivitiesPieChartProps = {\n    totalPerWeek: TotalPerWeek,\n    pickedCategoryid: string\n}\n\nconst TotalPerWeekActivitiesPieChart = ({totalPerWeek, pickedCategoryid}: TotalPerWeekActivitiesPieChartProps) => {\n\n    return (\n        <PieChart width={300} height={300}>\n\n            <Tooltip\n                contentStyle={{backgroundColor: \"white\", borderColor: \"white\", borderRadius: \"7px\", opacity: .85}}\n                itemStyle={{color: \"black\"}}\n            />\n\n            <Pie\n                data={totalPerWeek.activityTypes.filter(activityType => activityType.categoryid === pickedCategoryid)}\n                cx={145}\n                cy={150}\n                innerRadius={75}\n                outerRadius={100}\n                fill=\"#8884d8\"\n                paddingAngle={5}\n                dataKey=\"count\"\n                animationBegin={10}\n                animationDuration={900}\n                nameKey={\"long\"}\n            >\n                {totalPerWeek.activityTypes.map((entry, index) => {\n                    if (entry.categoryid === pickedCategoryid) {\n                        return (\n                            <Cell\n                                key={`cell-${index}`}\n                                fill={\"red\"}\n                                stroke={\"red\"}\n                            />\n                        )\n                    } else return null\n                })}\n            </Pie>\n        </PieChart>\n    )\n}\n\nexport default TotalPerWeekActivitiesPieChart","// External imports\nimport React from \"react\"\n\n// Internal imports\nimport './dropdown.scss'\n\ntype DropdownProps = {\n    label: string,\n    options: (string | number)[],\n    onSelect: (option: string | number, selectedIndex: number) => void,\n    selected: string | number,\n    styleSelect?:  React.CSSProperties\n}\n\nconst Dropdown = ({label, options, onSelect, selected, styleSelect}: DropdownProps) => {\n\n    return (\n        <div className={\"tool-bar-item__dropdown\"}>\n            <label className={\"tool-bar-item__label\"} htmlFor=\"dropdown\">{label}</label>\n            <select\n                style={styleSelect}\n                value={selected}\n                className={\"tool-bar-item__dropdown__select\"}\n                name=\"dropdown\"\n                onChange={(e) => onSelect(e.target.value, e.target.selectedIndex)}\n            >\n                {options.map((option, index) => (\n                    <option key={index} value={option}>\n                        {option}\n                    </option>\n                ))}\n            </select>\n        </div>\n    )\n}\n\nexport default Dropdown","// External imports\nimport React from \"react\"\n\n// Internal imports\nimport \"../../TotalPerWeekCategories/TotalPerWeekCategoriesTable/total-per-week-categories-table.scss\"\nimport {TotalPerWeek} from \"../../../../../dao/analytics/analyticsDao\";\nimport {Duration} from \"luxon\";\n\ntype TotalPerWeekActivitiesTableProps = {\n    totalPerWeek: TotalPerWeek,\n    pickedCategoryid: string\n}\n\nconst TotalPerWeekActivitiesTable = ({totalPerWeek, pickedCategoryid}: TotalPerWeekActivitiesTableProps) => {\n\n    return (\n        <table style={{width: \"100%\"}}>\n            <tbody>\n            <tr>\n                <th className={\"total-per-week-table__category-header\"} style={{textAlign: \"left\"}}>Activity  </th>\n                <th className={\"total-per-week-table__category-header\"}>Hours total</th>\n            </tr>\n            {totalPerWeek.activityTypes.map(activityType => {\n\n                if (activityType.categoryid === pickedCategoryid) {\n                    return (\n                        <tr key={activityType.activityid}>\n                            <td className={\"total-per-week-table__category-row__cell cell\"}>\n                                <div\n                                    className={\"total-per-week-table__category-color\"}\n                                    style={{\n                                        backgroundColor: \"red\"\n                                    }}\n                                />\n                                {activityType.long}\n                            </td>\n\n                            <td className={\"total-per-week-table__category-row__cell-count cell\"}>{Duration.fromObject({minutes: activityType.count*15}).toFormat(\"h:mm\")}</td>\n                        </tr>\n                    )\n                } else return null\n            })}\n            </tbody>\n        </table>\n    )\n}\n\nexport default TotalPerWeekActivitiesTable\n\n\n","// External imports\nimport React, {useEffect} from \"react\"\n\n// Internal imports\nimport \"./total-per-week-activities-wrapper.scss\"\nimport {TotalPerWeek} from \"../../../../../dao/analytics/analyticsDao\";\nimport TotalPerWeekActivitiesPieChart from \"../TotalPerWeekActivitiesPieChart/TotalPerWeekActivitiesPieChart\";\nimport Dropdown from \"../../../../BasicComponents/ToolBar/ToolBarItems/Dropdown/Dropdown\";\nimport TotalPerWeekActivitiesTable from \"../TotalPerWeekActivitiesTable/TotalPerWeekActivitiesTable\";\nimport {useStoreState} from \"../../../../../store/hookSetup\";\n\ntype TotalPerWeekActivitiesWrapperProps = {\n    totalPerWeek: TotalPerWeek\n}\n\nconst TotalPerWeekActivitiesWrapper = ({totalPerWeek}: TotalPerWeekActivitiesWrapperProps) => {\n\n    const [pickedCategoryIndex, setPickedCategoryIndex] = React.useState(0)\n\n    return (\n        <>\n            <div className={\"total-per-week-activities-wrapper__description-container\"}>\n                <p className={\"total-per-week-activities-wrapper__description-text\"}>\n                    For category\n                </p>\n\n                <Dropdown\n                    styleSelect={{marginTop: 0, marginBottom: \"10px\"}}\n                    label={\"\"}\n                    options={totalPerWeek.categoryTypes.flatMap(categoryType => categoryType.name)}\n                    onSelect={(selected, selectedIndex) => setPickedCategoryIndex(selectedIndex)}\n                    selected={totalPerWeek.categoryTypes[pickedCategoryIndex].name}\n                />\n            </div>\n\n            <TotalPerWeekActivitiesTable totalPerWeek={totalPerWeek} pickedCategoryid={totalPerWeek.categoryTypes[pickedCategoryIndex].categoryid}/>\n\n            <TotalPerWeekActivitiesPieChart totalPerWeek={totalPerWeek} pickedCategoryid={totalPerWeek.categoryTypes[pickedCategoryIndex].categoryid}/>\n        </>\n    )\n}\n\nexport default TotalPerWeekActivitiesWrapper","// External imports\nimport React from \"react\"\n\n// Internal imports\nimport \"./total-per-week-dashboard.scss\"\nimport {AvailableDate, TotalPerWeek} from \"../../../../dao/analytics/analyticsDao\";\nimport {ReactComponent as Loader} from \"../../../../svgIcons/spinner.svg\";\nimport TotalPerWeekCategoriesTable from \"../TotalPerWeekCategories/TotalPerWeekCategoriesTable/TotalPerWeekCategoriesTable\";\nimport NoAnalyticsBanner from \"../../BasicComponents/NoAnalyticsBanner/NoAnalyticsBanner\";\nimport TotalPerWeekCategoriesPieChart\n    from \"../TotalPerWeekCategories/TotalPerWeekCategoriesPieChart/TotalPerWeekCategoriesPieChart\";\nimport TotalPerWeekActivitiesPieChart\n    from \"../TotalPerWeekActivities/TotalPerWeekActivitiesPieChart/TotalPerWeekActivitiesPieChart\";\nimport TotalPerWeekActivitiesWrapper\n    from \"../TotalPerWeekActivities/TotalPerWeekActivitiesWrapper/TotalPerWeekActivitiesWrapper\";\n\ntype TotalPerWeekDashboardProps = {\n    totalPerWeek: TotalPerWeek,\n    availableDates: AvailableDate[],\n    loading: boolean\n}\n\nconst TotalPerWeekDashboard = ({totalPerWeek, availableDates, loading}: TotalPerWeekDashboardProps) => {\n    if (loading) {\n        return (\n            <div id=\"main-dashboard-table__loading\">\n                <Loader style={{height: '6rem', width: '6rem'}}/>\n            </div>\n        )\n    }\n\n    return (\n        <div className={\"total-per-week\"}>\n\n                {totalPerWeek.categoryTypes.length !== 0\n                    ?\n                    <>\n                        <div className={\"card\"}>\n                            <h3 className={\"card-title\"}>Categories</h3>\n\n                            <TotalPerWeekCategoriesTable totalPerWeek={totalPerWeek}/>\n\n                            <TotalPerWeekCategoriesPieChart totalPerWeek={totalPerWeek}/>\n                        </div>\n\n                        <div className={\"card\"}>\n                            <h3 className={\"card-title\"}>Activities</h3>\n\n                            <TotalPerWeekActivitiesWrapper totalPerWeek={totalPerWeek}/>\n                        </div>\n                    </>\n                    :\n                    <NoAnalyticsBanner/>\n                }\n        </div>\n    )\n}\n\nexport default TotalPerWeekDashboard","// External imports\nimport React from \"react\"\n\n// Internal imports\nimport './tool-bar.scss'\n\ntype ToolBarProps = {\n    children: React.ReactNode\n}\n\nconst ToolBar = ({children}: ToolBarProps) => {\n\n    return (\n        <div className={\"tool-bar\"}>\n            {children}\n        </div>\n    )\n}\n\nexport default ToolBar","// External imports\nimport React from \"react\"\n\n// Internal imports\nimport {useStoreActions, useStoreState} from \"../../../../store/hookSetup\";\nimport {AvailableDate, getAvailableDates, getTotalPerWeek, TotalPerWeek} from \"../../../../dao/analytics/analyticsDao\";\nimport TotalPerWeekDashboard from \"../TotalPerWeekDashboard/TotalPerWeekDashboard\";\nimport ToolBar from \"../../../BasicComponents/ToolBar/ToolBar\";\nimport Dropdown from \"../../../BasicComponents/ToolBar/ToolBarItems/Dropdown/Dropdown\";\nimport {DateTime} from \"luxon\";\n\nconst TotalPerWeekWrapper = () => {\n    // Store state\n    const userid = useStoreState(state => state.auth.uid)\n    const currentDate = useStoreState(state => state.settings.currentDate)\n\n    // Store actions\n    const setDate = useStoreActions(actions => actions.settings.setDate)\n\n    // Local state\n    const [totalPerWeek, setTotalPerWeek] = React.useState<TotalPerWeek>({categoryTypes: [], activityTypes: []})\n    const [availableDates, setAvailableDates] = React.useState<AvailableDate[]>([])\n    const [loading, setLoading] = React.useState(true)\n\n    React.useEffect(() => {\n        (async function () {\n            setLoading(true)\n\n            const fetchedTotalPerWeek = await getTotalPerWeek(userid, currentDate.weekNr, currentDate.year)\n            setTotalPerWeek(fetchedTotalPerWeek)\n\n            const fetchedAvailableDates = await getAvailableDates(userid)\n            setAvailableDates(fetchedAvailableDates)\n\n            setLoading(false)\n        })()\n    }, [])\n\n    /**\n     * Fetches the total per week for the new week. Also,\n     * updates the new week in the store current date object.\n     * @param weekNr to use for new total per week.\n     */\n    const changeWeek = async (weekNr: number): Promise<void> => {\n        let fetchedTotalPerWeek = await getTotalPerWeek(userid, weekNr, currentDate.year)\n        setTotalPerWeek(fetchedTotalPerWeek)\n        setDate({date: {weekNr, year: currentDate.year}})\n    }\n\n    /**\n     * Fetches the total per week for the new year. Also,\n     * updates the new year in the store current date object.\n     * Important to note that the week chosen for the new year\n     * is the latest one for it.\n     * @param year to use for new total per week.\n     */\n    const changeYear =  async (year: number): Promise<void> => {\n        let weekNr: number = -1\n\n        // Finds the highest week for the year\n        for (let i = 0; i < availableDates.length; i++) {\n            if (availableDates[i].year === year) {\n                weekNr = Math.max(...availableDates[i].weeks)\n                break;\n            }\n        }\n\n        if (weekNr !== -1) {\n            let fetchedTotalPerWeek = await getTotalPerWeek(userid, weekNr, year)\n            setTotalPerWeek(fetchedTotalPerWeek)\n\n            setDate({date: {year, weekNr}})\n        }\n    }\n\n    /**\n     * Extracts the week numbers for a given year\n     * from the available dates array.\n     * @param year for which to find weeks.\n     */\n    const getWeekDropdownWeeks = (year: number): number[] => {\n        let weeks:  number[] = []\n\n        for (let i = 0; i < availableDates.length; i++) {\n            if (availableDates[i].year === year) {\n                weeks = availableDates[i].weeks\n            }\n        }\n\n        return weeks\n    }\n    // console.log(DateTime.fromObject({weekNumber: currentDate.weekNr, weekYear: currentDate.year}).monthLong)\n    return (\n        <>\n            <ToolBar>\n                <Dropdown\n                    label={\"Year\"}\n                    options={availableDates.flatMap(availableDate => availableDate.year)}\n                    onSelect={data => changeYear(parseInt(data.toString()))}\n                    selected={currentDate.year}\n                />\n                <Dropdown\n                    label={\"Week\"}\n                    options={getWeekDropdownWeeks(currentDate.year)}\n                    onSelect={data => changeWeek(parseInt(data.toString()))}\n                    selected={currentDate.weekNr}\n                />\n\n            </ToolBar>\n\n            <TotalPerWeekDashboard totalPerWeek={totalPerWeek} loading={loading} availableDates={availableDates}/>\n        </>\n    )\n}\n\nexport default TotalPerWeekWrapper","// External imports\nimport React from \"react\"\n\nconst TotalPerDayWrapper = () => {\n\n    return (\n        <div>\n            Hello world1\n        </div>\n    )\n}\n\nexport  default TotalPerDayWrapper","// External imports\nimport React from \"react\"\n\n// Internal imports\nimport './analytics-dashboard-wrapper.scss'\nimport TabBar from \"../../BasicComponents/TabBar/TabBar\";\nimport TotalPerWeekWrapper from \"../TotalPerWeek/TotalPerWeekWrapper/TotalPerWeekWrapper\";\nimport TotalPerDayWrapper from \"../TotalPerDay/TotalPerDayWrapper/TotalPerDayWrapper\";\n\n/**\n * The wrapper component for all analytics tabs.\n */\nconst AnalyticsDashboardWrapper = () => {\n    const tabs = [\"Total per week\", \"Total per day\"]\n\n    // Local state\n    const [selectedTabIndex, setSelectedTabIndex] = React.useState(0)\n\n    return (\n        <div className={\"analytics-dashboard-wrapper\"}>\n            <TabBar tabs={tabs} selectedIndex={selectedTabIndex} onSelect={(selected) => setSelectedTabIndex(selected)}/>\n\n            {tabs.map((tab, index) => {\n\n                if (selectedTabIndex === 0 && selectedTabIndex === index) {\n                    return <TotalPerWeekWrapper key={index}/>\n                } else if (selectedTabIndex === 1 && selectedTabIndex === index) {\n                    return <TotalPerDayWrapper key={index}/>\n                }\n\n            })}\n        </div>\n    )\n}\n\nexport default AnalyticsDashboardWrapper","// External imports\nimport React from 'react'\nimport {createBrowserHistory} from 'history'\nimport {Router, Route, Switch} from 'react-router-dom'\n\n// Internal imports\nimport MainDashboardWrapper from '../components/MainDashboard/MainDashboardWrapper'\nimport LoginPage from '../components/LoginPage/LoginPage'\nimport NotFound from '../components/NotFoundPage/NotFound'\nimport SettingsDashboardWrapper from '../components/Settings/SettingsDashboardWrapper/SettingsDashboardWrapper'\nimport PrivateRoute from './PrivateRoute'\nimport PublicRoute from './PublicRoute'\nimport BackendError from \"../components/BackendErrorPage/BackendError\";\nimport AnalyticsDashboardWrapper from \"../components/Analytics/AnalyticsDashboardWrapper/AnalyticsDashboardWrapper\";\n\n\nexport const history = createBrowserHistory()\n\n/**\n * This component defines private and public routes.\n */\nconst AppRouter = () => {\n\n    return (\n        <Router history={history}>\n                <Switch>\n                        <PublicRoute path=\"/\" component={LoginPage} exact={true}/>\n                        <PublicRoute path={\"/internalError\"} component={BackendError} exact={false}/>\n                        <PrivateRoute path={\"/analytics\"} component={AnalyticsDashboardWrapper}/>\n                        <PrivateRoute path=\"/dashboard\" component={MainDashboardWrapper}/>\n                        <PrivateRoute path=\"/settings\" component={SettingsDashboardWrapper}/>\n                        <Route component={NotFound}/>\n                </Switch>\n        </Router>\n    )\n}\n\nexport default AppRouter\n","// External imports\nimport {thunk, action, Thunk, Action} from \"easy-peasy\"\nimport {history} from \"../../routers/AppRouter\";\n\n/**\n * Authentication model. Stores state and functionality to change it\n * related to user authentication.\n */\nexport interface AuthModel {\n    // User id, if present indicates that user has logged in.\n    uid:string,\n\n    /**\n     * Performs login with the given email and password.\n     */\n    login: Thunk<AuthModel, {email:string, password:string}>,\n    /**\n     * Sets the user as logged in.\n     */\n    setuid: Action<AuthModel, {userid:string}>,\n    /**\n     * Performs logout.\n     */\n    logout: Thunk<AuthModel, {userid:string}>,\n}\n\nconst authModel:AuthModel = {\n    uid: \"\",\n\n    login: thunk(async (actions, payload) => {\n        try {\n            let res = await fetch(`api/auth/login`, {\n                method: \"POST\",\n                mode: \"cors\",\n                credentials: \"include\",\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({email: payload.email, password: payload.password})\n            })\n\n            if (res.ok) {\n                let user = await res.json()\n                window.localStorage.setItem(\"userid\", user[0].userid)\n                actions.setuid({userid: user[0].userid})\n            } else {\n                if (res.status !== 401) {\n                    history.push(\"/internalError\")\n                }\n            }\n        } catch (e) {\n            history.push(\"/internalError\")\n        }\n    }),\n\n    setuid: action((state, payload) => {\n        state.uid = payload.userid\n    }),\n\n    logout: thunk(async (actions, payload) => {\n        try {\n            let res = await fetch(`api/user/${payload.userid}/auth/logout`,\n                {\n                    method: \"GET\",\n                    mode: \"cors\",\n                    credentials: \"include\",\n                })\n            if (res.ok) {\n                window.localStorage.removeItem(\"userid\")\n                actions.setuid({userid: \"\"})\n            } else {\n                history.push(\"/internalError\")\n            }\n        } catch (e) {\n            history.push(\"/internalError\")\n        }\n    }),\n}\n\n\nexport default authModel","// External imports\nimport {Action, action, debug, ThunkOn, thunkOn, TargetPayload} from 'easy-peasy'\nimport { v4 as uuidv4 } from 'uuid';\nimport { debounce } from \"debounce\";\n\n// Internal imports\nimport { findStackExtremes } from '../../components/MainDashboard/Day/Day/helpers'\nimport store from '../storeSetup'\nimport {history} from \"../../routers/AppRouter\";\n\nexport type Note = {\n    weekid: string,\n    weekDay: number,\n    notePosition: number,\n    stackid: string,\n    userid: string,\n    note: string,\n    weekDayDate: string\n}\n\nexport interface NotesModel {\n    notes:Note[][],\n    setNotes: Action<NotesModel,{notes:Note[][]}>,\n    syncToDb: ThunkOn<NotesModel>,\n\n    // Cache values for above difference action\n    aboveDifferenceCache: { draggedIntoPosition:number, dragPosition:number, weekDay:number, dragStackid:string, dragNoteText:string },\n\n    /**\n     * Updates notes above the drag note.\n     * @param  draggedIntoPosition The position of the note that was dragged into.\n     * @param  dragPosition The position of the note currently being dragged (drag note).\n     * @param  weekDay The day of both note dragged into and drag note.\n     * @param  dragStackid The stackid of the drag note.\n     * @param  dragNoteText The note text of the drag note.\n     */\n    aboveDifference: Action<NotesModel, {draggedIntoPosition:number, dragPosition:number, weekDay:number, dragStackid:string, dragNoteText:string}>,\n\n    // Cache values for belowDifference action\n    belowDifferenceCache: { draggedIntoPosition:number, dragPosition:number, weekDay:number, dragStackid:string, oldStackid:string, oldNote:string},\n    /**\n     * Updates notes below the drag note.\n     * @param  draggedIntoPosition The position of the note that was dragged into.\n     * @param  dragPosition The position of the note currently being dragged (drag note).\n     * @param  weekDay Day of both note dragged into and drag note.\n     * @param  dragStackid The stackid of the drag note.\n     * @param  oldStackid The stackid of note that was dragged into.\n     * @param  oldNote The note text of note that was dragged into.\n     */\n    belowDifference: Action<NotesModel, {draggedIntoPosition:number, dragPosition:number, weekDay:number, dragStackid:string, oldStackid:string, oldNote:string }>,\n\n    setNoteText: Action<NotesModel, Note>,\n    deleteNoteText: Action<NotesModel, Note>,\n    deleteNoteStack: Action<NotesModel, {stackid:string, weekDay:number}>\n}\n\nconst notesModel:NotesModel = {\n    notes: [],\n    setNotes: action((state, payload) => {\n        state.notes= payload.notes\n    }),\n   \n    syncToDb: thunkOn(\n        actions => [\n            actions.aboveDifference,\n            actions.belowDifference,\n            actions.deleteNoteStack,\n            actions.deleteNoteText,\n            actions.setNoteText\n        ],\n\n        debounce(\n            async function(actions, target:TargetPayload<{ weekDay:number }>) {\n                const userid = store.getState().auth.uid // User id\n                const notes: Note[][] = store.getState().notes.notes // All current week's notes\n                const weekDay = target.payload.weekDay\n\n                try {\n                    let res = await fetch(`api/user/${userid}/week/${notes[0][0].weekid}/day/${weekDay}/notes `, {\n                        method: \"PATCH\",\n                        mode: \"cors\",\n                        credentials: \"include\",\n                        headers: {\n                            'Accept': 'application/json',\n                            'Content-Type': 'application/json'\n                        },\n                        body: JSON.stringify(notes[weekDay])\n                    })\n\n                    if (!res.ok) {\n                        history.push(\"/internalError\")\n                    }\n                } catch (e) {\n                    history.push(\"/internalError\")\n                }\n            }, \n            200\n        ) \n    ),\n\n    aboveDifferenceCache: { draggedIntoPosition: 0, dragPosition: 0, weekDay: -1, dragStackid: '', dragNoteText: '' },\n\n    aboveDifference: action((state, payload) => {\n\n        // Extract variables from payload\n        const draggedIntoPosition = payload.draggedIntoPosition\n        const dragPosition = payload.dragPosition\n        const weekDay = payload.weekDay\n        const dragStackid = payload.dragStackid\n        const dragNoteText = payload.dragNoteText \n\n        if ( // Compares cache to current values and if they differ then proceed to update the note stack.\n            state.aboveDifferenceCache.draggedIntoPosition !== draggedIntoPosition ||\n            state.aboveDifferenceCache.dragPosition !== dragPosition ||\n            state.aboveDifferenceCache.weekDay !== weekDay ||\n            state.aboveDifferenceCache.dragStackid !== dragStackid ||\n            state.aboveDifferenceCache.dragNoteText !== dragNoteText\n        ) {\n            const notesToUpdate = [] // contains the positions of notes to update\n    \n            // Finds notes that have to be updated between the drag note (not included)\n            // and the note that was dragged onto (included)\n            for (let j = draggedIntoPosition; j < dragPosition; j++) {\n                notesToUpdate.push(j)\n            }\n\n            for (let i = 0; i < state.notes.length; i++) {\n                for (let k = 0; k < state.notes[i].length; k++) {\n                    let note: Note = state.notes[i][k]\n\n                    if (notesToUpdate.includes(note.notePosition) && note.weekDay === weekDay) { // If current iteration note is one of the notes to update\n                        state.notes[i][k].stackid = dragStackid // Updates stackid of the current iteration note to drag note stackid\n                        state.notes[i][k].note = dragNoteText // Updates note text of the current iteration note to drag note text\n\n                        // Remove the note text from all other notes from the note stack except note that was dragged into\n                        for (let m = 0; m < state.notes.length; m++) {\n                            for (let n = 0; n < state.notes[m].length; n++) {\n                                let noteToRemoveText = state.notes[m][n]\n\n                                if (noteToRemoveText.stackid === dragStackid &&\n                                    noteToRemoveText.weekDay === weekDay &&\n                                    noteToRemoveText.notePosition !== draggedIntoPosition\n                                ) {\n                                    state.notes[m][n].note = \"\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            // Renew cache\n            state.aboveDifferenceCache.draggedIntoPosition = draggedIntoPosition \n            state.aboveDifferenceCache.dragPosition = dragPosition \n            state.aboveDifferenceCache.weekDay = weekDay\n            state.aboveDifferenceCache.dragStackid = dragStackid \n            state.aboveDifferenceCache.dragNoteText = dragNoteText\n        }\n    }),\n\n    belowDifferenceCache: { draggedIntoPosition: 0, dragPosition: 0, weekDay: -1, dragStackid: '', oldStackid: '', oldNote: ''},\n\n    belowDifference: action((state, payload) => {\n        \n        // Extract variables from payload\n        const draggedIntoPosition = payload.draggedIntoPosition\n        const dragPosition = payload.dragPosition\n        const weekDay = payload.weekDay\n        const dragStackid = payload.dragStackid\n        const oldStackid = payload.oldStackid\n        const oldNote = payload.oldNote\n        \n        if ( // Compares cache to current values\n            state.belowDifferenceCache.draggedIntoPosition !== draggedIntoPosition ||\n            state.belowDifferenceCache.dragPosition !== dragPosition ||\n            state.belowDifferenceCache.weekDay !== weekDay ||\n            state.belowDifferenceCache.dragStackid !== dragStackid ||\n            state.belowDifferenceCache.oldStackid !== oldStackid ||\n            state.belowDifferenceCache.oldNote !== oldNote\n        ) {\n            const notesToUpdate = [] // contains the positions of notes to update\n    \n            // Finds notes that have to be updated between the drag note (not included)\n            // and the note that was dragged onto (included)\n            for (let p = dragPosition + 1; p < draggedIntoPosition + 1; p++) {\n                notesToUpdate.push(p)\n            }\n\n\n            for (let i = 0; i < state.notes.length; i++) {\n                for (let j = 0; j < state.notes[i].length; j++) {\n                    let note: Note = state.notes[i][j]\n\n                    if (notesToUpdate.includes(note.notePosition) && note.weekDay === weekDay) { // If current iteration note is one of the notes to update\n\n                        state.notes[i][j].stackid = dragStackid // Updates stackid of the current iteration note to stackid of drag note\n\n                        // Remove the note text from all notes from the note stack except the highest one which is the drag note itself\n                        for (let m = 0; m < state.notes.length; m++) {\n                            for (let n = 0; n < state.notes[m].length; n++) {\n                                let noteToRemoveText = state.notes[m][n]\n\n                                if (noteToRemoveText.stackid === dragStackid &&\n                                    noteToRemoveText.weekDay === weekDay &&\n                                    noteToRemoveText.notePosition !== dragPosition\n                                ) {\n                                    state.notes[m][n].note = \"\"\n                                }\n                            }\n                        }\n\n                        let {min, max} = findStackExtremes(state.notes.flat(1), oldStackid) // Finds extremes of the note that was dragged into\n                        if (min !== max) { // If the note that was dragged into is a stack note\n\n                            // Since the note that was dragged into is the topmost note of its stack,\n                            // it is the only one that contains the stack note text, hence here\n                            // the stack note text is passed onto the next highest note from the stack.\n                            for (let p = 0; p < state.notes.length; p++) {\n                                for (let l = 0; l < state.notes[p].length; l++) {\n                                    let nt: Note = state.notes[p][l]\n\n                                    if (nt.stackid === oldStackid && nt.weekDay === weekDay && nt.notePosition === min+1) {\n                                        state.notes[p][l].note = oldNote\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        // Renew cache\n        state.belowDifferenceCache.draggedIntoPosition = draggedIntoPosition\n        state.belowDifferenceCache.dragPosition = dragPosition\n        state.belowDifferenceCache.weekDay = weekDay\n        state.belowDifferenceCache.dragStackid = dragStackid\n        state.belowDifferenceCache.oldStackid = oldStackid\n        state.belowDifferenceCache.oldNote = oldNote\n    }),\n\n    setNoteText: action((state, payload) => {\n        for (let i = 0; i < state.notes.length; i++) {\n            for (let j = 0; j < state.notes[i].length; j++) {\n                let note: Note = state.notes[i][j]\n\n                if (note.notePosition === payload.notePosition && note.weekDay === payload.weekDay) {\n                    state.notes[i][j].note = payload.note\n                    break;\n                }\n            }\n        }\n    }),\n\n    deleteNoteText: action((state, payload) => {\n        for (let i = 0; i < state.notes.length; i++) {\n            for (let j = 0; j < state.notes[i].length; j++) {\n                let note: Note =  state.notes[i][j]\n\n                if (note.notePosition === payload.notePosition && note.weekDay === payload.weekDay) {\n                    state.notes[i][j].note = \"\"\n                    break;\n                }\n            }\n        }\n    }),\n\n    deleteNoteStack: action((state, payload) => {\n        const {min} = findStackExtremes(debug(state.notes.flat(1)), payload.stackid)\n\n        for (let i = 0; i < state.notes.length; i++) {\n            for (let j = 0; j < state.notes[i].length; j++) {\n                let note: Note = state.notes[i][j]\n\n                if (note.stackid === payload.stackid && note.weekDay === payload.weekDay) {\n                    state.notes[i][j].stackid = uuidv4()\n\n                    if (note.notePosition !== min) {\n                        state.notes[i][j].note = \"\"\n                    }\n                }\n            }\n        }\n    })\n}\n\nexport default notesModel","// External imports\nimport {Action, action, thunk, Thunk} from \"easy-peasy\"\nimport {DateTime} from \"luxon\";\n\n// Internal imports\nimport store from \"../storeSetup\";\nimport {history} from \"../../routers/AppRouter\";\n\n// New ones\nexport type CategoryType = {\n    categoryid:string,\n    userid:string,\n    color:string,\n    name:string,\n    archived:boolean\n}\n\nexport type ActivityType = {\n    activityid:string,\n    categoryid:string,\n    userid:string,\n    long:string,\n    short:string,\n    archived:boolean\n}\n\nexport interface Date {\n    weekNr:number,\n    year:number\n}\n\nexport interface SettingsModel {\n    // Indicates which time slot should be highlighted.\n    timeHoverIndex:number,\n    /**\n     * Sets the hover index.\n     * @param timeHoverIndex The index that is set as the timeHoverIndex.\n     */\n    setHoverIndex: Action<SettingsModel, {timeHoverIndex:number}>,\n\n    activityTypes:ActivityType[],\n    categoryTypes:CategoryType[],\n    /**\n     * Sets activity types.\n     * @param activityTypes to update with.\n     */\n    setActivityTypes: Action<SettingsModel, { activityTypes:ActivityType[]}>,\n    /**\n     * Sets category types.\n     * @param categorySettings to update with.\n     */\n    setCategoryTypes: Action<SettingsModel, { categoryTypes:CategoryType[]}>,\n    /**\n     * Updates specific category type's name and color using the given category type.\n     */\n    setCategoryType: Action<SettingsModel, {categoryType:CategoryType}>,\n    /**\n     * Updates an activity type's long and short.\n     * @param activityType to update with.\n     */\n    updateActivityType: Action<SettingsModel, {activityType:ActivityType}>,\n    /**\n     * Updates a category type's name and color.\n     */\n    updateCategoryType: Thunk<SettingsModel, {categoryType:CategoryType}>,\n\n    // Date that should be displayed.\n    currentDate: Date,\n    /**\n     * Sets date.\n     * @param date The Date that is to be set. Date: {weekNr, year}.\n     */\n    setDate: Action<SettingsModel, {date:Date}>,\n    /**\n     * Sets the previous weeks date given some week and year.\n     */\n    previousWeek:Action<SettingsModel, {date:Date}>,\n    /**\n     * Sets the next weeks date given some week and year.\n     */\n    nextWeek: Action<SettingsModel, {date:Date}>,\n    /**\n     * Sets the date to the current real life week.\n     */\n    toCurrentWeek: Action<SettingsModel>\n}\n\nconst settingsModel:SettingsModel = {\n    timeHoverIndex: 0,\n    setHoverIndex: action((state, payload) => {\n        state.timeHoverIndex = payload.timeHoverIndex\n    }),\n\n    activityTypes: [],\n    categoryTypes: [],\n    setActivityTypes: action((state, payload) => {\n        state.activityTypes = payload.activityTypes\n    }),\n    setCategoryTypes: action((state, payload) => {\n        state.categoryTypes = payload.categoryTypes\n    }),\n    setCategoryType: action((state, payload) => {\n        for (let i = 0; i < state.categoryTypes.length; i++) {\n            if (state.categoryTypes[i].categoryid === payload.categoryType.categoryid) {\n                state.categoryTypes[i].name = payload.categoryType.name\n                state.categoryTypes[i].color = payload.categoryType.color\n                break;\n            }\n        }\n    }),\n    updateActivityType: action((state, payload) => {\n        for (let i = 0; i < state.activityTypes.length; i++) {\n            if(state.activityTypes[i].activityid === payload.activityType.activityid) {\n                state.activityTypes[i].long = payload.activityType.long\n                state.activityTypes[i].short = payload.activityType.short\n                break;\n            }\n        }\n    }),\n    updateCategoryType: thunk(async (actions, payload) => {\n        const userid = store.getState().auth.uid\n\n        try {\n            let res = await fetch(`api/user/${userid}/category-type/${payload.categoryType.categoryid}`, {\n                method: \"PATCH\",\n                mode: \"cors\",\n                credentials: \"include\",\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    color: payload.categoryType.color,\n                    name: payload.categoryType.name\n                })\n            })\n\n            if (res.ok) {\n                const categoryType: CategoryType[] = await res.json()\n                actions.setCategoryType({categoryType: categoryType[0]})\n            } else {\n                history.push(\"/internalError\")\n            }\n        } catch (e) {\n            history.push(\"/internalError\")\n        }\n    }),\n\n    currentDate: {\n        weekNr: DateTime.now().weekNumber,\n        year: DateTime.now().startOf(\"week\").year\n    },\n    setDate: action((state, payload) => {\n        state.currentDate = payload.date\n    }),\n    previousWeek: action((state, payload) => {\n        const currentWeekNr = payload.date.weekNr\n        const currentYear = payload.date.year\n\n        let newWeekNr, newYear;\n\n        if (currentWeekNr === 1) { // If current week is first week of the year\n            newYear = currentYear - 1\n            newWeekNr = DateTime.fromObject({weekYear:newYear}).weeksInWeekYear\n        } else {\n            newWeekNr = currentWeekNr -1\n            newYear = currentYear\n        }\n\n        state.currentDate = {weekNr: newWeekNr, year: newYear}\n    }),\n    nextWeek: action((state, payload) => {\n        const currentWeekNr = payload.date.weekNr\n        const currentYear = payload.date.year\n        const weeksInCurrentYear = DateTime.fromObject({weekYear:currentYear}).weeksInWeekYear\n\n        let newWeekNr, newYear\n\n        if (weeksInCurrentYear === currentWeekNr) { // If the current week is the last week of the year\n            newWeekNr = 1\n            newYear= currentYear + 1\n        } else {\n            newWeekNr = currentWeekNr + 1\n            newYear = currentYear\n        }\n\n        state.currentDate = {weekNr: newWeekNr, year: newYear}\n    }),\n    toCurrentWeek: action((state) => {\n        state.currentDate = {\n            weekNr: DateTime.now().weekNumber,\n            year: DateTime.now().startOf(\"week\").year\n        }\n    })\n}\n\n\nexport default settingsModel","// External imports\nimport { debounce } from 'debounce'\nimport {Action, action, thunkOn, ThunkOn} from 'easy-peasy'\n\n// Internal imports\nimport store from '../storeSetup'\nimport {Note} from \"../notes/notes\";\nimport {history} from \"../../routers/AppRouter\";\n\nexport type Week = {\n    weekid: string,\n    userid: string,\n    weekNr: number,\n    weekYear: number\n}\n\nexport type FullWeek = Week & { categories: Category[][], notes: Note[][] }\n\nexport type Category = {\n    weekid: string,\n    weekDay: number,\n    categoryPosition: number,\n    userid: string,\n    categoryid: string | null,\n    activityid: string | null,\n    weekDayDate: string\n}\n\nexport interface CategoriesModel {\n    // Current week's categories.\n    categories:Category[][],\n\n    /**\n     * Sets categories.\n     * @param Category[][ Categories to set.\n     */\n    setCategories: Action<CategoriesModel, {categories:Category[][]}>\n\n    /**\n     * Updates a category in state with the given category.\n     * Also, sets the category's activity to empty string.\n     * @param Category The category to be updated.\n     */\n    setCategory: Action<CategoriesModel, Category>,\n\n    /**\n     * Updates a category's activity.\n     * @param categoryPosition of the category for which to update activity.\n     * @param weekDay of the category to update.\n     * @param activityid of the activity to update with.\n     */\n    setActivity: Action<CategoriesModel, { categoryPosition: number, weekDay: number, activityid: string }>,\n\n    /**\n     * Debounced function that runs when 200ms have passed\n     * since the last call of either categoryDragSet, setCategory or setActivity.\n     * Once it runs, it updates auth with the latest category updates.\n     * @param day The day that is to be updated from the current week.\n     */\n    syncToDb: ThunkOn<CategoriesModel>,\n\n    /**\n     * Updates categories and their respective activities between the drag\n     * category and the category that was dragged onto.\n     * Works for both dragging upwards and downwards. The dragging can occur without touching\n     * categories between the drag category and the dragged onto category. This method will \"fill\"\n     * in the missed categories as if they were dragged onto.\n     * @param  dragPosition Position of the category currently being dragged (drag category).\n     * @param  draggedIntoPosition Position of the category that was dragged onto.\n     * @param  weekDay The day in which dragging occurs.\n     * @param  dragCategoryid The categoryid of the drag category.\n     * @param  dragActivityid The activityid of the drag category.\n     */\n    categoryDragSet: Action<CategoriesModel, { dragPosition:number, draggedIntoPosition:number, weekDay: number, dragCategoryid:string | null, dragActivityid:string | null }>\n}\n\nconst categoriesModel:CategoriesModel = {\n    categories: [],\n    setCategories: action((state, payload) => {\n        state.categories = payload.categories\n    }),\n    setCategory: action((state, payload) => {\n        let dayIndex = -1;\n        let categoryIndex = -1;\n\n        for (let i = 0; i < state.categories.length; i++) {\n            for (let j = 0; j < state.categories[i].length; j++) {\n                let category = state.categories[i][j]\n\n                if (category.categoryPosition === payload.categoryPosition && category.weekDay === payload.weekDay) {\n                    dayIndex = i\n                    categoryIndex = j\n                    break;\n                }\n            }\n         }\n\n        if (dayIndex !== -1 && categoryIndex !== -1) {\n            state.categories[dayIndex][categoryIndex].categoryid = payload.categoryid\n            state.categories[dayIndex][categoryIndex].activityid = null\n        }\n    }),\n    setActivity: action((state, payload) => {\n        let dayIndex = -1\n        let categoryIndex = -1\n\n        for (let i = 0; i < state.categories.length; i++) {\n            for (let j = 0; j < state.categories[i].length; j++) {\n                let category = state.categories[i][j]\n\n                if (category.categoryPosition === payload.categoryPosition && category.weekDay === payload.weekDay) {\n                    dayIndex = i\n                    categoryIndex = j\n                    break;\n                }\n            }\n        }\n\n        if (dayIndex !== -1 && categoryIndex !== -1) {\n            state.categories[dayIndex][categoryIndex].activityid = payload.activityid\n        }\n    }),\n    syncToDb: thunkOn(\n        actions => [actions.categoryDragSet, actions.setCategory, actions.setActivity],\n        // @ts-ignore\n        debounce(\n            async function (actions, target) {\n                const userid: string = store.getState().auth.uid // User's id\n                const categories: Category[][] = store.getState().categories.categories // All current week's categories\n                const weekDay: number = target.payload.weekDay\n\n                try {\n                    let res = await fetch(`api/user/${userid}/week/${categories[0][0].weekid}/day/${weekDay}/categories `, {\n                        method: \"PATCH\",\n                        mode: \"cors\",\n                        credentials: \"include\",\n                        headers: {\n                            'Accept': 'application/json',\n                            'Content-Type': 'application/json'\n                        },\n                        body: JSON.stringify(categories[weekDay])\n                    })\n\n                    if (!res.ok) {\n                        history.push(\"/internalError\")\n                    }\n                } catch (e) {\n                    history.push(\"/internalError\")\n                }\n            },\n            200\n        )\n    ),\n\n    categoryDragSet: action((state, payload) => {\n\n        const dragPosition = payload.dragPosition\n        const draggedIntoPosition = payload.draggedIntoPosition\n        const weekDay = payload.weekDay\n        const dragCategoryid = payload.dragCategoryid\n        const dragActivityid = payload.dragActivityid\n\n        const categoriesToUpdate = [] // categories between drag category and category dragged onto (including)\n\n        if (dragPosition > draggedIntoPosition) { // if dragging upwards\n            for (let c = draggedIntoPosition; c < dragPosition; c++) { // Iterates downwards starting from the category that was dragged onto\n                categoriesToUpdate.push(c)\n            }\n        } else { // if dragging downwards\n            for (let p = dragPosition + 1; p < draggedIntoPosition + 1; p++) { // Iterates downwards starting from the next category after the original drag category\n                categoriesToUpdate.push(p)\n            }\n        }\n\n        for (let i = 0; i < state.categories.length; i++) {\n            for (let j = 0; j < state.categories[i].length; j++) {\n                let category = state.categories[i][j]\n\n                if (categoriesToUpdate.includes(category.categoryPosition) && category.weekDay === weekDay) {\n                    state.categories[i][j].categoryid = dragCategoryid\n                    state.categories[i][j].activityid = dragActivityid\n                }\n            }\n        }\n    })\n}\n\nexport default categoriesModel","// External imports\nimport {Action, action, createStore, EasyPeasyConfig, Store} from 'easy-peasy'\n\n// Internal imports\nimport authModel from './auth/auth'\nimport notesModel from './notes/notes'\nimport settingsModel from './settings/settings'\nimport {SettingsModel} from './settings/settings'\nimport categoriesModel, {CategoriesModel} from './categories/categories'\nimport {AuthModel} from './auth/auth'\nimport {NotesModel} from \"./notes/notes\";\n\nexport interface StoreModel {\n    settings:SettingsModel,\n    auth:AuthModel,\n    notes:NotesModel,\n    categories:CategoriesModel,\n    /**\n     * Used to reset store state to the initial state empty state.\n     */\n    reset: Action<StoreModel>\n}\n\n\nconst store: Store<StoreModel, EasyPeasyConfig<undefined, {}>> = createStore<StoreModel>({\n    auth: authModel,\n    settings: settingsModel,\n    notes: notesModel,\n    categories: categoriesModel,\n    reset: action((state, payload) => ({\n        ...initialState\n    }))\n})\n\nlet initialState = store.getState()\n\nexport default store","// External imports\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { StoreProvider } from 'easy-peasy'\n\n//Internal imports\nimport store from \"./store/storeSetup\"\nimport AppRouter from './routers/AppRouter'\nimport './styles/styles.scss'\n\nReactDOM.render(\n    <StoreProvider store={store}>\n        <AppRouter/>\n    </StoreProvider>,\n    document.getElementById('root')\n)\n\n\n\n"],"sourceRoot":""}