(this["webpackJsonprainbow-tracker"]=this["webpackJsonprainbow-tracker"]||[]).push([[0],{127:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},362:function(e,t,n){},363:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(69),i=n.n(c),o=n(12),s=n(184),u=n(3),l=n.n(u),d=n(9),f=n(27),p=n(22),y=n(5),h=(n(196),n(21)),g=Object(o.d)(),v=g.useStoreActions,b=(g.useStoreDispatch,g.useStoreState),j=(n(197),n(1)),m=function(e){var t=e.onClick,n=e.handleCloseModal,r=b((function(e){return e.settings.categoryTypes}));return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"popover-container",onMouseLeave:n,style:{cursor:"pointer"},children:[r.map((function(e,n){return e.archived?null:Object(j.jsx)("div",{className:"color-square",onClick:function(){return t(e.categoryid)},style:{backgroundColor:e.color,borderTopLeftRadius:0===n?"3px":"0",borderTopRightRadius:0===n?"3px":"0"}},e.categoryid)})),Object(j.jsx)("div",{className:"default-color-square",onClick:function(){return t(null)}})]})})},x=(n(199),function(e){var t=e.onClick,n=e.handleCloseModal,r=e.categoryid,a=b((function(e){return e.settings.activityTypes}));return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{id:"activity-popover-container",onMouseLeave:n,style:{cursor:"pointer"},children:[a.map((function(e,n){return e.categoryid===r?Object(j.jsx)("div",{id:"activity-popover-item",onClick:function(){return t(e.activityid)},style:{borderTopLeftRadius:0===n?"5px":"0",borderTopRightRadius:0===n?"5px":"0"},children:e.short},e.activityid):null})),Object(j.jsx)("div",{id:"activity-popover-item-default",onClick:function(){return t(null)}})]})})}),O=(n(200),function(e){var t=e.short,n=e.categoryid,r=e.onClick,a=e.block;return Object(j.jsx)("div",{className:"activity-container ".concat(n&&!a&&"activity-container-active"),onClick:function(){""===n||a||r()},children:t})}),w=(n(201),function(e,t){for(var n=0;n<t.length;n++){if(t[n].categoryid===e)return!0}return!1});var k=function(e){var t=e.category,n=e.onDragStart,a=e.onDragEnter,c=v((function(e){return e.settings.setHoverIndex})),i=v((function(e){return e.categories.setCategory})),o=v((function(e){return e.categories.setActivity})),s=b((function(e){return e.settings.activityTypes})),u=b((function(e){return e.settings.categoryTypes})),l=Object(r.useState)(!1),d=Object(y.a)(l,2),f=d[0],p=d[1],h=Object(r.useState)(!1),g=Object(y.a)(h,2),k=g[0],T=g[1];return Object(j.jsxs)("div",{id:"category-activity-container",onMouseOver:function(){return c({timeHoverIndex:t.categoryPosition-1})},children:[Object(j.jsx)("div",{id:"category-container",onDragEnter:function(){return a(t)},onDragStart:function(e){return n(e,t)},draggable:!0,onClick:function(){return T(!0)},style:{backgroundColor:function(){if(t.categoryid)for(var e=0;e<u.length;e++)if(u[e].categoryid===t.categoryid)return u[e].color;return"#2A353C"}()}}),Object(j.jsx)(O,{short:function(){if(t.activityid)for(var e=0;e<s.length;e++)if(s[e].activityid===t.activityid)return s[e].short;return""}(),categoryid:t.categoryid,block:!w(t.categoryid,s),onClick:function(){return p(!0)}}),k&&Object(j.jsx)(m,{onClick:function(e){T(!1),i({userid:t.userid,weekid:t.weekid,categoryid:e,weekDay:t.weekDay,categoryPosition:t.categoryPosition,activityid:null,weekDayDate:t.weekDayDate})},handleCloseModal:function(){return T(!1)}}),f&&Object(j.jsx)(x,{categoryid:t.categoryid,onClick:function(e){console.log(e),p(!1),o({activityid:e,weekDay:t.weekDay,categoryPosition:t.categoryPosition})},handleCloseModal:function(){return p(!1)}})]})},T=(n(202),function(e){return parseInt(e.slice(0,-2))}),E=function(e,t,n,r){return"".concat((e-t+1)*T(n)+(e-t)*T(r),"px")},D="22px",C="2px",S=function(e){var t=e.note,n=e.max,r=e.min,a=e.onDragStart,c=e.onDragEnter,i=e.onClick,o=e.onMouseDown,s=v((function(e){return e.settings.setHoverIndex}));return n===r?Object(j.jsx)("div",{id:"note-container",onMouseOver:function(){return s({timeHoverIndex:r-1})},onClick:function(){return i(t)},draggable:!0,onDragStart:function(e){return a(e,t)},onDragOver:function(){return c(t)},children:t.note}):Object(j.jsx)("div",{onMouseOver:function(){return s({timeHoverIndex:r-1})},id:"stack-container",style:{height:E(n,r,D,C),WebkitLineClamp:n-r+1},onClick:function(){return i(t)},onMouseDown:function(e){return o(e,t)},draggable:!0,onDragStart:function(e){return a(e,t)},onDragOver:function(){return c(t)},children:t.note})},N=function(e,t){var n=-1,r=-1,a=!0;return e.forEach((function(e,c){e.stackid===t&&(a?(n=e.notePosition,r=e.notePosition,a=!1):e.notePosition>n?n=e.notePosition:e.notePosition<r&&(r=e.notePosition))})),{max:n,min:r}};n(203);var P=function(e){var t=e.note,n=e.saveNote,a=e.deleteText,c=e.deleteStack,i=e.stack,o=Object(r.useState)(t.note),s=Object(y.a)(o,2),u=s[0],l=s[1];return Object(j.jsxs)("div",{id:"note-modal-container",onKeyDown:function(e){13!==e.which||e.shiftKey?27===e.keyCode&&(t.note=u,n(t)):(t.note=u,n(t),e.preventDefault())},children:[Object(j.jsx)("div",{id:"modal-textarea",children:Object(j.jsx)("textarea",{autoFocus:!0,id:"note-modal-input",onChange:function(e){l(e.target.value)},spellCheck:!1,value:u})}),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{id:"note-modal-button-container",children:[i&&Object(j.jsx)("div",{id:"note-modal-delete-button",onClick:function(){return c(t)},children:"Delete stack"}),Object(j.jsx)("div",{id:"note-modal-delete-button",onClick:function(){return a(t)},children:"Delete text"})]})})]})};n(204);function I(e){var t=e.categories,n=e.notes,a=e.weekDay,c=v((function(e){return e.categories.categoryDragSet})),i=v((function(e){return e.notes.aboveDifference})),o=v((function(e){return e.notes.belowDifference})),s=v((function(e){return e.notes.setNoteText})),u=v((function(e){return e.notes.deleteNoteText})),l=v((function(e){return e.notes.deleteNoteStack})),d=v((function(e){return e.settings.setHoverIndex})),f=Object(r.useState)(null),p=Object(y.a)(f,2),g=p[0],b=p[1],m=function(e){b(e)},x=function(){var e=new Image(0,0);return e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e},O=Object(r.useState)(null),w=Object(y.a)(O,2),T=w[0],E=w[1],D=function(e,t){e.dataTransfer.setDragImage(x(),1,1),E(t),d({timeHoverIndex:t.categoryPosition-1})},C=function(e){T&&c({dragPosition:T.categoryPosition,draggedIntoPosition:e.categoryPosition,weekDay:a,dragCategoryid:T.categoryid,dragActivityid:T.activityid}),d({timeHoverIndex:e.categoryPosition-1})},I=Object(r.useState)(null),_=Object(y.a)(I,2),A=_[0],L=_[1],H=function(e,t){e.dataTransfer.setDragImage(x(),1,1),L(t),d({timeHoverIndex:t.notePosition-1})},M=function(e){if(A){var t=N(n,e.stackid),r=N(n,A.stackid);e.notePosition>r.max?(d({timeHoverIndex:r.max}),o({draggedIntoPosition:e.notePosition,dragPosition:A.notePosition,weekDay:e.weekDay,dragStackid:A.stackid,oldStackid:e.stackid,oldNote:e.note})):e.notePosition<r.min&&(d({timeHoverIndex:r.min-2}),i({draggedIntoPosition:t.max,dragPosition:A.notePosition,weekDay:e.weekDay,dragStackid:A.stackid,dragNoteText:A.note}))}},z=function(e,t){var r=N(n,t.stackid),a=r.max,c=r.min;1===e.button&&a!==c&&l({weekDay:t.weekDay,stackid:t.stackid})};return Object(j.jsxs)("div",{className:"day-container",onDragEndCapture:function(){L(null),E(null)},children:[Object(j.jsxs)("div",{className:"day-header",children:[Object(j.jsx)("p",{className:"day-header__day",children:"".concat(h.Info.weekdays()[a])}),Object(j.jsx)("p",{className:"day-header__date",children:"".concat(h.DateTime.fromISO(t[0].weekDayDate).toLocaleString({month:"long",day:"numeric"}))})]}),Object(j.jsxs)("div",{className:"composition-container",children:[Object(j.jsx)("div",{className:"activity-outer-container",children:t.map((function(e){return Object(j.jsx)(k,{category:e,onDragStart:D,onDragEnter:C},e.categoryPosition)}))}),Object(j.jsx)("div",{className:"note-outer-container",children:n.map((function(e){var t=N(n,e.stackid),r=t.max,a=t.min;return e.notePosition===a?Object(j.jsx)(S,{note:e,max:r,min:a,onDragStart:H,onDragEnter:M,onClick:m,onMouseDown:z},e.notePosition):null}))})]}),g&&Object(j.jsx)("div",{id:"note-modal-wrapper",children:Object(j.jsx)(P,{stack:N(n,g.stackid).max!==N(n,g.stackid).min,deleteStack:function(e){l(e),b(null)},deleteText:function(e){u(e),b(null)},saveNote:function(e){s(e),b(null)},note:g})})]})}var _,A,L=function(e,t){return JSON.stringify(e.notes)===JSON.stringify(t.notes)&&JSON.stringify(e.categories)===JSON.stringify(t.categories)},H=a.a.memo(I,L),M=function(){var e=["00","15","30","45"],t=["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],n=[];for(var r in t)for(var a in e)n.push("".concat(t[r],":").concat(e[a]));return n},z=(n(205),function(e){var t=e.timeValues,n=b((function(e){return e.settings.timeHoverIndex}));return Object(j.jsx)("div",{className:"time-cell-container",children:t().map((function(e,t){return Object(j.jsx)("div",{className:"time-cell",style:{backgroundColor:n===t?"#314149":"transparent"},children:e},t)}))})}),B=(n(206),["title","titleId"]);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function F(e,t){var n=e.title,a=e.titleId,c=W(e,B);return r.createElement("svg",R({width:135,height:135,viewBox:"0 0 135 135",xmlns:"http://www.w3.org/2000/svg",fill:"rgb(196, 136, 82)",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,_||(_=r.createElement("path",{d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z"},r.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"-360 67 67",dur:"2.5s",repeatCount:"indefinite"}))),A||(A=r.createElement("path",{d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z"},r.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"360 67 67",dur:"8s",repeatCount:"indefinite"}))))}var V=r.forwardRef(F);n.p;var J,Y,K,G,X,q,Q,U,Z,$,ee,te,ne,re,ae,ce,ie=function(e){var t=e.categories,n=e.notes;return e.loading?Object(j.jsx)("div",{id:"main-dashboard-table__loading",children:Object(j.jsx)(V,{style:{height:"6rem",width:"6rem"}})}):Object(j.jsxs)("div",{id:"main-dashboard-table__container",children:[Object(j.jsx)(z,{timeValues:M}),t.map((function(e,t){return Object(j.jsx)(H,{categories:e,notes:n[t],weekDay:t},e[0].weekDay)}))]})},oe=(n(207),["title","titleId"]);function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function le(e,t){var n=e.title,a=e.titleId,c=ue(e,oe);return r.createElement("svg",se({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 477.175 477.175",style:{enableBackground:"new 0 0 477.175 477.175"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,J||(J=r.createElement("g",null,r.createElement("path",{d:"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225 c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"}))),Y||(Y=r.createElement("g",null)),K||(K=r.createElement("g",null)),G||(G=r.createElement("g",null)),X||(X=r.createElement("g",null)),q||(q=r.createElement("g",null)),Q||(Q=r.createElement("g",null)),U||(U=r.createElement("g",null)),Z||(Z=r.createElement("g",null)),$||($=r.createElement("g",null)),ee||(ee=r.createElement("g",null)),te||(te=r.createElement("g",null)),ne||(ne=r.createElement("g",null)),re||(re=r.createElement("g",null)),ae||(ae=r.createElement("g",null)),ce||(ce=r.createElement("g",null)))}var de,fe,pe,ye,he,ge,ve,be,je,me,xe,Oe,we,ke,Te,Ee,De=r.forwardRef(le),Ce=(n.p,["title","titleId"]);function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Pe(e,t){var n=e.title,a=e.titleId,c=Ne(e,Ce);return r.createElement("svg",Se({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 477.175 477.175",style:{enableBackground:"new 0 0 477.175 477.175"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,de||(de=r.createElement("g",null,r.createElement("path",{d:"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5 c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z "}))),fe||(fe=r.createElement("g",null)),pe||(pe=r.createElement("g",null)),ye||(ye=r.createElement("g",null)),he||(he=r.createElement("g",null)),ge||(ge=r.createElement("g",null)),ve||(ve=r.createElement("g",null)),be||(be=r.createElement("g",null)),je||(je=r.createElement("g",null)),me||(me=r.createElement("g",null)),xe||(xe=r.createElement("g",null)),Oe||(Oe=r.createElement("g",null)),we||(we=r.createElement("g",null)),ke||(ke=r.createElement("g",null)),Te||(Te=r.createElement("g",null)),Ee||(Ee=r.createElement("g",null)))}var Ie,_e=r.forwardRef(Pe),Ae=(n.p,function(e){var t=e.weekNr,n=e.year,r=v((function(e){return e.settings.nextWeek})),a=v((function(e){return e.settings.previousWeek})),c=v((function(e){return e.settings.toCurrentWeek})),i=h.DateTime.now().weekNumber,o=h.DateTime.now().startOf("week").year;return Object(j.jsxs)("div",{id:"main-dashboard-nav-container",children:[Object(j.jsx)("div",{id:"main-dashboard-nav-back-to-current-container",children:!(i===t&&o===n)&&Object(j.jsx)("button",{id:"main-dashboard-nav-back-to-current",onClick:function(){c()},children:"To current week"})}),Object(j.jsxs)("div",{id:"main-dashboard-nav-central-container",children:[Object(j.jsx)(De,{onClick:function(){a({date:{weekNr:t,year:n}})},id:"main-dashboard-week-change-button"}),Object(j.jsxs)("h2",{id:"main-dashboard-nav-banner",children:[n,","]}),Object(j.jsxs)("h2",{id:"main-dashboard-nav-banner",children:["week ",t]}),Object(j.jsx)(_e,{onClick:function(){r({date:{weekNr:t,year:n}})},id:"main-dashboard-week-change-button"})]}),Object(j.jsx)("div",{style:{width:"33%",height:"60px"}})]})}),Le=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/activity-type/").concat(n.activityid),{method:"PATCH",mode:"cors",credentials:"include",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify(n)});case 3:return 401===(r=e.sent).status?wr.push("/login"):r.ok||wr.push("/internal-error"),e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),He=function(){var e=Object(d.a)(l.a.mark((function e(t,n,r,a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/activity-types"),{method:"POST",mode:"cors",credentials:"include",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({long:n,short:r,categoryid:a})});case 3:return 401===(c=e.sent).status?wr.push("/login"):c.ok||wr.push("/internal-error"),e.next=7,c.json();case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Me=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=!0,e.next=4,fetch("api/user/".concat(t,"/activity-type/restore/").concat(n),{method:"PATCH",mode:"cors",credentials:"include"});case 4:return 401===(a=e.sent).status?(wr.push("/login"),r=!1):a.ok||(wr.push("/internal-error"),r=!1),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=!0,e.next=4,fetch("api/user/".concat(t,"/activity-type/").concat(n),{method:"DELETE",mode:"cors",credentials:"include"});case 4:return 401===(a=e.sent).status?(wr.push("/login"),r=!1):a.ok||(wr.push("/internal-error"),r=!1),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Be=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=!0,e.next=4,fetch("api/user/".concat(t,"/category-type/restore/").concat(n),{method:"PATCH",mode:"cors",credentials:"include"});case 4:return 401===(a=e.sent).status?(wr.push("/login"),r=!1):a.ok||(wr.push("/internal-error"),r=!1),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Re=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=!0,e.next=4,fetch("api/user/".concat(t,"/category-type/").concat(n),{method:"DELETE",mode:"cors",credentials:"include"});case 4:return 401===(a=e.sent).status?(wr.push("/login"),r=!1):a.ok||(wr.push("/internal-error"),r=!1),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),We=function(){var e=Object(d.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/category-types"),{method:"POST",mode:"cors",credentials:"include",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({color:r,name:n})});case 3:return 401===(a=e.sent).status?wr.push("/login"):a.ok||wr.push("/internal-error"),e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/category-types-full"),{method:"GET",mode:"cors",credentials:"include"});case 3:return 401===(n=e.sent).status?wr.push("/login"):n.ok||wr.push("/internal-error"),e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",{categoryTypes:[],activityTypes:[]});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(d.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/week?week_number=").concat(n,"&week_year=").concat(r),{method:"GET",mode:"cors",credentials:"include"});case 3:if(!(a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 10:return 400===a.status&&wr.push("/internal-error"),e.next=13,Je(t,n,r);case 13:return e.abrupt("return",e.sent);case 14:e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(0),wr.push("/internal-error"),e.next=21,Je(t,n,r);case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Je=function(){var e=Object(d.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/weeks"),{method:"POST",mode:"cors",credentials:"include",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({weekNr:n,weekYear:r})});case 3:if(!(a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 10:return wr.push("/internal-error"),e.abrupt("return",[]);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",[]);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Ye=function(e,t,n){var r={valid:!0,message:""};return!t||t.trim().length<=0||t.trim().length>50?(r.valid=!1,r.message="You must provide a category name of length 1-50."):(!n||n.length<=0||n.length>7||"#"!==n[0])&&(r.valid=!1,r.message="You must provide a valid hex color value."),r},Ke=function(e,t){var n={valid:!0,message:""};return!e||e.trim().length<=0||e.trim().length>100?(n.valid=!1,n.message="Activity long name must be of length 1-18."):(!t||t.length<=0||t.length>2)&&(n.valid=!1,n.message="Activity short name must be of length 1-2."),n},Ge=n(36),Xe=(n(208),["title","titleId"]);function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ue(e,t){var n=e.title,a=e.titleId,c=Qe(e,Xe);return r.createElement("svg",qe({height:"329pt",viewBox:"0 0 329.26933 329",width:"329pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Ie||(Ie=r.createElement("path",{d:"m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0"})))}var Ze=r.forwardRef(Ue),$e=(n.p,function(){localStorage.setItem("feature-popup","true")}),et=function(){var e=localStorage.getItem("feature-popup");return null!=e&&"true"===e},tt=function(){var e=v((function(e){return e.settings.setFeaturePopupViewed}));return Object(j.jsxs)("div",{className:"new-feature-popup__container",children:[Object(j.jsxs)("div",{className:"new-feature-popup",children:[Object(j.jsx)("p",{children:"New Daily analytics available."}),Object(j.jsx)(Ge.a,{onClick:$e,style:{textDecoration:"none"},to:"/analytics",children:"Check out"})]}),Object(j.jsx)("div",{className:"new-feature-popup__header",children:Object(j.jsx)(Ze,{className:"close-icon",onClick:function(){e({featurePopupViewed:!0}),$e()}})})]})},nt=function(){var e=b((function(e){return e.settings.featurePopupViewed})),t=b((function(e){return e.auth.uid})),n=b((function(e){return e.settings.currentDate})),r=b((function(e){return e.categories.categories})),c=b((function(e){return e.notes.notes})),i=v((function(e){return e.categories.setCategories})),o=v((function(e){return e.notes.setNotes})),s=v((function(e){return e.settings.setCategoryTypes})),u=v((function(e){return e.settings.setActivityTypes})),f=v((function(e){return e.settings.setFeaturePopupViewed})),p=a.a.useState(!0),h=Object(y.a)(p,2),g=h[0],m=h[1];return a.a.useEffect((function(){!function(){var e=Object(d.a)(l.a.mark((function e(){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Ve(t,n.weekNr,n.year);case 3:return r=e.sent,i({categories:r[0].categories}),o({notes:r[0].notes}),e.next=8,Fe(t);case 8:a=e.sent,s({categoryTypes:a.categoryTypes}),u({activityTypes:a.activityTypes}),m(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n.weekNr,n.year,t]),a.a.useEffect((function(){f({featurePopupViewed:et()})}),[f]),Object(j.jsxs)("div",{id:"main-dash-wrapper",children:[Object(j.jsx)(Ae,{weekNr:n.weekNr,year:n.year}),Object(j.jsx)(ie,{categories:r,notes:c,loading:g}),!e&&Object(j.jsx)(tt,{})]})},rt=(n(213),function(){var e=v((function(e){return e.auth.login})),t=a.a.useState(""),n=Object(y.a)(t,2),r=n[0],c=n[1],i=a.a.useState(""),o=Object(y.a)(i,2),s=o[0],u=o[1];return Object(j.jsxs)("section",{className:"login-container",children:[Object(j.jsx)("h2",{className:"login-header",children:"Welcome, curious person!"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),r&&r.length>0&&s&&s.length>0&&e({email:r,password:s})},children:[Object(j.jsx)("label",{htmlFor:"email",children:Object(j.jsx)("p",{className:"login-input-label",children:"Email"})}),Object(j.jsx)("input",{name:"email",type:"text",value:r,onChange:function(e){return c(e.target.value)},className:"login-input"}),Object(j.jsx)("label",{htmlFor:"password",children:Object(j.jsx)("p",{className:"login-input-label",children:"Password"})}),Object(j.jsx)("input",{name:"password",type:"password",value:s,onChange:function(e){return u(e.target.value)},className:"login-input"}),Object(j.jsx)("section",{className:"login-button-container",children:Object(j.jsx)("button",{className:"login-button",type:"submit",children:"Login"})})]})]})}),at=function(){return Object(j.jsxs)("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:["This page doesn't exist.",Object(j.jsx)(Ge.a,{to:"/",children:"Go home"})]})};n(214),n(215),n(216);var ct,it=function(e){var t=e.title,n=e.viewArchived,r=e.setViewArchived;return Object(j.jsxs)("div",{id:"settings-dashboard-section-title-container",children:[t,Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{className:"label",htmlFor:"archived",children:"View archived"}),Object(j.jsx)("input",{name:"archived",type:"checkbox",onChange:function(){return r(!n)}})]})]})},ot=n(62),st=(n(217),["title","titleId"]);function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dt(e,t){var n=e.title,a=e.titleId,c=lt(e,st);return r.createElement("svg",ut({height:"448pt",viewBox:"0 0 448 448",width:"448pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,ct||(ct=r.createElement("path",{d:"m408 184h-136c-4.417969 0-8-3.582031-8-8v-136c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8h-136c-22.089844 0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969 0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40v-136c0-4.417969 3.582031-8 8-8h136c22.089844 0 40-17.910156 40-40s-17.910156-40-40-40zm0 0"})))}var ft=r.forwardRef(dt);n.p;var pt,yt,ht=function(e){var t=e.categoryTypes,n=e.setCategory,r=e.selectedCategoryid,c=e.viewArchived,i=v((function(e){return e.settings.setCategoryTypes})),o=b((function(e){return e.auth.uid})),s=a.a.useState(!1),u=Object(y.a)(s,2),f=u[0],p=u[1],h=a.a.useState(""),g=Object(y.a)(h,2),m=g[0],x=g[1],O=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Escape"===t.key&&(p(!1),x(""));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(l.a.mark((function e(r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!(f&&m.length>0)){e.next=9;break}return e.next=4,We(o,m,"#CBC3E3");case 4:a=e.sent,i({categoryTypes:[].concat(Object(ot.a)(t),[a])}),n(a.categoryid),p(!1),x("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){return document.addEventListener("keydown",O,!1),function(){document.removeEventListener("keydown",O,!1)}}),[]),Object(j.jsxs)("div",{id:"category-section-category-list-container",children:[t.map((function(e){return c||!c&&!e.archived?Object(j.jsx)("div",{id:"category-section-category-list-item-container",children:Object(j.jsx)("p",{id:"category-section-category-list-item".concat(e.categoryid===r?"-selected":""),onClick:function(){return n(e.categoryid)},style:{opacity:e.archived?.5:1},children:e.name})},e.categoryid):null})),f&&Object(j.jsx)("form",{onSubmit:w,children:Object(j.jsx)("input",{autoFocus:!0,type:"text",value:m,onChange:function(e){return x(e.target.value)},className:"category-section-category-list-add-input"})}),!f&&Object(j.jsx)(ft,{height:16,width:16,fill:"white",className:"category-section-category-list-add",onClick:function(){return p(!0)}})]})},gt=(n(218),function(e){var t=e.children,n=e.title;return Object(j.jsxs)("div",{id:"category-section-section-container",children:[Object(j.jsx)("h5",{id:"category-section-section-title",children:n}),t]})}),vt=(n(219),n(220),n(221),["title","titleId"]);function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mt(e,t){var n=e.title,a=e.titleId,c=jt(e,vt);return r.createElement("svg",bt({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,pt||(pt=r.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),yt||(yt=r.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L3.71 8.71C3.08 8.08 2 8.52 2 9.41V15c0 .55.45 1 1 1h5.59c.89 0 1.34-1.08.71-1.71l-1.91-1.91c1.39-1.16 3.16-1.88 5.12-1.88 3.16 0 5.89 1.84 7.19 4.5.27.56.91.84 1.5.64.71-.23 1.07-1.04.75-1.72C20.23 10.42 16.65 8 12.5 8z"})))}var xt=r.forwardRef(mt),Ot=(n.p,function(e){var t=e.activity,n=e.onChange,r=(e.viewArchived,b((function(e){return e.auth.uid}))),c=v((function(e){return e.settings.archiveActivityType})),i=v((function(e){return e.settings.restoreActivityType})),o=a.a.useState(t.long),s=Object(y.a)(o,2),u=s[0],f=s[1],p=a.a.useState(t.short),h=Object(y.a)(p,2),g=h[0],m=h[1],x=a.a.useState(!1),O=Object(y.a)(x,2),w=O[0],k=O[1],T=function(){n({long:u,short:g,activityid:t.activityid,categoryid:t.categoryid,archived:t.archived,userid:t.userid})},E=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(r,t.activityid);case 2:e.sent&&c({activityType:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(r,t.activityid);case 2:e.sent&&i({activityType:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{id:"activity-list-item-container",onMouseOver:function(){return k(!0)},onMouseLeave:function(){return k(!1)},children:[Object(j.jsxs)("div",{id:"activity-list-item-input-container",children:[Object(j.jsx)("input",{type:"text",value:u,onChange:function(e){return f(e.target.value)},id:"activity-list-item-long-input",onBlur:T,maxLength:40,style:{opacity:t.archived?.5:1}}),"-",Object(j.jsx)("input",{type:"text",value:g,onChange:function(e){return m(e.target.value)},id:"activity-list-item-short-input",onBlur:T,maxLength:2,style:{opacity:t.archived?.5:1}})]}),Object(j.jsx)("div",{className:"activity-list-item__icon-container",children:t.archived?Object(j.jsx)(xt,{className:"activity-list-item__undo-icon",style:{fill:w?"rgba(196, 136, 82, 0.79)":"transparent"},onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:case"end":return e.stop()}}),e)})))}):Object(j.jsx)(Ze,{className:"activity-list-item__archive-icon",style:{fill:w?"rgba(196, 136, 82, 0.79)":"transparent"},onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:case"end":return e.stop()}}),e)})))})})]})}),wt=function(e){var t=e.activityTypes,n=e.categoryid,r=e.setError,c=e.viewArchived,i=v((function(e){return e.settings.updateActivityType})),o=v((function(e){return e.settings.createActivityType})),s=b((function(e){return e.auth.uid})),u=a.a.useState(!1),f=Object(y.a)(u,2),p=f[0],h=f[1],g=a.a.useState(""),m=Object(y.a)(g,2),x=m[0],O=m[1],w=a.a.useState(""),k=Object(y.a)(w,2),T=k[0],E=k[1],D=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ke(t.long,t.short),a=n.valid,c=n.message,!a){e.next=9;break}return e.next=4,Le(s,t);case 4:o=e.sent,i({activityType:o}),r({message:""}),e.next=10;break;case 9:r({message:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=9;break}if(!(T.length>0&&x.length>0)){e.next=6;break}return e.next=4,He(s,x,T,n);case 4:(r=e.sent)&&(console.log("runs"),o({activityType:r}));case 6:h(!1),E(""),O("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Escape"===t.key&&(h(!1),O(""),E(""));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.useEffect((function(){return document.addEventListener("keydown",S,!1),function(){document.removeEventListener("keydown",S,!1)}}),[]),Object(j.jsxs)("div",{className:"activity-list-container",children:[Object(j.jsx)("div",{children:t.map((function(e){return e.categoryid===n&&(c||!c&&!e.archived)?Object(j.jsx)(Ot,{viewArchived:c,activity:e,onChange:D},e.activityid):null}))}),Object(j.jsxs)("div",{className:"activity-list-add-icon-container",children:[p&&Object(j.jsxs)("div",{className:"activity-list-input-container",children:[Object(j.jsx)("input",{type:"text",value:x,onChange:function(e){return O(e.target.value)},className:"activity-list-long-input",maxLength:40,onKeyDown:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),"-",Object(j.jsx)("input",{type:"text",value:T,onChange:function(e){return E(e.target.value)},className:"activity-list-short-input",maxLength:2,onKeyDown:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),!p&&Object(j.jsx)(ft,{height:16,width:16,fill:"white",className:"activity-list-add-icon",onClick:function(){return h(!0)}})]})]})};var kt=function(e){var t=e.category,n=e.activityTypes,r=e.setLoading,c=e.viewArchived,i=b((function(e){return e.auth.uid})),o=v((function(e){return e.settings.updateCategoryType})),s=v((function(e){return e.settings.archiveCategoryType})),u=v((function(e){return e.settings.restoreCategoryType})),f=a.a.useState(t.color),p=Object(y.a)(f,2),h=p[0],g=p[1],m=a.a.useState(t.name),x=Object(y.a)(m,2),O=x[0],w=x[1],k=a.a.useState({message:""}),T=Object(y.a)(k,2),E=T[0],D=T[1],C=a.a.useState({message:""}),S=Object(y.a)(C,2),N=S[0],P=S[1];a.a.useEffect((function(){g(t.color),w(t.name)}),[t.name,t.categoryid,t.color]);var I=function(){var e=Object(d.a)(l.a.mark((function e(){var n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ye(t.categoryid,O,h),a=n.valid,c=n.message,!a||0!==N.message.length){e.next=8;break}return r(!0),e.next=5,o({categoryType:{userid:t.userid,categoryid:t.categoryid,name:O,color:h,archived:t.archived}});case 5:r(!1),e.next=9;break;case 8:a||D({message:c});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(i,t.categoryid);case 2:e.sent&&s({categoryType:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(i,t.categoryid);case 2:e.sent&&u({categoryType:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{id:"category-section-form-container",children:[Object(j.jsx)("div",{id:"category-section-form-error",children:E.message}),Object(j.jsx)(gt,{title:"Name",children:Object(j.jsx)("input",{type:"text",className:"category-section-form__category-name",value:O,onChange:function(e){return w(e.target.value)},maxLength:18})}),Object(j.jsx)(gt,{title:"Color",children:Object(j.jsxs)("div",{id:"color-section-container",children:[Object(j.jsx)("div",{style:{backgroundColor:h},id:"color-section-color"}),Object(j.jsx)("input",{style:{color:h},type:"text",className:"category-section-form__category-color",value:h,onChange:function(e){return g(e.target.value)},maxLength:7})]})}),Object(j.jsx)("div",{id:"category-section-form-error",children:N.message}),Object(j.jsx)(gt,{title:"Activities",children:Object(j.jsx)(wt,{viewArchived:c,categoryid:t.categoryid,setError:P,activityTypes:n})}),Object(j.jsx)(gt,{title:"",children:Object(j.jsxs)("div",{children:[!t.archived&&Object(j.jsx)("button",{className:"button-dlt",onClick:_,style:{marginRight:40},children:"Archive"}),t.archived&&Object(j.jsx)("button",{className:"button-pos",onClick:A,style:{marginRight:40},children:"Restore"}),Object(j.jsx)("button",{className:"button-pos",onClick:I,children:"Save"})]})})]})};var Tt,Et,Dt,Ct,St,Nt,Pt,It,_t,At,Lt,Ht,Mt,zt,Bt,Rt,Wt,Ft=function(e){var t=e.categoryTypes,n=e.activityTypes,r=e.setLoading,c=a.a.useState(!1),i=Object(y.a)(c,2),o=i[0],s=i[1],u=a.a.useState(0===t.length?"":t[0].categoryid),l=Object(y.a)(u,2),d=l[0],f=l[1];return Object(j.jsxs)("div",{id:"category-section-container",children:[Object(j.jsx)(it,{title:"Categories",viewArchived:o,setViewArchived:s}),Object(j.jsxs)("div",{id:"category-section-content-container",children:[Object(j.jsx)(ht,{viewArchived:o,categoryTypes:t,setCategory:function(e){return f(e)},selectedCategoryid:d}),0!==d.length&&Object(j.jsx)(kt,{viewArchived:o,category:function(){for(var e=0;e<t.length;e++)if(t[e].categoryid===d)return t[e];return{categoryid:"",userid:"",color:"",name:"",archived:!1}}(),activityTypes:n,setLoading:r})]})]})},Vt=function(e){var t=e.categoryTypes,n=e.activityTypes,r=e.loading,a=e.setLoading;return r?Object(j.jsx)("div",{id:"settings-dashboard__loading",children:Object(j.jsx)(V,{style:{height:"6rem",width:"6rem"}})}):Object(j.jsxs)("div",{id:"settings-dashboard-container",children:[Object(j.jsx)("div",{id:"settings-dashboard-title",children:"Settings"}),Object(j.jsx)(Ft,{categoryTypes:t,activityTypes:n,setLoading:a})]})},Jt=function(){var e=b((function(e){return e.auth.uid})),t=b((function(e){return e.settings.categoryTypes})),n=b((function(e){return e.settings.activityTypes})),r=v((function(e){return e.settings.setCategoryTypes})),c=v((function(e){return e.settings.setActivityTypes})),i=a.a.useState(!0),o=Object(y.a)(i,2),s=o[0],u=o[1];return a.a.useEffect((function(){!function(){var t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,Fe(e);case 3:n=t.sent,r({categoryTypes:n.categoryTypes}),c({activityTypes:n.activityTypes}),u(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(j.jsx)(Vt,{categoryTypes:t,activityTypes:n,loading:s,setLoading:u})},Yt=(n(222),["title","titleId"]);function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xt(e,t){var n=e.title,a=e.titleId,c=Gt(e,Yt);return r.createElement("svg",Kt({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Tt||(Tt=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M255.15,468.625H63.787c-11.737,0-21.262-9.526-21.262-21.262V64.638c0-11.737,9.526-21.262,21.262-21.262H255.15 c11.758,0,21.262-9.504,21.262-21.262S266.908,0.85,255.15,0.85H63.787C28.619,0.85,0,29.47,0,64.638v382.724 c0,35.168,28.619,63.787,63.787,63.787H255.15c11.758,0,21.262-9.504,21.262-21.262 C276.412,478.129,266.908,468.625,255.15,468.625z"})))),Et||(Et=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M505.664,240.861L376.388,113.286c-8.335-8.25-21.815-8.143-30.065,0.213s-8.165,21.815,0.213,30.065l92.385,91.173 H191.362c-11.758,0-21.262,9.504-21.262,21.262c0,11.758,9.504,21.263,21.262,21.263h247.559l-92.385,91.173 c-8.377,8.25-8.441,21.709-0.213,30.065c4.167,4.21,9.653,6.336,15.139,6.336c5.401,0,10.801-2.041,14.926-6.124l129.276-127.575 c4.04-3.997,6.336-9.441,6.336-15.139C512,250.302,509.725,244.88,505.664,240.861z"})))),Dt||(Dt=r.createElement("g",null)),Ct||(Ct=r.createElement("g",null)),St||(St=r.createElement("g",null)),Nt||(Nt=r.createElement("g",null)),Pt||(Pt=r.createElement("g",null)),It||(It=r.createElement("g",null)),_t||(_t=r.createElement("g",null)),At||(At=r.createElement("g",null)),Lt||(Lt=r.createElement("g",null)),Ht||(Ht=r.createElement("g",null)),Mt||(Mt=r.createElement("g",null)),zt||(zt=r.createElement("g",null)),Bt||(Bt=r.createElement("g",null)),Rt||(Rt=r.createElement("g",null)),Wt||(Wt=r.createElement("g",null)))}var qt,Qt,Ut,Zt,$t=r.forwardRef(Xt),en=(n.p,["title","titleId"]);function tn(){return(tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rn(e,t){var n=e.title,a=e.titleId,c=nn(e,en);return r.createElement("svg",tn({height:"512pt",viewBox:"0 0 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,qt||(qt=r.createElement("path",{d:"m197.332031 0h-160c-20.585937 0-37.332031 16.746094-37.332031 37.332031v96c0 20.589844 16.746094 37.335938 37.332031 37.335938h160c20.589844 0 37.335938-16.746094 37.335938-37.335938v-96c0-20.585937-16.746094-37.332031-37.335938-37.332031zm0 0"})),Qt||(Qt=r.createElement("path",{d:"m197.332031 213.332031h-160c-20.585937 0-37.332031 16.746094-37.332031 37.335938v224c0 20.585937 16.746094 37.332031 37.332031 37.332031h160c20.589844 0 37.335938-16.746094 37.335938-37.332031v-224c0-20.589844-16.746094-37.335938-37.335938-37.335938zm0 0"})),Ut||(Ut=r.createElement("path",{d:"m474.667969 341.332031h-160c-20.589844 0-37.335938 16.746094-37.335938 37.335938v96c0 20.585937 16.746094 37.332031 37.335938 37.332031h160c20.585937 0 37.332031-16.746094 37.332031-37.332031v-96c0-20.589844-16.746094-37.335938-37.332031-37.335938zm0 0"})),Zt||(Zt=r.createElement("path",{d:"m474.667969 0h-160c-20.589844 0-37.335938 16.746094-37.335938 37.332031v224c0 20.589844 16.746094 37.335938 37.335938 37.335938h160c20.585937 0 37.332031-16.746094 37.332031-37.335938v-224c0-20.585937-16.746094-37.332031-37.332031-37.332031zm0 0"})))}var an,cn=r.forwardRef(rn),on=(n.p,["title","titleId"]);function sn(){return(sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function un(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ln(e,t){var n=e.title,a=e.titleId,c=un(e,on);return r.createElement("svg",sn({enableBackground:"new 0 0 24 24",height:512,viewBox:"0 0 24 24",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,an||(an=r.createElement("path",{d:"m22.683 9.394-1.88-.239c-.155-.477-.346-.937-.569-1.374l1.161-1.495c.47-.605.415-1.459-.122-1.979l-1.575-1.575c-.525-.542-1.379-.596-1.985-.127l-1.493 1.161c-.437-.223-.897-.414-1.375-.569l-.239-1.877c-.09-.753-.729-1.32-1.486-1.32h-2.24c-.757 0-1.396.567-1.486 1.317l-.239 1.88c-.478.155-.938.345-1.375.569l-1.494-1.161c-.604-.469-1.458-.415-1.979.122l-1.575 1.574c-.542.526-.597 1.38-.127 1.986l1.161 1.494c-.224.437-.414.897-.569 1.374l-1.877.239c-.753.09-1.32.729-1.32 1.486v2.24c0 .757.567 1.396 1.317 1.486l1.88.239c.155.477.346.937.569 1.374l-1.161 1.495c-.47.605-.415 1.459.122 1.979l1.575 1.575c.526.541 1.379.595 1.985.126l1.494-1.161c.437.224.897.415 1.374.569l.239 1.876c.09.755.729 1.322 1.486 1.322h2.24c.757 0 1.396-.567 1.486-1.317l.239-1.88c.477-.155.937-.346 1.374-.569l1.495 1.161c.605.47 1.459.415 1.979-.122l1.575-1.575c.542-.526.597-1.379.127-1.985l-1.161-1.494c.224-.437.415-.897.569-1.374l1.876-.239c.753-.09 1.32-.729 1.32-1.486v-2.24c.001-.757-.566-1.396-1.316-1.486zm-10.683 7.606c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"})))}var dn,fn,pn,yn,hn,gn,vn,bn,jn,mn,xn,On,wn,kn,Tn,En,Dn,Cn=r.forwardRef(ln),Sn=(n.p,["title","titleId"]);function Nn(){return(Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function In(e,t){var n=e.title,a=e.titleId,c=Pn(e,Sn);return r.createElement("svg",Nn({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,dn||(dn=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M501.333,490.667h-10.667V181.333c0-5.888-4.779-10.667-10.667-10.667h-64c-5.888,0-10.667,4.779-10.667,10.667v309.333 h-42.667V309.333c0-5.888-4.779-10.667-10.667-10.667h-64c-5.888,0-10.667,4.779-10.667,10.667v181.333h-42.667v-224 c0-5.888-4.779-10.667-10.667-10.667h-64c-5.888,0-10.667,4.779-10.667,10.667v224h-42.667V373.333 c0-5.888-4.779-10.667-10.667-10.667H32c-5.888,0-10.667,4.779-10.667,10.667v117.333H10.667C4.779,490.667,0,495.445,0,501.333 C0,507.221,4.779,512,10.667,512H32h64h64h64h64h64h64h64h21.333c5.888,0,10.667-4.779,10.667-10.667 C512,495.445,507.221,490.667,501.333,490.667z"})))),fn||(fn=r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M448,0c-23.531,0-42.667,19.136-42.667,42.667c0,7.893,2.304,15.189,6.037,21.547l-69.824,69.824 C335.189,130.304,327.893,128,320,128c-13.376,0-25.195,6.315-33.024,15.979l-52.416-14.955c0-0.341,0.107-0.661,0.107-1.024 c0-23.531-19.136-42.667-42.667-42.667S149.333,104.469,149.333,128c0,6.208,1.387,12.053,3.776,17.365l-66.667,53.184 C79.915,194.453,72.256,192,64,192c-23.531,0-42.667,19.136-42.667,42.667c0,23.531,19.136,42.667,42.667,42.667 c23.531,0,42.667-19.136,42.667-42.667c0-7.488-2.112-14.443-5.525-20.565l65.344-52.117c7.147,5.376,15.915,8.683,25.515,8.683 c15.637,0,29.205-8.555,36.629-21.141l49.429,14.101c-0.405,2.304-0.725,4.629-0.725,7.04c0,23.531,19.136,42.667,42.667,42.667 c23.531,0,42.667-19.136,42.667-42.667c0-7.893-2.304-15.189-6.037-21.547l69.845-69.845c6.336,3.755,13.632,6.059,21.525,6.059 c23.531,0,42.667-19.136,42.667-42.667C490.667,19.136,471.531,0,448,0z"})))),pn||(pn=r.createElement("g",null)),yn||(yn=r.createElement("g",null)),hn||(hn=r.createElement("g",null)),gn||(gn=r.createElement("g",null)),vn||(vn=r.createElement("g",null)),bn||(bn=r.createElement("g",null)),jn||(jn=r.createElement("g",null)),mn||(mn=r.createElement("g",null)),xn||(xn=r.createElement("g",null)),On||(On=r.createElement("g",null)),wn||(wn=r.createElement("g",null)),kn||(kn=r.createElement("g",null)),Tn||(Tn=r.createElement("g",null)),En||(En=r.createElement("g",null)),Dn||(Dn=r.createElement("g",null)))}var _n,An,Ln,Hn=r.forwardRef(In),Mn=(n.p,["title","titleId"]);function zn(){return(zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rn(e,t){var n=e.title,a=e.titleId,c=Bn(e,Mn);return r.createElement("svg",zn({id:"Layer_1",enableBackground:"new 0 0 512 512",height:512,viewBox:"0 0 512 512",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,_n||(_n=r.createElement("path",{d:"m464.883 64.267h-417.766c-25.98 0-47.117 21.136-47.117 47.149 0 25.98 21.137 47.117 47.117 47.117h417.766c25.98 0 47.117-21.137 47.117-47.117 0-26.013-21.137-47.149-47.117-47.149z"})),An||(An=r.createElement("path",{d:"m464.883 208.867h-417.766c-25.98 0-47.117 21.136-47.117 47.149 0 25.98 21.137 47.117 47.117 47.117h417.766c25.98 0 47.117-21.137 47.117-47.117 0-26.013-21.137-47.149-47.117-47.149z"})),Ln||(Ln=r.createElement("path",{d:"m464.883 353.467h-417.766c-25.98 0-47.117 21.137-47.117 47.149 0 25.98 21.137 47.117 47.117 47.117h417.766c25.98 0 47.117-21.137 47.117-47.117 0-26.012-21.137-47.149-47.117-47.149z"})))}var Wn=r.forwardRef(Rn),Fn=(n.p,function(){var e=a.a.useState("/dashboard"),t=Object(y.a)(e,2),n=t[0],r=t[1],c=a.a.useState(""),i=Object(y.a)(c,2),o=i[0],s=i[1],u=a.a.useState(!1),l=Object(y.a)(u,2),d=l[0],f=l[1],h=v((function(e){return e.auth.logout})),g=v((function(e){return e.reset})),m=b((function(e){return e.auth.uid})),x=Object(p.g)();a.a.useEffect((function(){r(x.pathname)}),[x]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"nav-bar ".concat(d?"":"closed"),children:[Object(j.jsxs)("div",{className:"nav-bar__inner-container",children:[Object(j.jsx)(Ge.a,{to:"/dashboard",onMouseOver:function(){return s("/dashboard")},onMouseLeave:function(){return s("")},children:Object(j.jsx)(cn,{id:"nav-bar-link-icon",style:{fill:"/dashboard"===n||"/dashboard"===o?"#c48852":"white",marginTop:20}})}),Object(j.jsx)(Ge.a,{to:"/analytics",onMouseEnter:function(){return s("/analytics")},onMouseLeave:function(){return s("")},children:Object(j.jsx)(Hn,{id:"nav-bar-link-icon",style:{fill:"/analytics"===n||"/analytics"===o?"#c48852":"white"}})}),Object(j.jsx)(Ge.a,{to:"/settings",onMouseEnter:function(){return s("/settings")},onMouseLeave:function(){return s("")},children:Object(j.jsx)(Cn,{id:"nav-bar-link-icon",style:{fill:"/settings"===n||"/settings"===o?"#c48852":"white"}})})]}),Object(j.jsx)("div",{onClick:function(){g(),h({userid:m})},children:Object(j.jsx)($t,{id:"nav-bar-logout-icon",height:50,width:50})})]}),Object(j.jsx)(Wn,{className:"nav-bar-toggle-icon ".concat(d?"":"closed"),onClick:function(){return f(!d)},style:{marginLeft:d?80:20}})]})}),Vn=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/auth/is-logged-in"),{method:"GET",mode:"cors",credentials:"include"});case 3:if(!(n=e.sent).ok){e.next=8;break}return e.abrupt("return",n.ok);case 8:return 401!==n.status&&wr.push("/internal-error"),e.abrupt("return",!1);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Jn=function(e){var t=v((function(e){return e.auth.setuid})),n=b((function(e){return e.auth.uid})),r=a.a.useState(!0),c=Object(y.a)(r,2),i=c[0],o=c[1],s=e.component;return a.a.useEffect((function(){Object(d.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=window.localStorage.getItem("userid"))){e.next=8;break}return e.next=4,Vn(n);case 4:e.sent?(t({userid:n}),o(!1)):o(!1),e.next=9;break;case 8:o(!1);case 9:case"end":return e.stop()}}),e)})))()}),[n,Vn,o]),i?Object(j.jsx)("div",{className:"login-loading",children:Object(j.jsx)(V,{style:{height:"6rem",width:"6rem"}})}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(p.b,{path:e.path,component:function(){return n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Fn,{}),Object(j.jsx)(s,{})]}):Object(j.jsx)(p.a,{to:"/"})}})})},Yn=function(e){var t=!!b((function(e){return e.auth.uid})),n=e.component;return Object(j.jsx)(p.b,{path:e.path,component:function(){return t?Object(j.jsx)(p.a,{to:"/dashboard"}):Object(j.jsx)(n,{})}})},Kn=function(){return a.a.useEffect((function(){window.onload=function(){wr.push("/")}}),[]),Object(j.jsx)("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:"Internal server error. Please refresh the page in a minute."})},Gn=(n(223),n(224),function(e){var t=e.tabs,n=e.onSelect,r=e.selectedIndex;return Object(j.jsx)("div",{className:"tab-bar",children:t.map((function(e,t){return Object(j.jsx)("h3",{onClick:function(){return n(t)},className:"tab-bar-item ".concat(r===t?"selected-item":""),children:e},e)}))})}),Xn=function(){var e=Object(d.a)(l.a.mark((function e(t,n,r){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/analytics/total-per-day?week_number=").concat(n,"&week_year=").concat(r),{method:"GET",mode:"cors",credentials:"include"});case 3:if(!(a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:c=e.sent,e.next=12;break;case 10:404!==a.status&&wr.push("/internal-error"),c=[];case 12:return e.abrupt("return",c);case 15:return e.prev=15,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),qn=function(){var e=Object(d.a)(l.a.mark((function e(t,n,r){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/analytics/total-per-week?week_number=").concat(n,"&week_year=").concat(r),{method:"GET",mode:"cors",credentials:"include"});case 3:if(!(a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:c=e.sent,e.next=12;break;case 10:404!==a.status&&wr.push("/internal-error"),c={categoryTypes:[],activityTypes:[]};case 12:return e.abrupt("return",c);case 15:return e.prev=15,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",{categoryTypes:[],activityTypes:[]});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Qn=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(t,"/analytics/available-dates"),{method:"GET",mode:"cors",credentials:"include"});case 3:if(n=e.sent,r=[],!n.ok){e.next=11;break}return e.next=8,n.json();case 8:r=e.sent,e.next=12;break;case 11:wr.push("/internal-error");case 12:return e.abrupt("return",r);case 15:return e.prev=15,e.t0=e.catch(0),wr.push("/internal-error"),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),Un=(n(225),n(127),function(e){var t=e.totalPerWeek;return Object(j.jsx)("table",{style:{width:"100%"},children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"total-per-week-table__category-header",style:{textAlign:"left"},children:"Category"}),Object(j.jsx)("th",{className:"total-per-week-table__category-header",children:"Hours"})]}),t.categoryTypes.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{className:"total-per-week-table__category-row__cell cell",children:[Object(j.jsx)("div",{className:"total-per-week-table__category-color",style:{backgroundColor:e.color}}),e.name]}),Object(j.jsx)("td",{className:"total-per-week-table__category-row__cell-count cell",children:h.Duration.fromObject({minutes:15*e.count}).toFormat("h:mm")})]},e.categoryid)}))]})})}),Zn=(n(226),function(){return Object(j.jsx)("div",{className:"no-analytics-banner",children:"You have no analytics for this week."})}),$n=n(372),er=n(80),tr=n(175),nr=n(94),rr=function(e){var t=e.totalPerWeek,n=function(e){var t=e.payload;return e.active&&t&&t.length?Object(j.jsx)("div",{className:"custom-tooltip",children:t.map((function(e){return Object(j.jsxs)("p",{style:{color:e.payload.stroke},children:[e.name,": ",e.value&&h.Duration.fromObject({minutes:15*e.value}).toFormat("h:mm"),"h"]})}))}):null};return Object(j.jsxs)($n.a,{width:300,height:300,children:[Object(j.jsx)(er.a,{content:Object(j.jsx)(n,{})}),Object(j.jsx)(tr.a,{data:t.categoryTypes,cx:145,cy:150,innerRadius:75,outerRadius:100,paddingAngle:5,dataKey:"count",animationBegin:10,animationDuration:900,children:t.categoryTypes.map((function(e,t){return Object(j.jsx)(nr.a,{fill:e.color,stroke:"black"},"cell-".concat(t))}))})]})},ar=(n(356),function(e){var t=e.totalPerWeek,n=e.pickedCategoryid,r=e.color,a=function(e){var t=e.payload;return e.active&&t&&t.length?Object(j.jsx)("div",{className:"custom-tooltip",children:t.map((function(e){return Object(j.jsxs)("p",{style:{color:e.payload.stroke},children:[e.name,": ",e.value&&h.Duration.fromObject({minutes:15*e.value}).toFormat("h:mm"),"h"]})}))}):null};return Object(j.jsxs)($n.a,{width:300,height:300,children:[Object(j.jsx)(er.a,{content:Object(j.jsx)(a,{})}),Object(j.jsx)(tr.a,{data:t.activityTypes.filter((function(e){return e.categoryid===n})),cx:145,cy:150,innerRadius:75,outerRadius:100,fill:"#8884d8",paddingAngle:5,dataKey:"count",animationBegin:10,animationDuration:900,nameKey:"long",children:t.activityTypes.map((function(e,t){return e.categoryid===n?Object(j.jsx)(nr.a,{fill:r,stroke:"black"},"cell-".concat(t)):null}))})]})}),cr=(n(357),function(e){var t=e.label,n=e.options,r=e.onSelect,a=e.selected,c=e.styleSelect,i=e.text;return Object(j.jsxs)("div",{className:"tool-bar-item__dropdown",children:[Object(j.jsx)("label",{className:"tool-bar-item__label",htmlFor:"dropdown",children:t}),Object(j.jsx)("select",{style:c,value:a,className:"tool-bar-item__dropdown__select",name:"dropdown",onChange:function(e){return r(e.target.value,e.target.selectedIndex)},children:n.map((function(e,t){return Object(j.jsx)("option",{value:e,children:i?i[t]:e},t)}))})]})}),ir=function(e){var t=e.totalPerWeek,n=e.pickedCategoryid,r=e.color;return Object(j.jsx)("table",{style:{width:"100%"},children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"total-per-week-table__category-header",style:{textAlign:"left"},children:"Activity  "}),Object(j.jsx)("th",{className:"total-per-week-table__category-header",children:"Hours total"})]}),t.activityTypes.map((function(e){return e.categoryid===n?Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{className:"total-per-week-table__category-row__cell cell",children:[Object(j.jsx)("div",{className:"total-per-week-table__category-color",style:{backgroundColor:r}}),e.long]}),Object(j.jsx)("td",{className:"total-per-week-table__category-row__cell-count cell",children:h.Duration.fromObject({minutes:15*e.count}).toFormat("h:mm")})]},e.activityid):null}))]})})},or=function(e){var t=e.totalPerWeek,n=a.a.useState(0),r=Object(y.a)(n,2),c=r[0],i=r[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"total-per-week-activities-wrapper__description-container",children:[Object(j.jsx)("p",{className:"total-per-week-activities-wrapper__description-text",children:"For category"}),Object(j.jsx)(cr,{styleSelect:{marginTop:0,marginBottom:"10px"},label:"",options:t.categoryTypes.flatMap((function(e){return e.name})),onSelect:function(e,t){return i(t)},selected:t.categoryTypes[c].name})]}),Object(j.jsx)(ir,{color:t.categoryTypes[c].color,totalPerWeek:t,pickedCategoryid:t.categoryTypes[c].categoryid}),Object(j.jsx)(ar,{color:t.categoryTypes[c].color,totalPerWeek:t,pickedCategoryid:t.categoryTypes[c].categoryid})]})},sr=function(e){var t=e.totalPerWeek;e.availableDates;return e.loading?Object(j.jsx)("div",{id:"main-dashboard-table__loading",children:Object(j.jsx)(V,{style:{height:"6rem",width:"6rem"}})}):Object(j.jsx)("div",{className:"total-per-week",children:0!==t.categoryTypes.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"card",style:{marginLeft:0,marginTop:0},children:[Object(j.jsx)("h3",{className:"card-title",children:"Categories"}),Object(j.jsx)(Un,{totalPerWeek:t}),Object(j.jsx)(rr,{totalPerWeek:t})]}),Object(j.jsxs)("div",{className:"card",style:{marginTop:0},children:[Object(j.jsx)("h3",{className:"card-title",children:"Activities"}),Object(j.jsx)(or,{totalPerWeek:t})]})]}):Object(j.jsx)(Zn,{})})},ur=(n(358),function(e){var t=e.children;return Object(j.jsx)("div",{className:"tool-bar",children:t})}),lr=function(e,t){for(var n=[],r=0;r<e.length;r++)e[r].year===t&&(n=e[r].weeks);return n},dr=function(e,t){return e.map((function(e){return"".concat(h.DateTime.fromObject({weekNumber:e,weekYear:t}).startOf("week").toLocaleString({month:"short",day:"numeric"})," - \n        ").concat(h.DateTime.fromObject({weekNumber:e,weekYear:t}).endOf("week").toLocaleString({month:"short",day:"numeric"}),"\n        ")}))},fr=function(){var e=b((function(e){return e.auth.uid})),t=b((function(e){return e.settings.currentDate})),n=v((function(e){return e.settings.setDate})),r=a.a.useState({categoryTypes:[],activityTypes:[]}),c=Object(y.a)(r,2),i=c[0],o=c[1],s=a.a.useState([]),u=Object(y.a)(s,2),f=u[0],p=u[1],h=a.a.useState(!0),g=Object(y.a)(h,2),m=g[0],x=g[1];a.a.useEffect((function(){Object(d.a)(l.a.mark((function n(){var r,a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return x(!0),n.next=3,qn(e,t.weekNr,t.year);case 3:return r=n.sent,o(r),n.next=7,Qn(e);case 7:a=n.sent,p(a),x(!1);case 10:case"end":return n.stop()}}),n)})))()}),[]);var O=function(){var r=Object(d.a)(l.a.mark((function r(a){var c;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,qn(e,a,t.year);case 2:c=r.sent,o(c),n({date:{weekNr:a,year:t.year}});case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),w=function(){var t=Object(d.a)(l.a.mark((function t(r){var a,c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=-1,c=0;case 2:if(!(c<f.length)){t.next=9;break}if(f[c].year!==r){t.next=6;break}return a=Math.max.apply(Math,Object(ot.a)(f[c].weeks)),t.abrupt("break",9);case 6:c++,t.next=2;break;case 9:if(-1===a){t.next=15;break}return t.next=12,qn(e,a,r);case 12:i=t.sent,o(i),n({date:{year:r,weekNr:a}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(ur,{children:[Object(j.jsx)(cr,{label:"Year",options:f.flatMap((function(e){return e.year})),onSelect:function(e){return w(parseInt(e.toString()))},selected:t.year}),Object(j.jsx)(cr,{label:"Week",options:lr(f,t.year),onSelect:function(e){return O(parseInt(e.toString()))},selected:t.weekNr,text:dr(lr(f,t.year),t.year)})]}),Object(j.jsx)(sr,{totalPerWeek:i,loading:m,availableDates:f})]})},pr=(n(53),n(368)),yr=n(369),hr=n(181),gr=n(182),vr=n(77),br=n(185),jr=function(e){var t=e.totalPerDay,n=b((function(e){return e.settings.categoryTypes})),r=function(e){var t=e.payload;return e.active&&t&&t.length?Object(j.jsx)("div",{className:"custom-tooltip",children:t.map((function(e){return Object(j.jsxs)("p",{style:{color:e.color},children:[e.dataKey,": ",e.value&&h.Duration.fromObject({minutes:15*e.value}).toFormat("h:mm"),"h"]})}))}):null};return Object(j.jsx)("div",{style:{width:"800px",height:"500px"},children:Object(j.jsx)(pr.a,{width:"100%",height:"100%",children:Object(j.jsxs)(yr.a,{width:500,height:300,data:function(e){for(var t=[],n=0;n<e.length;n++){for(var r={weekDay:h.Info.weekdays()[n]},a=0;a<e[n].categories.length;a++){r[e[n].categories[a].name]=e[n].categories[a].count}t.push(r)}return t}(t),margin:{top:20,right:30,left:20,bottom:5},children:[Object(j.jsx)(hr.a,{dataKey:"weekDay",stroke:"white"}),Object(j.jsx)(gr.a,{}),Object(j.jsx)(er.a,{content:Object(j.jsx)(r,{}),animationDuration:100,contentStyle:{backgroundColor:"white",borderRadius:"7px"},cursor:!1}),Object(j.jsx)(vr.a,{}),n.map((function(e){if(e.categoryid)return Object(j.jsx)(br.a,{dataKey:e.name,stackId:"a",fill:e.color},e.categoryid)}))]})})})},mr=function(e){var t=e.loading,n=e.totalPerDay;return t?Object(j.jsx)("div",{id:"main-dashboard-table__loading",children:Object(j.jsx)(V,{style:{height:"6rem",width:"6rem"}})}):Object(j.jsxs)("div",{className:"total-per-day card",style:{marginLeft:0,marginTop:"40px"},children:[Object(j.jsx)("h3",{className:"card-title",children:"Categories"}),Object(j.jsx)(jr,{totalPerDay:n})]})},xr=function(){var e=v((function(e){return e.settings.setCategoryTypes})),t=v((function(e){return e.settings.setActivityTypes})),n=v((function(e){return e.settings.setDate})),r=b((function(e){return e.auth.uid})),c=b((function(e){return e.settings.currentDate})),i=a.a.useState([]),o=Object(y.a)(i,2),s=o[0],u=o[1],f=a.a.useState([]),p=Object(y.a)(f,2),h=p[0],g=p[1],m=a.a.useState(!0),x=Object(y.a)(m,2),O=x[0],w=x[1];a.a.useEffect((function(){Object(d.a)(l.a.mark((function n(){var a,i,o;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w(!0),n.next=3,Fe(r);case 3:return a=n.sent,e({categoryTypes:a.categoryTypes}),t({activityTypes:a.activityTypes}),n.next=8,Xn(r,c.weekNr,c.year);case 8:return i=n.sent,u(i),n.next=12,Qn(r);case 12:o=n.sent,g(o),w(!1);case 15:case"end":return n.stop()}}),n)})))()}),[]);var k=function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn(r,t,c.year);case 2:a=e.sent,u(a),n({date:{weekNr:t,year:c.year}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=-1,c=0;case 2:if(!(c<h.length)){e.next=9;break}if(h[c].year!==t){e.next=6;break}return a=Math.max.apply(Math,Object(ot.a)(h[c].weeks)),e.abrupt("break",9);case 6:c++,e.next=2;break;case 9:if(-1===a){e.next=15;break}return e.next=12,Xn(r,a,t);case 12:i=e.sent,u(i),n({date:{year:t,weekNr:a}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(ur,{children:[Object(j.jsx)(cr,{label:"Year",options:h.flatMap((function(e){return e.year})),onSelect:function(e){return T(parseInt(e.toString()))},selected:c.year}),Object(j.jsx)(cr,{label:"Week",options:lr(h,c.year),onSelect:function(e){return k(parseInt(e.toString()))},selected:c.weekNr,text:dr(lr(h,c.year),c.year)})]}),Object(j.jsx)(mr,{loading:O,totalPerDay:s})]})},Or=function(){var e=["Weekly","Daily"],t=a.a.useState(0),n=Object(y.a)(t,2),r=n[0],c=n[1];return Object(j.jsxs)("div",{className:"analytics-dashboard-wrapper",children:[Object(j.jsx)(Gn,{tabs:e,selectedIndex:r,onSelect:function(e){return c(e)}}),e.map((function(e,t){return 0===r&&r===t?Object(j.jsx)(fr,{},t):1===r&&r===t?Object(j.jsx)(xr,{},t):void 0}))]})},wr=Object(f.a)(),kr=function(){return Object(j.jsx)(p.c,{history:wr,children:Object(j.jsxs)(p.d,{children:[Object(j.jsx)(Yn,{path:"/",component:rt,exact:!0}),Object(j.jsx)(Yn,{path:"/internal-error",component:Kn,exact:!1}),Object(j.jsx)(Jn,{path:"/analytics",component:Or}),Object(j.jsx)(Jn,{path:"/dashboard",component:nt}),Object(j.jsx)(Jn,{path:"/settings",component:Jt}),Object(j.jsx)(p.b,{component:at})]})})},Tr={uid:"",login:Object(o.f)(function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/auth/login",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email,password:n.password})});case 3:if(!(r=e.sent).ok){e.next=12;break}return e.next=7,r.json();case 7:a=e.sent,window.localStorage.setItem("userid",a[0].userid),t.setuid({userid:a[0].userid}),e.next=13;break;case 12:401!==r.status&&wr.push("/internal-error");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),wr.push("/internal-error");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()),setuid:Object(o.b)((function(e,t){e.uid=t.userid})),logout:Object(o.f)(function(){var e=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/user/".concat(n.userid,"/auth/logout"),{method:"GET",mode:"cors",credentials:"include"});case 3:e.sent.ok?(window.localStorage.removeItem("userid"),t.setuid({userid:""})):wr.push("/internal-error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),wr.push("/internal-error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}())},Er=n(371),Dr=n(95),Cr={notes:[],setNotes:Object(o.b)((function(e,t){e.notes=t.notes})),syncToDb:Object(o.g)((function(e){return[e.aboveDifference,e.belowDifference,e.deleteNoteStack,e.deleteNoteText,e.setNoteText]}),Object(Dr.debounce)(function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ar.getState().auth.uid,a=Ar.getState().notes.notes,c=n.payload.weekDay,e.prev=3,e.next=6,fetch("api/user/".concat(r,"/week/").concat(a[0][0].weekid,"/day/").concat(c,"/notes "),{method:"PATCH",mode:"cors",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a[c])});case 6:e.sent.ok||wr.push("/internal-error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),wr.push("/internal-error");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}(),200)),aboveDifferenceCache:{draggedIntoPosition:0,dragPosition:0,weekDay:-1,dragStackid:"",dragNoteText:""},aboveDifference:Object(o.b)((function(e,t){var n=t.draggedIntoPosition,r=t.dragPosition,a=t.weekDay,c=t.dragStackid,i=t.dragNoteText;if(e.aboveDifferenceCache.draggedIntoPosition!==n||e.aboveDifferenceCache.dragPosition!==r||e.aboveDifferenceCache.weekDay!==a||e.aboveDifferenceCache.dragStackid!==c||e.aboveDifferenceCache.dragNoteText!==i){for(var o=[],s=n;s<r;s++)o.push(s);for(var u=0;u<e.notes.length;u++)for(var l=0;l<e.notes[u].length;l++){var d=e.notes[u][l];if(o.includes(d.notePosition)&&d.weekDay===a){e.notes[u][l].stackid=c,e.notes[u][l].note=i;for(var f=0;f<e.notes.length;f++)for(var p=0;p<e.notes[f].length;p++){var y=e.notes[f][p];y.stackid===c&&y.weekDay===a&&y.notePosition!==n&&(e.notes[f][p].note="")}}}e.aboveDifferenceCache.draggedIntoPosition=n,e.aboveDifferenceCache.dragPosition=r,e.aboveDifferenceCache.weekDay=a,e.aboveDifferenceCache.dragStackid=c,e.aboveDifferenceCache.dragNoteText=i}})),belowDifferenceCache:{draggedIntoPosition:0,dragPosition:0,weekDay:-1,dragStackid:"",oldStackid:"",oldNote:""},belowDifference:Object(o.b)((function(e,t){var n=t.draggedIntoPosition,r=t.dragPosition,a=t.weekDay,c=t.dragStackid,i=t.oldStackid,o=t.oldNote;if(e.belowDifferenceCache.draggedIntoPosition!==n||e.belowDifferenceCache.dragPosition!==r||e.belowDifferenceCache.weekDay!==a||e.belowDifferenceCache.dragStackid!==c||e.belowDifferenceCache.oldStackid!==i||e.belowDifferenceCache.oldNote!==o){for(var s=[],u=r+1;u<n+1;u++)s.push(u);for(var l=0;l<e.notes.length;l++)for(var d=0;d<e.notes[l].length;d++){var f=e.notes[l][d];if(s.includes(f.notePosition)&&f.weekDay===a){e.notes[l][d].stackid=c;for(var p=0;p<e.notes.length;p++)for(var y=0;y<e.notes[p].length;y++){var h=e.notes[p][y];h.stackid===c&&h.weekDay===a&&h.notePosition!==r&&(e.notes[p][y].note="")}var g=N(e.notes.flat(1),i),v=g.min;if(v!==g.max)for(var b=0;b<e.notes.length;b++)for(var j=0;j<e.notes[b].length;j++){var m=e.notes[b][j];m.stackid===i&&m.weekDay===a&&m.notePosition===v+1&&(e.notes[b][j].note=o)}}}}e.belowDifferenceCache.draggedIntoPosition=n,e.belowDifferenceCache.dragPosition=r,e.belowDifferenceCache.weekDay=a,e.belowDifferenceCache.dragStackid=c,e.belowDifferenceCache.oldStackid=i,e.belowDifferenceCache.oldNote=o})),setNoteText:Object(o.b)((function(e,t){for(var n=0;n<e.notes.length;n++)for(var r=0;r<e.notes[n].length;r++){var a=e.notes[n][r];if(a.notePosition===t.notePosition&&a.weekDay===t.weekDay){e.notes[n][r].note=t.note;break}}})),deleteNoteText:Object(o.b)((function(e,t){for(var n=0;n<e.notes.length;n++)for(var r=0;r<e.notes[n].length;r++){var a=e.notes[n][r];if(a.notePosition===t.notePosition&&a.weekDay===t.weekDay){e.notes[n][r].note="";break}}})),deleteNoteStack:Object(o.b)((function(e,t){for(var n=N(Object(o.e)(e.notes.flat(1)),t.stackid).min,r=0;r<e.notes.length;r++)for(var a=0;a<e.notes[r].length;a++){var c=e.notes[r][a];c.stackid===t.stackid&&c.weekDay===t.weekDay&&(e.notes[r][a].stackid=Object(Er.a)(),c.notePosition!==n&&(e.notes[r][a].note=""))}}))},Sr=function(e){for(var t=[],n=[],r=0;r<e.length;r++)e[r].archived?n.push(e[r]):t.push(e[r]);return t.concat(n)},Nr={timeHoverIndex:0,setHoverIndex:Object(o.b)((function(e,t){e.timeHoverIndex=t.timeHoverIndex})),activityTypes:[],categoryTypes:[],setActivityTypes:Object(o.b)((function(e,t){e.activityTypes=t.activityTypes})),setCategoryTypes:Object(o.b)((function(e,t){e.categoryTypes=t.categoryTypes})),setCategoryType:Object(o.b)((function(e,t){for(var n=0;n<e.categoryTypes.length;n++)if(e.categoryTypes[n].categoryid===t.categoryType.categoryid){e.categoryTypes[n].name=t.categoryType.name,e.categoryTypes[n].color=t.categoryType.color;break}})),archiveCategoryType:Object(o.b)((function(e,t){var n=e.categoryTypes.findIndex((function(e){return e.categoryid===t.categoryType.categoryid}));n>-1&&(e.categoryTypes[n].archived=!0),e.categoryTypes=Sr(e.categoryTypes);for(var r=0;r<e.activityTypes.length;r++)e.activityTypes[r].categoryid===t.categoryType.categoryid&&(e.activityTypes[r].archived=!0)})),restoreCategoryType:Object(o.b)((function(e,t){var n=e.categoryTypes.findIndex((function(e){return e.categoryid===t.categoryType.categoryid}));n>-1&&(e.categoryTypes[n].archived=!1),e.categoryTypes=Sr(e.categoryTypes);for(var r=0;r<e.activityTypes.length;r++)e.activityTypes[r].categoryid===t.categoryType.categoryid&&(e.activityTypes[r].archived=!1)})),createActivityType:Object(o.b)((function(e,t){e.activityTypes[e.activityTypes.length]=t.activityType})),updateActivityType:Object(o.b)((function(e,t){for(var n=0;n<e.activityTypes.length;n++)if(e.activityTypes[n].activityid===t.activityType.activityid){e.activityTypes[n].long=t.activityType.long,e.activityTypes[n].short=t.activityType.short;break}})),archiveActivityType:Object(o.b)((function(e,t){var n=e.activityTypes.findIndex((function(e){return e.activityid===t.activityType.activityid}));n>-1&&(e.activityTypes[n].archived=!0)})),restoreActivityType:Object(o.b)((function(e,t){var n=e.activityTypes.findIndex((function(e){return e.activityid===t.activityType.activityid}));n>-1&&(e.activityTypes[n].archived=!1)})),updateCategoryType:Object(o.f)(function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ar.getState().auth.uid,e.prev=1,e.next=4,fetch("api/user/".concat(r,"/category-type/").concat(n.categoryType.categoryid),{method:"PATCH",mode:"cors",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({color:n.categoryType.color,name:n.categoryType.name})});case 4:if(!(a=e.sent).ok){e.next=12;break}return e.next=8,a.json();case 8:c=e.sent,t.setCategoryType({categoryType:c[0]}),e.next=13;break;case 12:wr.push("/internal-error");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),wr.push("/internal-error");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}()),currentDate:{weekNr:h.DateTime.now().weekNumber,year:h.DateTime.now().startOf("week").year},setDate:Object(o.b)((function(e,t){e.currentDate=t.date})),previousWeek:Object(o.b)((function(e,t){var n,r,a=t.date.weekNr,c=t.date.year;1===a?(r=c-1,n=h.DateTime.fromObject({weekYear:r}).weeksInWeekYear):(n=a-1,r=c),e.currentDate={weekNr:n,year:r}})),nextWeek:Object(o.b)((function(e,t){var n,r,a=t.date.weekNr,c=t.date.year;h.DateTime.fromObject({weekYear:c}).weeksInWeekYear===a?(n=1,r=c+1):(n=a+1,r=c),e.currentDate={weekNr:n,year:r}})),toCurrentWeek:Object(o.b)((function(e){e.currentDate={weekNr:h.DateTime.now().weekNumber,year:h.DateTime.now().startOf("week").year}})),featurePopupViewed:!0,setFeaturePopupViewed:Object(o.b)((function(e,t){e.featurePopupViewed=t.featurePopupViewed}))},Pr={categories:[],setCategories:Object(o.b)((function(e,t){e.categories=t.categories})),setCategory:Object(o.b)((function(e,t){for(var n=-1,r=-1,a=0;a<e.categories.length;a++)for(var c=0;c<e.categories[a].length;c++){var i=e.categories[a][c];if(i.categoryPosition===t.categoryPosition&&i.weekDay===t.weekDay){n=a,r=c;break}}-1!==n&&-1!==r&&(e.categories[n][r].categoryid=t.categoryid,e.categories[n][r].activityid=null)})),setActivity:Object(o.b)((function(e,t){for(var n=-1,r=-1,a=0;a<e.categories.length;a++)for(var c=0;c<e.categories[a].length;c++){var i=e.categories[a][c];if(i.categoryPosition===t.categoryPosition&&i.weekDay===t.weekDay){n=a,r=c;break}}-1!==n&&-1!==r&&(e.categories[n][r].activityid=t.activityid)})),syncToDb:Object(o.g)((function(e){return[e.categoryDragSet,e.setCategory,e.setActivity]}),Object(Dr.debounce)(function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ar.getState().auth.uid,a=Ar.getState().categories.categories,c=n.payload.weekDay,e.prev=3,e.next=6,fetch("api/user/".concat(r,"/week/").concat(a[0][0].weekid,"/day/").concat(c,"/categories "),{method:"PATCH",mode:"cors",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a[c])});case 6:e.sent.ok||wr.push("/internal-error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),wr.push("/internal-error");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}(),200)),categoryDragSet:Object(o.b)((function(e,t){var n=t.dragPosition,r=t.draggedIntoPosition,a=t.weekDay,c=t.dragCategoryid,i=t.dragActivityid,o=[];if(n>r)for(var s=r;s<n;s++)o.push(s);else for(var u=n+1;u<r+1;u++)o.push(u);for(var l=0;l<e.categories.length;l++)for(var d=0;d<e.categories[l].length;d++){var f=e.categories[l][d];o.includes(f.categoryPosition)&&f.weekDay===a&&(e.categories[l][d].categoryid=c,e.categories[l][d].activityid=i)}}))},Ir=Object(o.c)({auth:Tr,settings:Nr,notes:Cr,categories:Pr,reset:Object(o.b)((function(e,t){return Object(s.a)({},_r)}))}),_r=Ir.getState(),Ar=Ir;n(362);i.a.render(Object(j.jsx)(o.a,{store:Ar,children:Object(j.jsx)(kr,{})}),document.getElementById("root"))}},[[363,1,2]]]);
//# sourceMappingURL=main.ca2afd44.chunk.js.map